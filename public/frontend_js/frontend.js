function e(a){throw a;}var k=void 0,l=!0,m=null,p=!1;function aa(a){return function(){return this[a]}}var r,ba=ba||{},s=this;function ca(a){a=a.split(".");for(var b=s,c;c=a.shift();)if(b[c]!=m)b=b[c];else return m;return b}function da(){}
function ea(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function t(a){return a!==k}function v(a){return"array"==ea(a)}function fa(a){var b=ea(a);return"array"==b||"object"==b&&"number"==typeof a.length}function x(a){return"string"==typeof a}function ga(a){return"number"==typeof a}function ha(a){return"function"==ea(a)}function ia(a){var b=typeof a;return"object"==b&&a!=m||"function"==b}function y(a){return a[ja]||(a[ja]=++ka)}var ja="closure_uid_"+(1E9*Math.random()>>>0),ka=0;
function la(a,b,c){return a.call.apply(a.bind,arguments)}function ma(a,b,c){a||e(Error());if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function z(a,b,c){z=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?la:ma;return z.apply(m,arguments)}
function na(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var oa=Date.now||function(){return+new Date};function A(a,b){function c(){}c.prototype=b.prototype;a.i=b.prototype;a.prototype=new c};function pa(a){Error.captureStackTrace?Error.captureStackTrace(this,pa):this.stack=Error().stack||"";a&&(this.message=String(a))}A(pa,Error);pa.prototype.name="CustomError";function qa(a,b){for(var c=1;c<arguments.length;c++){var d=String(arguments[c]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,d)}return a}function ra(a){if(!sa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ta,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(ua,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(va,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(wa,"&quot;"));return a}var ta=/&/g,ua=/</g,va=/>/g,wa=/\"/g,sa=/[&<>\"]/;
function B(a,b){var c=t(k)?a.toFixed(k):String(a),d=c.indexOf(".");-1==d&&(d=c.length);d=Math.max(0,b-d);return Array(d+1).join("0")+c}function xa(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}function ya(a){var b=x(k)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,g){return b+g.toUpperCase()})};function za(a,b){b.unshift(a);pa.call(this,qa.apply(m,b));b.shift();this.Ad=a}A(za,pa);za.prototype.name="AssertionError";function Aa(a,b){e(new za("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1)))};var C=Array.prototype,Ba=C.indexOf?function(a,b,c){return C.indexOf.call(a,b,c)}:function(a,b,c){c=c==m?0:0>c?Math.max(0,a.length+c):c;if(x(a))return!x(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ca=C.forEach?function(a,b,c){C.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,g=x(a)?a.split(""):a,f=0;f<d;f++)f in g&&b.call(c,g[f],f,a)},Da=C.filter?function(a,b,c){return C.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,g=[],f=0,h=x(a)?
a.split(""):a,n=0;n<d;n++)if(n in h){var q=h[n];b.call(c,q,n,a)&&(g[f++]=q)}return g},Ea=C.some?function(a,b,c){return C.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,g=x(a)?a.split(""):a,f=0;f<d;f++)if(f in g&&b.call(c,g[f],f,a))return l;return p};function Fa(a){if(!v(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function Ga(a){return C.concat.apply(C,arguments)}function Ha(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ia(a,b,c){return 2>=arguments.length?C.slice.call(a,b):C.slice.call(a,b,c)};var Ja;function Ka(a,b){var c;c=a.className;c=x(c)&&c.match(/\S+/g)||[];for(var d=Ia(arguments,1),g=c.length+d.length,f=c,h=0;h<d.length;h++)0<=Ba(f,d[h])||f.push(d[h]);a.className=c.join(" ");return c.length==g};function La(a,b){for(var c in a)b.call(k,a[c],c,a)}function Ma(a,b){var c={},d;for(d in a)b.call(k,a[d],d,a)&&(c[d]=a[d]);return c}function Na(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Oa(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Pa(a){for(var b in a)return p;return l}var Qa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Ra(a,b){for(var c,d,g=1;g<arguments.length;g++){d=arguments[g];for(c in d)a[c]=d[c];for(var f=0;f<Qa.length;f++)c=Qa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var Sa,Ta,Ua,Va,Wa;function Xa(){return s.navigator?s.navigator.userAgent:m}function Ya(){return s.navigator}Va=Ua=Ta=Sa=p;var Za;if(Za=Xa()){var $a=Ya();Sa=0==Za.indexOf("Opera");Ta=!Sa&&-1!=Za.indexOf("MSIE");Ua=!Sa&&-1!=Za.indexOf("WebKit");Va=!Sa&&!Ua&&"Gecko"==$a.product}var ab=Sa,E=Ta,F=Va,G=Ua,bb=Ya();Wa=-1!=(bb&&bb.platform||"").indexOf("Mac");var cb=!!Ya()&&-1!=(Ya().appVersion||"").indexOf("X11");function db(){var a=s.document;return a?a.documentMode:k}var eb;
a:{var fb="",gb;if(ab&&s.opera)var hb=s.opera.version,fb="function"==typeof hb?hb():hb;else if(F?gb=/rv\:([^\);]+)(\)|;)/:E?gb=/MSIE\s+([^\);]+)(\)|;)/:G&&(gb=/WebKit\/(\S+)/),gb)var ib=gb.exec(Xa()),fb=ib?ib[1]:"";if(E){var jb=db();if(jb>parseFloat(fb)){eb=String(jb);break a}}eb=fb}var kb={};
function H(a){var b;if(!(b=kb[a])){b=0;for(var c=String(eb).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),g=Math.max(c.length,d.length),f=0;0==b&&f<g;f++){var h=c[f]||"",n=d[f]||"",q=RegExp("(\\d*)(\\D*)","g"),w=RegExp("(\\d*)(\\D*)","g");do{var u=q.exec(h)||["","",""],D=w.exec(n)||["","",""];if(0==u[0].length&&0==D[0].length)break;b=((0==u[1].length?0:parseInt(u[1],10))<(0==D[1].length?0:parseInt(D[1],10))?-1:(0==u[1].length?0:parseInt(u[1],
10))>(0==D[1].length?0:parseInt(D[1],10))?1:0)||((0==u[2].length)<(0==D[2].length)?-1:(0==u[2].length)>(0==D[2].length)?1:0)||(u[2]<D[2]?-1:u[2]>D[2]?1:0)}while(0==b)}b=kb[a]=0<=b}return b}var lb=s.document,mb=!lb||!E?k:db()||("CSS1Compat"==lb.compatMode?parseInt(eb,10):5);function nb(a,b){this.width=a;this.height=b}r=nb.prototype;r.o=function(){return new nb(this.width,this.height)};r.toString=function(){return"("+this.width+" x "+this.height+")"};r.q=function(){return!(this.width*this.height)};function ob(a,b){return a.width<=b.width&&a.height<=b.height}r.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};r.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};var pb=!E||E&&9<=mb,qb=!F&&!E||E&&E&&9<=mb||F&&H("1.9.1");E&&H("9");function rb(a,b){La(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in sb?a.setAttribute(sb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var sb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function tb(a,b,c){return ub(document,arguments)}function ub(a,b){var c=b[0],d=b[1];if(!pb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',ra(d.name),'"');if(d.type){c.push(' type="',ra(d.type),'"');var g={};Ra(g,d);delete g.type;d=g}c.push(">");c=c.join("")}c=a.createElement(c);d&&(x(d)?c.className=d:v(d)?Ka.apply(m,[c].concat(d)):rb(c,d));2<b.length&&vb(a,c,b);return c}
function vb(a,b,c){function d(c){c&&b.appendChild(x(c)?a.createTextNode(c):c)}for(var g=2;g<c.length;g++){var f=c[g];fa(f)&&!(ia(f)&&0<f.nodeType)?Ca(wb(f)?Ha(f):f,d):d(f)}}function xb(a){for(var b;b=a.firstChild;)a.removeChild(b)}function yb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function zb(a,b){if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else xb(a),a.appendChild(yb(a).createTextNode(String(b)))}function wb(a){if(a&&"number"==typeof a.length){if(ia(a))return"function"==typeof a.item||"string"==typeof a.item;if(ha(a))return"function"==typeof a.item}return p}function Ab(a){this.za=a||s.document||document}r=Ab.prototype;r.bc=rb;
r.Hc=function(a,b,c){return ub(this.za,arguments)};r.createElement=function(a){return this.za.createElement(a)};r.createTextNode=function(a){return this.za.createTextNode(String(a))};r.appendChild=function(a,b){a.appendChild(b)};r.Kb=function(a){return qb&&a.children!=k?a.children:Da(a.childNodes,function(a){return 1==a.nodeType})};function I(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}I.prototype.o=function(){return new I(this.top,this.right,this.bottom,this.left)};I.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};I.prototype.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};
I.prototype.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};function J(a,b,c){x(b)?Bb(a,c,b):La(b,na(Bb,a))}function Bb(a,b,c){var d;a:if(d=xa(c),a.style[d]===k&&(c=(G?"Webkit":F?"Moz":E?"ms":ab?"O":m)+ya(c),a.style[c]!==k)){d=c;break a}d&&(a.style[d]=b)}function K(a,b){var c=yb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,m))?c[b]||c.getPropertyValue(b)||"":""}function Cb(a,b,c){b instanceof nb?(c=b.height,b=b.width):c==k&&e(Error("missing height argument"));a.style.width=Db(b,l);a.style.height=Db(c,l)}
function Db(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Eb(a){if("none"!=(K(a,"display")||(a.currentStyle?a.currentStyle.display:m)||a.style&&a.style.display))return Fb(a);var b=a.style,c=b.display,d=b.visibility,g=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=Fb(a);b.display=c;b.position=g;b.visibility=d;return a}
function Fb(a){var b=a.offsetWidth,c=a.offsetHeight,d=G&&!b&&!c;return(!t(b)||d)&&a.getBoundingClientRect?(b=a.getBoundingClientRect(),E&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop),new nb(b.right-b.left,b.bottom-b.top)):new nb(b,c)}
function Gb(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var g=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return g}function Hb(a,b){var c=a.currentStyle?a.currentStyle[b]:m;return c?Gb(a,c):0}var Ib={thin:2,medium:4,thick:6};function Jb(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:m))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:m;return c in Ib?Ib[c]:Gb(a,c)}
function Kb(a){var b={};Ca(a.split(/\s*;\s*/),function(a){a=a.split(/\s*:\s*/);2==a.length&&(b[xa(a[0].toLowerCase())]=a[1])});return b};var Lb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function Mb(a){if("function"==typeof a.l)return a.l();if(x(a))return a.split("");if(fa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Na(a)}function Nb(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(fa(a)||x(a))Ca(a,b,c);else{var d;if("function"==typeof a.M)d=a.M();else if("function"!=typeof a.l)if(fa(a)||x(a)){d=[];for(var g=a.length,f=0;f<g;f++)d.push(f)}else d=Oa(a);else d=k;for(var g=Mb(a),f=g.length,h=0;h<f;h++)b.call(c,g[h],d&&d[h],a)}};function Ob(a,b){this.k={};this.h=[];var c=arguments.length;if(1<c){c%2&&e(Error("Uneven number of arguments"));for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.ab(a)}r=Ob.prototype;r.c=0;r.vb=0;r.j=aa("c");r.l=function(){Pb(this);for(var a=[],b=0;b<this.h.length;b++)a.push(this.k[this.h[b]]);return a};r.M=function(){Pb(this);return this.h.concat()};r.U=function(a){return Qb(this.k,a)};r.q=function(){return 0==this.c};
r.clear=function(){this.k={};this.vb=this.c=this.h.length=0};r.remove=function(a){return Qb(this.k,a)?(delete this.k[a],this.c--,this.vb++,this.h.length>2*this.c&&Pb(this),l):p};function Pb(a){if(a.c!=a.h.length){for(var b=0,c=0;b<a.h.length;){var d=a.h[b];Qb(a.k,d)&&(a.h[c++]=d);b++}a.h.length=c}if(a.c!=a.h.length){for(var g={},c=b=0;b<a.h.length;)d=a.h[b],Qb(g,d)||(a.h[c++]=d,g[d]=1),b++;a.h.length=c}}r.get=function(a,b){return Qb(this.k,a)?this.k[a]:b};
r.set=function(a,b){Qb(this.k,a)||(this.c++,this.h.push(a),this.vb++);this.k[a]=b};r.ab=function(a){var b;a instanceof Ob?(b=a.M(),a=a.l()):(b=Oa(a),a=Na(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};r.o=function(){return new Ob(this)};function Qb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Rb(a,b){var c;if(a instanceof Rb)this.p=t(b)?b:a.p,Sb(this,a.ha),c=a.Wa,L(this),this.Wa=c,c=a.ma,L(this),this.ma=c,Tb(this,a.Oa),c=a.fa,L(this),this.fa=c,Ub(this,a.u.o()),c=a.Ca,L(this),this.Ca=c;else if(a&&(c=String(a).match(Lb))){this.p=!!b;Sb(this,c[1]||"",l);var d=c[2]||"";L(this);this.Wa=d?decodeURIComponent(d):"";d=c[3]||"";L(this);this.ma=d?decodeURIComponent(d):"";Tb(this,c[4]);d=c[5]||"";L(this);this.fa=d?decodeURIComponent(d):"";Ub(this,c[6]||"",l);c=c[7]||"";L(this);this.Ca=c?
decodeURIComponent(c):""}else this.p=!!b,this.u=new Vb(m,0,this.p)}r=Rb.prototype;r.ha="";r.Wa="";r.ma="";r.Oa=m;r.fa="";r.Ca="";r.Uc=p;r.p=p;
r.toString=function(){var a=[],b=this.ha;b&&a.push(Wb(b,Xb),":");if(b=this.ma){a.push("//");var c=this.Wa;c&&a.push(Wb(c,Xb),"@");a.push(encodeURIComponent(String(b)));b=this.Oa;b!=m&&a.push(":",String(b))}if(b=this.fa)this.ma&&"/"!=b.charAt(0)&&a.push("/"),a.push(Wb(b,"/"==b.charAt(0)?Yb:Zb));(b=this.u.toString())&&a.push("?",b);(b=this.Ca)&&a.push("#",Wb(b,$b));return a.join("")};r.o=function(){return new Rb(this)};
function Sb(a,b,c){L(a);a.ha=c?b?decodeURIComponent(b):"":b;a.ha&&(a.ha=a.ha.replace(/:$/,""))}function Tb(a,b){L(a);b?(b=Number(b),(isNaN(b)||0>b)&&e(Error("Bad port number "+b)),a.Oa=b):a.Oa=m}function Ub(a,b,c){L(a);b instanceof Vb?(a.u=b,a.u.tb(a.p)):(c||(b=Wb(b,ac)),a.u=new Vb(b,0,a.p))}function L(a){a.Uc&&e(Error("Tried to modify a read-only Uri"))}r.tb=function(a){this.p=a;this.u&&this.u.tb(a);return this};function Wb(a,b){return x(a)?encodeURI(a).replace(b,bc):m}
function bc(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Xb=/[#\/\?@]/g,Zb=/[\#\?:]/g,Yb=/[\#\?]/g,ac=/[\#\?@]/g,$b=/#/g;function Vb(a,b,c){this.n=a||m;this.p=!!c}function M(a){if(!a.g&&(a.g=new Ob,a.c=0,a.n))for(var b=a.n.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),g=m,f=m;0<=d?(g=b[c].substring(0,d),f=b[c].substring(d+1)):g=b[c];g=decodeURIComponent(g.replace(/\+/g," "));g=cc(a,g);a.add(g,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}r=Vb.prototype;
r.g=m;r.c=m;r.j=function(){M(this);return this.c};r.add=function(a,b){M(this);this.n=m;a=cc(this,a);var c=this.g.get(a);c||this.g.set(a,c=[]);c.push(b);this.c++;return this};r.remove=function(a){M(this);a=cc(this,a);return this.g.U(a)?(this.n=m,this.c-=this.g.get(a).length,this.g.remove(a)):p};r.clear=function(){this.g=this.n=m;this.c=0};r.q=function(){M(this);return 0==this.c};r.U=function(a){M(this);a=cc(this,a);return this.g.U(a)};
r.M=function(){M(this);for(var a=this.g.l(),b=this.g.M(),c=[],d=0;d<b.length;d++)for(var g=a[d],f=0;f<g.length;f++)c.push(b[d]);return c};r.l=function(a){M(this);var b=[];if(a)this.U(a)&&(b=Ga(b,this.g.get(cc(this,a))));else{a=this.g.l();for(var c=0;c<a.length;c++)b=Ga(b,a[c])}return b};r.set=function(a,b){M(this);this.n=m;a=cc(this,a);this.U(a)&&(this.c-=this.g.get(a).length);this.g.set(a,[b]);this.c++;return this};r.get=function(a,b){var c=a?this.l(a):[];return 0<c.length?String(c[0]):b};
r.toString=function(){if(this.n)return this.n;if(!this.g)return"";for(var a=[],b=this.g.M(),c=0;c<b.length;c++)for(var d=b[c],g=encodeURIComponent(String(d)),d=this.l(d),f=0;f<d.length;f++){var h=g;""!==d[f]&&(h+="="+encodeURIComponent(String(d[f])));a.push(h)}return this.n=a.join("&")};r.o=function(){var a=new Vb;a.n=this.n;this.g&&(a.g=this.g.o(),a.c=this.c);return a};function cc(a,b){var c=String(b);a.p&&(c=c.toLowerCase());return c}
r.tb=function(a){a&&!this.p&&(M(this),this.n=m,Nb(this.g,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.remove(d),0<a.length&&(this.n=m,this.g.set(cc(this,d),Ha(a)),this.c+=a.length))},this));this.p=a};function dc(a){this.k=new Ob;a&&this.ab(a)}function ec(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+y(a):b.substr(0,1)+a}r=dc.prototype;r.j=function(){return this.k.j()};r.add=function(a){this.k.set(ec(a),a)};r.ab=function(a){a=Mb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};r.$b=function(a){a=Mb(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};r.remove=function(a){return this.k.remove(ec(a))};r.clear=function(){this.k.clear()};r.q=function(){return this.k.q()};r.l=function(){return this.k.l()};
r.o=function(){return new dc(this)};function fc(a){return gc(a||arguments.callee.caller,[])}
function gc(a,b){var c=[];if(0<=Ba(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(hc(a)+"(");for(var d=a.arguments,g=0;g<d.length;g++){0<g&&c.push(", ");var f;f=d[g];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=hc(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(gc(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function hc(a){if(ic[a])return ic[a];a=String(a);if(!ic[a]){var b=/function ([^\(]+)/.exec(a);ic[a]=b?b[1]:"[Anonymous]"}return ic[a]}var ic={};function jc(a,b,c,d,g){this.reset(a,b,c,d,g)}jc.prototype.fd=0;jc.prototype.Ib=m;jc.prototype.Hb=m;var kc=0;jc.prototype.reset=function(a,b,c,d,g){this.fd="number"==typeof g?g:kc++;this.Dd=d||oa();this.ra=a;this.Zc=b;this.zd=c;delete this.Ib;delete this.Hb};jc.prototype.ac=function(a){this.ra=a};function lc(a){this.$c=a}lc.prototype.Q=m;lc.prototype.ra=m;lc.prototype.cb=m;lc.prototype.Lb=m;function mc(a,b){this.name=a;this.value=b}mc.prototype.toString=aa("name");var nc=new mc("SEVERE",1E3),oc=new mc("WARNING",900),pc=new mc("INFO",800),qc=new mc("CONFIG",700),rc=new mc("FINE",500);r=lc.prototype;r.getParent=aa("Q");r.Kb=function(){this.cb||(this.cb={});return this.cb};r.ac=function(a){this.ra=a};
function sc(a){if(a.ra)return a.ra;if(a.Q)return sc(a.Q);Aa("Root logger has no level set.");return m}r.log=function(a,b,c){if(a.value>=sc(this).value){a=this.Oc(a,b,c);b="log:"+a.Zc;s.console&&(s.console.timeStamp?s.console.timeStamp(b):s.console.markTimeline&&s.console.markTimeline(b));s.msWriteProfilerMark&&s.msWriteProfilerMark(b);for(b=this;b;){c=b;var d=a;if(c.Lb)for(var g=0,f=k;f=c.Lb[g];g++)f(d);b=b.getParent()}}};
r.Oc=function(a,b,c){var d=new jc(a,String(b),this.$c);if(c){d.Ib=c;var g;var f=arguments.callee.caller;try{var h;var n=ca("window.location.href");if(x(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:n,stack:"Not available"};else{var q,w,u=p;try{q=c.lineNumber||c.yd||"Not available"}catch(D){q="Not available",u=l}try{w=c.fileName||c.filename||c.sourceURL||s.$googDebugFname||n}catch(N){w="Not available",u=l}h=u||!c.lineNumber||!c.fileName||!c.stack?{message:c.message,name:c.name,
lineNumber:q,fileName:w,stack:c.stack||"Not available"}:c}g="Message: "+ra(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+ra(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+ra(fc(f)+"-> ")}catch(se){g="Exception trying to expose exception! You win, we lose. "+se}d.Hb=g}return d};r.info=function(a,b){this.log(pc,a,b)};function O(a,b){a.log(rc,b,k)}var tc={},uc=m;
function vc(a){uc||(uc=new lc(""),tc[""]=uc,uc.ac(qc));var b;if(!(b=tc[a])){b=new lc(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=vc(a.substr(0,c));c.Kb()[d]=b;b.Q=c;tc[a]=b}return b};function P(){0!=wc&&(this.vd=Error().stack,xc[y(this)]=this)}var wc=0,xc={};P.prototype.la=p;P.prototype.K=function(){if(!this.la&&(this.la=l,this.f(),0!=wc)){var a=y(this);delete xc[a]}};P.prototype.f=function(){if(this.Ub)for(;this.Ub.length;)this.Ub.shift()()};function Q(a,b){this.type=a;this.currentTarget=this.target=b}r=Q.prototype;r.f=function(){};r.K=function(){};r.ga=p;r.defaultPrevented=p;r.Qa=l;r.preventDefault=function(){this.defaultPrevented=l;this.Qa=p};var yc=0;function zc(){}r=zc.prototype;r.key=0;r.R=p;r.ya=p;r.Ha=function(a,b,c,d,g,f){ha(a)?this.Ob=l:a&&a.handleEvent&&ha(a.handleEvent)?this.Ob=p:e(Error("Invalid listener argument"));this.H=a;this.Zb=b;this.src=c;this.type=d;this.capture=!!g;this.Fa=f;this.ya=p;this.key=++yc;this.R=p};r.handleEvent=function(a){return this.Ob?this.H.call(this.Fa||this.src,a):this.H.handleEvent.call(this.H,a)};var Ac=!E||E&&9<=mb,Bc=E&&!H("9");!G||H("528");F&&H("1.9b")||E&&H("8")||ab&&H("9.5")||G&&H("528");F&&!H("8")||E&&H("9");function Cc(a){Cc[" "](a);return a}Cc[" "]=da;function Dc(a,b){a&&this.Ha(a,b)}A(Dc,Q);r=Dc.prototype;r.target=m;r.relatedTarget=m;r.offsetX=0;r.offsetY=0;r.clientX=0;r.clientY=0;r.screenX=0;r.screenY=0;r.button=0;r.keyCode=0;r.charCode=0;r.ctrlKey=p;r.altKey=p;r.shiftKey=p;r.metaKey=p;r.bd=p;r.Gb=m;
r.Ha=function(a,b){var c=this.type=a.type;Q.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(F){var g;a:{try{Cc(d.nodeName);g=l;break a}catch(f){}g=p}g||(d=m)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=G||a.offsetX!==k?a.offsetX:a.layerX;this.offsetY=G||a.offsetY!==k?a.offsetY:a.layerY;this.clientX=a.clientX!==k?a.clientX:a.pageX;this.clientY=a.clientY!==k?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.bd=Wa?a.metaKey:a.ctrlKey;this.state=a.state;this.Gb=a;a.defaultPrevented&&this.preventDefault();delete this.ga};
r.preventDefault=function(){Dc.i.preventDefault.call(this);var a=this.Gb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=p,Bc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};r.f=function(){};var Ec={},R={},S={},Fc={};function T(a,b,c,d,g){if(v(b)){for(var f=0;f<b.length;f++)T(a,b[f],c,d,g);return m}a=Gc(a,b,c,p,d,g);b=a.key;Ec[b]=a;return b}
function Gc(a,b,c,d,g,f){b||e(Error("Invalid event type"));g=!!g;var h=R;b in h||(h[b]={c:0,m:0});h=h[b];g in h||(h[g]={c:0,m:0},h.c++);var h=h[g],n=y(a),q;h.m++;if(h[n]){q=h[n];for(var w=0;w<q.length;w++)if(h=q[w],h.H==c&&h.Fa==f){if(h.R)break;d||(q[w].ya=p);return q[w]}}else q=h[n]=[],h.c++;w=Hc();h=new zc;h.Ha(c,w,a,b,g,f);h.ya=d;w.src=a;w.H=h;q.push(h);S[n]||(S[n]=[]);S[n].push(h);a.addEventListener?(a==s||!a.Eb)&&a.addEventListener(b,w,g):a.attachEvent(b in Fc?Fc[b]:Fc[b]="on"+b,w);return h}
function Hc(){var a=Ic,b=Ac?function(c){return a.call(b.src,b.H,c)}:function(c){c=a.call(b.src,b.H,c);if(!c)return c};return b}function Jc(a,b,c,d,g){if(v(b))for(var f=0;f<b.length;f++)Jc(a,b[f],c,d,g);else a=Gc(a,b,c,l,d,g),Ec[a.key]=a}function Kc(a,b,c,d,g){if(v(b))for(var f=0;f<b.length;f++)Kc(a,b[f],c,d,g);else if(d=!!d,a=Lc(a,b,d))for(f=0;f<a.length;f++)if(a[f].H==c&&a[f].capture==d&&a[f].Fa==g){Mc(a[f].key);break}}
function Mc(a){var b=Ec[a];if(!b||b.R)return p;var c=b.src,d=b.type,g=b.Zb,f=b.capture;c.removeEventListener?(c==s||!c.Eb)&&c.removeEventListener(d,g,f):c.detachEvent&&c.detachEvent(d in Fc?Fc[d]:Fc[d]="on"+d,g);c=y(c);if(S[c]){var g=S[c],h=Ba(g,b);0<=h&&C.splice.call(g,h,1);0==g.length&&delete S[c]}b.R=l;if(b=R[d][f][c])b.Tb=l,Nc(d,f,c,b);delete Ec[a];return l}
function Nc(a,b,c,d){if(!d.Ka&&d.Tb){for(var g=0,f=0;g<d.length;g++)d[g].R?d[g].Zb.src=m:(g!=f&&(d[f]=d[g]),f++);d.length=f;d.Tb=p;0==f&&(delete R[a][b][c],R[a][b].c--,0==R[a][b].c&&(delete R[a][b],R[a].c--),0==R[a].c&&delete R[a])}}function Oc(a){var b=0;if(a!=m){if(a=y(a),S[a]){a=S[a];for(var c=a.length-1;0<=c;c--)Mc(a[c].key),b++}}else La(Ec,function(a,c){Mc(c);b++})}function Lc(a,b,c){var d=R;return b in d&&(d=d[b],c in d&&(d=d[c],a=y(a),d[a]))?d[a]:m}
function Pc(a,b,c,d,g){var f=1;b=y(b);if(a[b]){var h=--a.m,n=a[b];n.Ka?n.Ka++:n.Ka=1;try{for(var q=n.length,w=0;w<q;w++){var u=n[w];u&&!u.R&&(f&=Qc(u,g)!==p)}}finally{a.m=Math.max(h,a.m),n.Ka--,Nc(c,d,b,n)}}return Boolean(f)}function Qc(a,b){a.ya&&Mc(a.key);return a.handleEvent(b)}
function Ic(a,b){if(a.R)return l;var c=a.type,d=R;if(!(c in d))return l;var d=d[c],g,f;if(!Ac){g=b||ca("window.event");var h=l in d,n=p in d;if(h){if(0>g.keyCode||g.returnValue!=k)return l;a:{var q=p;if(0==g.keyCode)try{g.keyCode=-1;break a}catch(w){q=l}if(q||g.returnValue==k)g.returnValue=l}}q=new Dc;q.Ha(g,this);g=l;try{if(h){for(var u=[],D=q.currentTarget;D;D=D.parentNode)u.push(D);f=d[l];f.m=f.c;for(var N=u.length-1;!q.ga&&0<=N&&f.m;N--)q.currentTarget=u[N],g&=Pc(f,u[N],c,l,q);if(n){f=d[p];f.m=
f.c;for(N=0;!q.ga&&N<u.length&&f.m;N++)q.currentTarget=u[N],g&=Pc(f,u[N],c,p,q)}}else g=Qc(a,q)}finally{u&&(u.length=0)}return g}c=new Dc(b,this);return g=Qc(a,c)}var Rc=0;var U={};var V={jc:["BC","AD"],ic:["Before Christ","Anno Domini"],nc:"JFMAMJJASOND".split(""),tc:"JFMAMJJASOND".split(""),mc:"January February March April May June July August September October November December".split(" "),sc:"January February March April May June July August September October November December".split(" "),pc:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),vc:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),yc:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
xc:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),rc:"Sun Mon Tue Wed Thu Fri Sat".split(" "),wc:"Sun Mon Tue Wed Thu Fri Sat".split(" "),sd:"SMTWTFS".split(""),uc:"SMTWTFS".split(""),qc:["Q1","Q2","Q3","Q4"],oc:["1st quarter","2nd quarter","3rd quarter","4th quarter"],hc:["AM","PM"],wb:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],xb:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],kc:6,td:[5,6],lc:5};function Sc(a,b,c){ga(a)?(this.a=new Date(a,b||0,c||1),Tc(this,c||1)):ia(a)?(this.a=new Date(a.getFullYear(),a.getMonth(),a.getDate()),Tc(this,a.getDate())):(this.a=new Date(oa()),this.a.setHours(0),this.a.setMinutes(0),this.a.setSeconds(0),this.a.setMilliseconds(0))}r=Sc.prototype;r.Aa=V.kc;r.Ba=V.lc;r.o=function(){var a=new Sc(this.a);a.Aa=this.Aa;a.Ba=this.Ba;return a};r.getFullYear=function(){return this.a.getFullYear()};r.getYear=function(){return this.getFullYear()};r.getMonth=function(){return this.a.getMonth()};
r.getDate=function(){return this.a.getDate()};r.getTime=function(){return this.a.getTime()};r.getDay=function(){return this.a.getDay()};r.getUTCFullYear=function(){return this.a.getUTCFullYear()};r.getUTCMonth=function(){return this.a.getUTCMonth()};r.getUTCDate=function(){return this.a.getUTCDate()};r.getUTCHours=function(){return this.a.getUTCHours()};r.getUTCMinutes=function(){return this.a.getUTCMinutes()};r.getTimezoneOffset=function(){return this.a.getTimezoneOffset()};
function Uc(a){a=a.getTimezoneOffset();if(0==a)a="Z";else{var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c);a=(0<a?"-":"+")+B(c,2)+":"+B(b,2)}return a}r.set=function(a){this.a=new Date(a.getFullYear(),a.getMonth(),a.getDate())};r.setFullYear=function(a){this.a.setFullYear(a)};r.setMonth=function(a){this.a.setMonth(a)};r.setDate=function(a){this.a.setDate(a)};
r.add=function(a){if(a.rd||a.Yc){var b=this.getMonth()+a.Yc+12*a.rd,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0==c%4&&(0!=c%100||0==c%400)?29:28;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.Ic&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.Ic),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),Tc(this,a.getDate()))};r.Ta=function(a,b){return[this.getFullYear(),B(this.getMonth()+1,2),B(this.getDate(),2)].join(a?"-":"")+(b?Uc(this):"")};r.toString=function(){return this.Ta()};function Tc(a,b){a.getDate()!=b&&a.a.setUTCHours(a.a.getUTCHours()+(a.getDate()<b?1:-1))}r.valueOf=function(){return this.a.valueOf()};function Vc(a,b,c,d,g,f,h){this.a=ga(a)?new Date(a,b||0,c||1,d||0,g||0,f||0,h||0):new Date(a?a.getTime():oa())}A(Vc,Sc);r=Vc.prototype;r.getHours=function(){return this.a.getHours()};
r.getMinutes=function(){return this.a.getMinutes()};r.getSeconds=function(){return this.a.getSeconds()};r.getMilliseconds=function(){return this.a.getMilliseconds()};r.getUTCHours=function(){return this.a.getUTCHours()};r.getUTCMinutes=function(){return this.a.getUTCMinutes()};r.setHours=function(a){this.a.setHours(a)};r.setMinutes=function(a){this.a.setMinutes(a)};r.setSeconds=function(a){this.a.setSeconds(a)};r.setMilliseconds=function(a){this.a.setMilliseconds(a)};r.setUTCHours=function(a){this.a.setUTCHours(a)};
r.add=function(a){Sc.prototype.add.call(this,a);a.Rc&&this.setHours(this.a.getHours()+a.Rc);a.Xc&&this.setMinutes(this.a.getMinutes()+a.Xc);a.ed&&this.setSeconds(this.a.getSeconds()+a.ed)};r.Ta=function(a,b){var c=Sc.prototype.Ta.call(this,a);return a?c+" "+B(this.getHours(),2)+":"+B(this.getMinutes(),2)+":"+B(this.getSeconds(),2)+(b?Uc(this):""):c+"T"+B(this.getHours(),2)+B(this.getMinutes(),2)+B(this.getSeconds(),2)+(b?Uc(this):"")};r.toString=function(){return this.Ta()};
r.o=function(){var a=new Vc(this.a);a.Aa=this.Aa;a.Ba=this.Ba;return a};function W(){P.call(this)}A(W,P);r=W.prototype;r.Eb=l;r.sb=m;r.addEventListener=function(a,b,c,d){T(this,a,b,c,d)};r.removeEventListener=function(a,b,c,d){Kc(this,a,b,c,d)};
r.dispatchEvent=function(a){var b=a.type||a,c=R;if(b in c){if(x(a))a=new Q(a,this);else if(a instanceof Q)a.target=a.target||this;else{var d=a;a=new Q(b,this);Ra(a,d)}var d=1,g,c=c[b],b=l in c,f;if(b){g=[];for(f=this;f;f=f.sb)g.push(f);f=c[l];f.m=f.c;for(var h=g.length-1;!a.ga&&0<=h&&f.m;h--)a.currentTarget=g[h],d&=Pc(f,g[h],a.type,l,a)&&a.Qa!=p}if(p in c)if(f=c[p],f.m=f.c,b)for(h=0;!a.ga&&h<g.length&&f.m;h++)a.currentTarget=g[h],d&=Pc(f,g[h],a.type,p,a)&&a.Qa!=p;else for(g=this;!a.ga&&g&&f.m;g=g.sb)a.currentTarget=
g,d&=Pc(f,g,a.type,p,a)&&a.Qa!=p;a=Boolean(d)}else a=l;return a};r.f=function(){W.i.f.call(this);Oc(this);this.sb=m};function Wc(a,b,c){P.call(this);this.ob=a;this.Tc=b||0;this.F=c;this.Cc=z(this.Kc,this)}A(Wc,P);r=Wc.prototype;r.oa=0;r.f=function(){Wc.i.f.call(this);this.stop();delete this.ob;delete this.F};r.start=function(a){this.stop();var b=this.Cc;a=t(a)?a:this.Tc;ha(b)||(b&&"function"==typeof b.handleEvent?b=z(b.handleEvent,b):e(Error("Invalid listener argument")));this.oa=2147483647<a?-1:s.setTimeout(b,a||0)};r.stop=function(){this.Ia()&&s.clearTimeout(this.oa);this.oa=0};r.Ia=function(){return 0!=this.oa};
r.Kc=function(){this.oa=0;this.ob&&this.ob.call(this.F)};function X(a){P.call(this);a=a||{};this.id=a.id||m;this.duration=a.duration||10;this.b=tb("div")}A(X,W);r=X.prototype;r.d=vc("concerto.frontend.Content");function Xc(a){a.d.info("Content "+a.id+" is starting to load.");a.hd=new Vc;a.ld=new Wc(a.Nc,1E3*a.duration,a);T(a,Yc,a.gd,p,a);a.dispatchEvent(Zc);a.da()}r.bb=function(a){J(this.b,a)};r.da=function(){$c(this)};
function $c(a){a.Mc=new Vc;a.d.info("Content "+a.id+" is done loading. Took: "+(a.Mc.getMilliseconds()-a.hd.getMilliseconds())+"ms.");a.dispatchEvent(ad)}r.gd=function(){this.ld.start()};r.Nc=function(){this.dispatchEvent(bd)};var Zc="start_load_"+Rc++,ad="finish_load_"+Rc++,cd="start_render_"+Rc++,Yc="complete_render_"+Rc++,dd="stop_render_"+Rc++,ed="finish_render_"+Rc++,bd="display_end_"+Rc++;function fd(a,b,c){b=new nb(b,c);c=100;var d=a.cloneNode(l);d.style.display="none";document.body.appendChild(d);for(J(d,"fontSize",c+"px");1<c&&!ob(Eb(d),b);)J(d,"fontSize",--c+"px");document.body.removeChild(d);delete d;J(a,"fontSize",c+"px");return a};function gd(a){X.call(this,a);this.text=a.render_details.data;this.B=a.field.size.height;this.C=a.field.size.width}A(gd,X);U.Ticker=gd;gd.prototype.da=function(){zb(this.b,this.text);this.b=fd(this.b,this.C,this.B);console.log(this.b);$c(this)};function hd(a){X.call(this,a);this.B=a.field.size.height;this.C=a.field.size.width;this.Sc=a.render_details.data}A(hd,X);U.HtmlText=hd;hd.prototype.da=function(){this.b.innerHTML=this.Sc;this.b=fd(this.b,this.C,this.B);$c(this)};function id(a){P.call(this);this.F=a;this.h=[]}A(id,P);var jd=[];function kd(a,b,c,d){v(c)||(jd[0]=c,c=jd);for(var g=0;g<c.length;g++){var f=T(b,c[g],d||a,p,a.F||a);a.h.push(f)}}function ld(a,b,c,d,g,f){if(v(c))for(var h=0;h<c.length;h++)ld(a,b,c[h],d,g,f);else{a:{d=d||a;f=f||a.F||a;g=!!g;if(b=Lc(b,c,g))for(c=0;c<b.length;c++)if(!b[c].R&&b[c].H==d&&b[c].capture==g&&b[c].Fa==f){b=b[c];break a}b=m}b&&(b=b.key,Mc(b),a=a.h,b=Ba(a,b),0<=b&&C.splice.call(a,b,1))}}
id.prototype.$b=function(){Ca(this.h,Mc);this.h.length=0};id.prototype.f=function(){id.i.f.call(this);this.$b()};id.prototype.handleEvent=function(){e(Error("EventHandler.handleEvent not implemented"))};function md(a){P.call(this);this.qa={};this.pa={};this.F=new id(this);this.Q=a}A(md,W);var nd=[E?"readystatechange":"load","abort","error"];md.prototype.start=function(){var a=this.qa;Ca(Oa(a),function(b){var c=a[b];if(c&&(delete a[b],!this.la)){var d;d=this.Q?(this.Q?new Ab(yb(this.Q)):Ja||(Ja=new Ab)).Hc("img"):new Image;kd(this.F,d,nd,this.Vb);this.pa[b]=d;d.id=b;d.src=c}},this)};
md.prototype.Vb=function(a){var b=a.currentTarget;if(b){if("readystatechange"==a.type)if("complete"==b.readyState)a.type="load";else return;"undefined"==typeof b.naturalWidth&&("load"==a.type?(b.naturalWidth=b.width,b.naturalHeight=b.height):(b.naturalWidth=0,b.naturalHeight=0));this.dispatchEvent({type:a.type,target:b});if(!this.la&&(a=b.id,delete this.qa[a],b=this.pa[a]))delete this.pa[a],ld(this.F,b,nd,this.Vb),Pa(this.pa)&&Pa(this.qa)&&this.dispatchEvent("complete")}};
md.prototype.f=function(){delete this.qa;delete this.pa;var a=this.F;a&&"function"==typeof a.K&&a.K();md.i.f.call(this)};function od(a){X.call(this,a);this.pb=new md;T(this.pb,"load",this.Vc,p,this);this.B=a.field.size.height;this.C=a.field.size.width;this.W=m;a=new Rb(a.render_details.path);var b=this.B;L(a);a.u.set("height",b);b=this.C;L(a);a.u.set("width",b);a=a.toString();(a=x(a)?a:a.src)&&(this.pb.qa.graphic=a)}A(od,X);U.Graphic=od;od.prototype.da=function(){this.pb.start()};
od.prototype.Vc=function(a){this.W=a.target;this.b.appendChild(this.W);J(this.b,"margin",(this.B-this.W.height)/2+"px "+(this.C-this.W.width)/2+"px");Cb(this.W,"100%","100%");$c(this)};
od.prototype.bb=function(a){od.i.bb.call(this,a);var b=this.b;a=this.W.width;var c=this.W.height,d;d="CSS1Compat"==(yb(b)?new Ab(yb(yb(b))):Ja||(Ja=new Ab)).za.compatMode;if(E&&(!d||!H("8"))){var g=b.style;if(d){if(E){d=Hb(b,"paddingLeft");var f=Hb(b,"paddingRight"),h=Hb(b,"paddingTop"),n=Hb(b,"paddingBottom");d=new I(h,f,n,d)}else d=K(b,"paddingLeft"),f=K(b,"paddingRight"),h=K(b,"paddingTop"),n=K(b,"paddingBottom"),d=new I(parseFloat(h),parseFloat(f),parseFloat(n),parseFloat(d));E?(f=Jb(b,"borderLeft"),
h=Jb(b,"borderRight"),n=Jb(b,"borderTop"),b=Jb(b,"borderBottom"),b=new I(n,h,b,f)):(f=K(b,"borderLeftWidth"),h=K(b,"borderRightWidth"),n=K(b,"borderTopWidth"),b=K(b,"borderBottomWidth"),b=new I(parseFloat(n),parseFloat(h),parseFloat(b),parseFloat(f)));g.pixelWidth=a-b.left-d.left-d.right-b.right;g.pixelHeight=c-b.top-d.top-d.bottom-b.bottom}else g.pixelWidth=a,g.pixelHeight=c}else g=b.style,F?g.MozBoxSizing="border-box":G?g.WebkitBoxSizing="border-box":g.boxSizing="border-box",g.width=Math.max(a,
0)+"px",g.height=Math.max(c,0)+"px"};function pd(){}function qd(a){if("number"==typeof a){var b=new pd;b.Ra=a;var c;c=a;if(0==c)c="Etc/GMT";else{var d=["Etc/GMT",0>c?"-":"+"];c=Math.abs(c);d.push(Math.floor(c/60)%100);c%=60;0!=c&&d.push(":",B(c,2));c=d.join("")}b.ec=c;0==a?a="UTC":(c=["UTC",0>a?"+":"-"],a=Math.abs(a),c.push(Math.floor(a/60)%100),a%=60,0!=a&&c.push(":",a),a=c.join(""));b.ub=[a,a];b.Ua=[];return b}b=new pd;b.ec=a.id;b.Ra=-a.std_offset;b.ub=a.names;b.Ua=a.transitions;return b}
function rd(a,b){for(var c=Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes())/36E5,d=0;d<a.Ua.length&&c>=a.Ua[d];)d+=2;return 0==d?0:a.Ua[d-1]};function sd(a){this.Ma=[];"number"==typeof a?td(this,a):ud(this,a)}var vd=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvzZ]+/];function ud(a,b){for(;b;)for(var c=0;c<vd.length;++c){var d=b.match(vd[c]);if(d){d=d[0];b=b.substring(d.length);0==c&&("''"==d?d="'":(d=d.substring(1,d.length-1),d=d.replace(/\'\'/,"'")));a.Ma.push({text:d,type:c});break}}}
function wd(a,b,c){var d=c?6E4*(b.getTimezoneOffset()-(c.Ra-rd(c,b))):0,g=d?new Date(b.getTime()+d):b,f=g;c&&g.getTimezoneOffset()!=b.getTimezoneOffset()&&(f=new Date(b.getTime()+(d+(0<d?-864E5:864E5))));for(var d=[],h=0;h<a.Ma.length;++h){var n=a.Ma[h].text;1==a.Ma[h].type?d.push(xd(n,b,g,f,c)):d.push(n)}return d.join("")}function td(a,b){var c;if(4>b)c=V.wb[b];else if(8>b)c=V.xb[b-4];else if(12>b)c=V.wb[b-8]+" "+V.xb[b-8];else{td(a,10);return}ud(a,c)}
function Y(a){if(V.zc===k)return a;for(var b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);b.push(48<=d&&57>=d?String.fromCharCode(V.zc+d-48):a.charAt(c))}return b.join("")}
function xd(a,b,c,d,g){var f=a.length;switch(a.charAt(0)){case "G":return b=0<c.getFullYear()?1:0,4<=f?V.ic[b]:V.jc[b];case "y":return b=c.getFullYear(),0>b&&(b=-b),Y(2==f?B(b%100,2):String(b));case "M":a:switch(b=c.getMonth(),f){case 5:f=V.nc[b];break a;case 4:f=V.mc[b];break a;case 3:f=V.pc[b];break a;default:f=Y(B(b+1,f))}return f;case "k":return Y(B(d.getHours()||24,f));case "S":return Y((d.getTime()%1E3/1E3).toFixed(Math.min(3,f)).substr(2)+(3<f?B(0,f-3):""));case "E":return b=c.getDay(),4<=
f?V.yc[b]:V.rc[b];case "a":return f=d.getHours(),V.hc[12<=f&&24>f?1:0];case "h":return Y(B(d.getHours()%12||12,f));case "K":return Y(B(d.getHours()%12,f));case "H":return Y(B(d.getHours(),f));case "c":a:switch(b=c.getDay(),f){case 5:f=V.uc[b];break a;case 4:f=V.xc[b];break a;case 3:f=V.wc[b];break a;default:f=Y(B(b,1))}return f;case "L":a:switch(b=c.getMonth(),f){case 5:f=V.tc[b];break a;case 4:f=V.sc[b];break a;case 3:f=V.vc[b];break a;default:f=Y(B(b+1,f))}return f;case "Q":return b=Math.floor(c.getMonth()/
3),4>f?V.qc[b]:V.oc[b];case "d":return Y(B(c.getDate(),f));case "m":return Y(B(d.getMinutes(),f));case "s":return Y(B(d.getSeconds(),f));case "v":return f=g||qd(b.getTimezoneOffset()),f.ec;case "z":return a=g||qd(b.getTimezoneOffset()),4>f?a.ub[0<rd(a,b)?2:0]:a.ub[0<rd(a,b)?3:1];case "Z":return a=g||qd(b.getTimezoneOffset()),4>f?(f=-(a.Ra-rd(a,b)),b=[0>f?"-":"+"],f=Math.abs(f),b.push(B(Math.floor(f/60)%100,2),B(f%60,2)),f=b.join("")):(f=a.Ra-rd(a,b),b=["GMT"],b.push(0>=f?"+":"-"),f=Math.abs(f),b.push(B(Math.floor(f/
60)%100,2),":",B(f%60,2)),f=Y(b.join(""))),f;default:return""}};function yd(a){X.call(this,a);this.B=a.field.size.height;this.C=a.field.size.width;this.fc=a.timezone}A(yd,X);U.ClientTime=yd;yd.prototype.da=function(){var a=new Vc,b=new sd(2),c=new sd(7),a=wd(b,a,this.fc)+" "+wd(c,a,this.fc);zb(this.b,a);this.b=fd(this.b,this.C,this.B);$c(this)};function zd(a){X.call(this,a);this.B=a.field.size.height;this.C=a.field.size.width;this.ba=m;this.od=a.render_details.path;this.duration+=1}A(zd,X);U.RemoteVideo=zd;zd.prototype.da=function(){this.ba=document.createElement("iframe");this.ba.src=this.od;this.ba.xd=0;Cb(this.ba,"100%","100%");Cb(this.b,"100%","100%");J(this.ba,"border",0);this.b.appendChild(this.ba);$c(this)};function Ad(){this.L=[]}r=Ad.prototype;r.t=0;r.S=0;r.aa=function(a){this.L[this.S++]=a};r.V=function(){if(this.t!=this.S){var a=this.L[this.t];delete this.L[this.t];this.t++;return a}};r.Na=function(){return this.t==this.S?k:this.L[this.t]};r.j=function(){return this.S-this.t};r.q=function(){return 0==this.S-this.t};r.clear=function(){this.S=this.t=this.L.length=0};r.remove=function(a){a=Ba(this.L,a);if(0>a)return p;a==this.t?this.V():(C.splice.call(this.L,a,1),this.S--);return l};
r.l=function(){return this.L.slice(this.t,this.S)};var Bd={},Cd=m;function Dd(a){a=y(a);delete Bd[a];Pa(Bd)&&Cd&&Cd.stop()}function Ed(){Cd||(Cd=new Wc(function(){Fd()},20));var a=Cd;a.Ia()||a.start()}function Fd(){var a=oa();La(Bd,function(b){Gd(b,a)});Pa(Bd)||Ed()};function Hd(){P.call(this);this.z=Id;this.Fb=this.startTime=m}A(Hd,W);var Id=0;Hd.prototype.Y=function(){this.A("begin")};Hd.prototype.ea=function(){this.A("end")};Hd.prototype.A=function(a){this.dispatchEvent(a)};function Jd(a,b,c,d){Hd.call(this);(!v(a)||!v(b))&&e(Error("Start and end parameters must be arrays"));a.length!=b.length&&e(Error("Start and end points must be the same length"));this.ua=a;this.Lc=b;this.duration=c;this.zb=d;this.coords=[];this.Ed=p}A(Jd,Hd);r=Jd.prototype;r.Jb=0;r.s=0;r.nb=m;
r.play=function(a){if(a||this.z==Id)this.s=0,this.coords=this.ua;else if(1==this.z)return p;Dd(this);this.startTime=a=oa();-1==this.z&&(this.startTime-=this.duration*this.s);this.Fb=this.startTime+this.duration;this.nb=this.startTime;this.s||this.Y();this.A("play");-1==this.z&&this.A("resume");this.z=1;var b=y(this);b in Bd||(Bd[b]=this);Ed();Gd(this,a);return l};r.stop=function(a){Dd(this);this.z=Id;a&&(this.s=1);Kd(this,this.s);this.A("stop");this.ea()};
r.f=function(){this.z==Id||this.stop(p);this.A("destroy");Jd.i.f.call(this)};function Gd(a,b){a.s=(b-a.startTime)/(a.Fb-a.startTime);1<=a.s&&(a.s=1);a.Jb=1E3/(b-a.nb);a.nb=b;Kd(a,a.s);1==a.s?(a.z=Id,Dd(a),a.A("finish"),a.ea()):1==a.z&&a.rb()}function Kd(a,b){ha(a.zb)&&(b=a.zb(b));a.coords=Array(a.ua.length);for(var c=0;c<a.ua.length;c++)a.coords[c]=(a.Lc[c]-a.ua[c])*b+a.ua[c]}r.rb=function(){this.A("animate")};r.A=function(a){this.dispatchEvent(new Ld(a,this))};
function Ld(a,b){Q.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.Fd=b.coords[2];this.duration=b.duration;this.s=b.s;this.wd=b.Jb;this.state=b.z;this.ud=b}A(Ld,Q);function Z(a,b,c,d,g){Jd.call(this,b,c,d,g);this.element=a}A(Z,Jd);Z.prototype.Va=da;Z.prototype.rb=function(){this.Va();Z.i.rb.call(this)};Z.prototype.ea=function(){this.Va();Z.i.ea.call(this)};Z.prototype.Y=function(){this.Va();Z.i.Y.call(this)};function Md(a,b,c,d,g){ga(b)&&(b=[b]);ga(c)&&(c=[c]);Z.call(this,a,b,c,d,g);(1!=b.length||1!=c.length)&&e(Error("Start and end points must be 1D"))}A(Md,Z);
Md.prototype.Va=function(){var a=this.coords[0],b=this.element.style;"opacity"in b?b.opacity=a:"MozOpacity"in b?b.MozOpacity=a:"filter"in b&&(b.filter=""===a?"":"alpha(opacity="+100*a+")")};Md.prototype.show=function(){this.element.style.display=""};function Nd(a,b,c){Md.call(this,a,1,0,b,c)}A(Nd,Md);Nd.prototype.Y=function(){this.show();Nd.i.Y.call(this)};Nd.prototype.ea=function(){this.element.style.display="none";Nd.i.ea.call(this)};function Od(a,b,c){Md.call(this,a,0,1,b,c)}A(Od,Md);
Od.prototype.Y=function(){this.show();Od.i.Y.call(this)};function Pd(a,b,c){P.call(this);this.field=a;this.w=b||m;this.I=c||m}A(Pd,W);r=Pd.prototype;r.go=function(){this.w!=m?this.Yb():this.I!=m&&this.lb()};r.Yb=function(){this.w.dispatchEvent(dd);this.Xb()};r.Xb=function(){var a=this.w.$;a&&a.parentNode&&a.parentNode.removeChild(a);this.w.dispatchEvent(ed);this.I!=m&&this.lb()};r.lb=function(){this.I.dispatchEvent(cd);this.field.N(this.I.$);this.Nb()};r.Nb=function(){this.I.dispatchEvent(Yc)};function Qd(a,b,c){this.duration=500;Pd.call(this,a,b,c)}A(Qd,Pd);Qd.prototype.Yb=function(){this.w.dispatchEvent(dd);var a=new Nd(this.w.$,this.duration);T(a,"end",this.Xb,p,this);a.play()};Qd.prototype.lb=function(){this.I.dispatchEvent(cd);this.I.$.style.display="none";this.field.N(this.I.$);var a=new Od(this.I.$,this.duration);T(a,"end",this.Nb,p,this);a.play()};function Rd(a,b,c,d,g){P.call(this);this.position=a;this.id=b;this.name=c;this.Gc=d;this.w=this.Cd=m;this.P=new Ad;this.Ac=l;this.md=g||Qd;this.Ec=this.position.Sa.screen.Cb;this.b==m&&(a=tb("div",{id:"field_"+this.id,"class":"field"}),Cb(a,"100%","100%"),this.position.N(a),this.b=a);Sd(this)}A(Rd,W);Rd.prototype.d=vc("concerto.frontend.Field");Rd.prototype.N=function(a){this.b.appendChild(a)};
function Td(a){a.d.info("Field "+a.id+" is looking for new content.");if("Time"==a.name){var b={duration:15,id:0,name:"System Time",type:"ClientTime",render_details:{data:m},field:{size:Eb(a.position.b)}},b=new U.ClientTime(b);a.P.aa(b);T(b,ad,a.dc,p,a);T(b,bd,a.Ab,p,a);Xc(a.P.Na())}else a.Ec.send("field"+a.id,a.Gc,"GET","",m,1,z(function(a){a=a.target;if(!Ud(a))return this.d.log(oc,"Unable to fetch content. "+(x(a.O)?a.O:String(a.O)),k),setTimeout(z(function(){Sd(this,l)},this),10);a=Vd(a);if(!a.length)return this.d.info("No content to display here."),
setTimeout(z(function(){Sd(this,l)},this),10);Ca(a,z(function(a){a.field={size:Eb(this.position.b)};a.type in U?(a=new U[a.type](a),this.P.aa(a),T(a,ad,this.dc,p,this),T(a,bd,this.Ab,p,this)):this.d.log(oc,"Unable to find "+a.type+" renderer for content "+a.id,k)},this));!this.P.q()&&Xc(this.P.Na())},a))}
Rd.prototype.dc=function(){this.d.info("Field "+this.id+" is showing new content.");var a=this.P.V();a.bb(Wd(this.position));a.d.info("Content "+a.id+" is being rendered.");a.$=a.b;(new this.md(this,this.w,a)).go();this.Bd=this.w;this.w=a};
function Sd(a,b){b=b||p;a.d.info("Field "+a.id+" would like a new piece of content (error state: "+b+" ).");if(a.P.q())if(a.d.info("Field "+a.id+" needs to look for more content."),b){var c=Xd;a.d.info("In error state, sleeping for "+c+" seconds.");setTimeout(z(function(){Td(this)},a),1E3*c)}else Td(a);else Xc(a.P.Na())}Rd.prototype.Ab=function(){this.Ac?(this.d.info("Field "+this.id+" is auto-advancing."),Sd(this)):this.d.info("Field "+this.id+" is not advancing.")};var Xd=10+50*Math.random();function Yd(a,b){this.id=m;this.Sa=a;this.b=b||this.fb()}r=Yd.prototype;r.d=vc("concerto.frontend.Position");r.fb=function(){var a=tb("div",{id:"position_"+this.id,"class":"position"});J(a,"position","absolute");this.Sa.N(a);return a};
r.load=function(a){this.id=a.id;this.Bc=parseFloat(a.bottom);this.Rb=parseFloat(a.left);this.dd=parseFloat(a.right);this.gc=parseFloat(a.top);this.jd=a.style;var b=this.b,c=100*this.Rb+"%",d=100*this.gc+"%",g=F&&(Wa||cb)&&H("1.9");b.style.left=Db(c,g);b.style.top=Db(d,g);Cb(this.b,100*(this.dd-this.Rb)+"%",100*(this.Bc-this.gc)+"%");this.field=new Rd(this,a.field.id,a.field.name,a.field_contents_path);this.bc()};r.N=function(a){this.b.appendChild(a)};
r.bc=function(){rb(this.b,{id:"position_"+this.id,"class":"position"});J(this.b,Zd)};function Wd(a){a=Kb(a.jd);a=Ma(a,function(a,b){return!(0<=Ba($d,b.toLowerCase()))});var b={};Ra(b,ae);Ra(b,a);return b}var $d="overflow width height top left bottom right".split(" "),Zd={overflow:"hidden"},ae={};function be(a,b){this.screen=a;this.path=this.id=m;this.cd=[];this.b=b||this.fb()}be.prototype.d=vc("concerto.frontend.Template");be.prototype.fb=function(){var a=tb("div",{id:"template","class":"template"});Cb(a,"100%","100%");this.screen.N(a);return a};be.prototype.load=function(a){this.id=a.id;this.fa=a.path;rb(this.b,{id:"template_"+this.id});ce(this);a.positions!=m&&Ca(a.positions,z(function(a){var c=new Yd(this);c.load(a);a=this.cd;0<=Ba(a,c)||a.push(c)},this))};
function ce(a){var b=Eb(a.b),c=new Rb(a.fa),d=b.height;L(c);c.u.set("height",d);b=b.width;L(c);c.u.set("width",b);J(a.b,"background-image","url("+c.toString()+")");J(a.b,"background-size","100% 100%");J(a.b,"background-repeat","no-repeat")}be.prototype.N=function(a){this.b.appendChild(a)};function de(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}e(Error("Invalid JSON string: "+a))};function ee(){}ee.prototype.xa=m;var fe;function ge(){}A(ge,ee);function he(a){return(a=ie(a))?new ActiveXObject(a):new XMLHttpRequest}function je(a){var b={};ie(a)&&(b[0]=l,b[1]=l);return b}
function ie(a){if(!a.Mb&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Mb=d}catch(g){}}e(Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed"))}return a.Mb}fe=new ge;function ke(a){P.call(this);this.headers=new Ob;this.ja=a||m}A(ke,W);ke.prototype.d=vc("goog.net.XhrIo");var le=/^https?$/i;r=ke.prototype;r.J=p;r.e=m;r.$a=m;r.Ja="";r.Qb="";r.ca=0;r.O="";r.ib=p;r.Ga=p;r.kb=p;r.X=p;r.T=0;r.Z=m;r.ta="";r.pd=p;r.cc=function(a){this.T=Math.max(0,a)};
r.send=function(a,b,c,d){this.e&&e(Error("[goog.net.XhrIo] Object is active with another request="+this.Ja+"; newUri="+a));b=b?b.toUpperCase():"GET";this.Ja=a;this.O="";this.ca=0;this.Qb=b;this.ib=p;this.J=l;this.e=this.ja?he(this.ja):he(fe);this.$a=this.ja?this.ja.xa||(this.ja.xa=je(this.ja)):fe.xa||(fe.xa=je(fe));this.e.onreadystatechange=z(this.Wb,this);try{O(this.d,$(this,"Opening Xhr")),this.kb=l,this.e.open(b,a,l),this.kb=p}catch(g){O(this.d,$(this,"Error opening Xhr: "+g.message));me(this,
g);return}a=c||"";var f=this.headers.o();d&&Nb(d,function(a,b){f.set(b,a)});d=s.FormData&&a instanceof s.FormData;"POST"==b&&(!f.U("Content-Type")&&!d)&&f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Nb(f,function(a,b){this.e.setRequestHeader(b,a)},this);this.ta&&(this.e.responseType=this.ta);"withCredentials"in this.e&&(this.e.withCredentials=this.pd);try{this.Z&&(s.clearTimeout(this.Z),this.Z=m),0<this.T&&(O(this.d,$(this,"Will abort after "+this.T+"ms if incomplete")),
this.Z=s.setTimeout(z(this.kd,this),this.T)),O(this.d,$(this,"Sending request")),this.Ga=l,this.e.send(a),this.Ga=p}catch(h){O(this.d,$(this,"Send error: "+h.message)),me(this,h)}};r.kd=function(){"undefined"!=typeof ba&&this.e&&(this.O="Timed out after "+this.T+"ms, aborting",this.ca=8,O(this.d,$(this,this.O)),this.dispatchEvent("timeout"),this.abort(8))};function me(a,b){a.J=p;a.e&&(a.X=l,a.e.abort(),a.X=p);a.O=b;a.ca=5;ne(a);oe(a)}
function ne(a){a.ib||(a.ib=l,a.dispatchEvent("complete"),a.dispatchEvent("error"))}r.abort=function(a){this.e&&this.J&&(O(this.d,$(this,"Aborting")),this.J=p,this.X=l,this.e.abort(),this.X=p,this.ca=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),oe(this))};r.f=function(){this.e&&(this.J&&(this.J=p,this.X=l,this.e.abort(),this.X=p),oe(this,l));ke.i.f.call(this)};r.Wb=function(){!this.kb&&!this.Ga&&!this.X?this.ad():pe(this)};r.ad=function(){pe(this)};
function pe(a){if(a.J&&"undefined"!=typeof ba)if(a.$a[1]&&4==qe(a)&&2==re(a))O(a.d,$(a,"Local request error detected and ignored"));else if(a.Ga&&4==qe(a))s.setTimeout(z(a.Wb,a),0);else if(a.dispatchEvent("readystatechange"),4==qe(a)){O(a.d,$(a,"Request complete"));a.J=p;try{if(Ud(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.ca=6;var b;try{b=2<qe(a)?a.e.statusText:""}catch(c){O(a.d,"Can not get status: "+c.message),b=""}a.O=b+" ["+re(a)+"]";ne(a)}}finally{oe(a)}}}
function oe(a,b){if(a.e){var c=a.e,d=a.$a[0]?da:m;a.e=m;a.$a=m;a.Z&&(s.clearTimeout(a.Z),a.Z=m);b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(g){a.d.log(nc,"Problem encountered resetting onreadystatechange: "+g.message,k)}}}r.Ia=function(){return!!this.e};
function Ud(a){var b=re(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=l;break a;default:c=p}if(!c){if(b=0===b)a=String(a.Ja).match(Lb)[1]||m,!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1)),b=!le.test(a?a.toLowerCase():"");c=b}return c}function qe(a){return a.e?a.e.readyState:0}function re(a){try{return 2<qe(a)?a.e.status:-1}catch(b){return a.d.log(oc,"Can not get status: "+b.message,k),-1}}
function Vd(a){if(a.e)return de(a.e.responseText)}function $(a,b){return b+" ["+a.Qb+" "+a.Ja+" "+re(a)+"]"};function te(a,b){P.call(this);this.Sb=a||0;this.La=b||10;this.Sb>this.La&&e(Error(ue));this.D=new Ad;this.G=new dc;this.hb=0;this.mb=m;this.va()}A(te,P);var ue="[goog.structs.Pool] Min can not be greater than max";r=te.prototype;r.Da=function(){var a=oa();if(!(this.mb!=m&&a-this.mb<this.hb)){for(var b;0<this.D.j()&&!(b=this.D.V(),this.qb(b));)this.va();!b&&this.j()<this.La&&(b=this.gb());b&&(this.mb=a,this.G.add(b));return b}};
r.ka=function(a){this.G.remove(a);this.qb(a)&&this.j()<this.La?this.D.aa(a):ve(a)};r.va=function(){for(var a=this.D;this.j()<this.Sb;)a.aa(this.gb());for(;this.j()>this.La&&0<this.D.j();)ve(a.V())};r.gb=function(){return{}};function ve(a){if("function"==typeof a.K)a.K();else for(var b in a)a[b]=m}r.qb=function(a){return"function"==typeof a.Dc?a.Dc():l};r.j=function(){return this.D.j()+this.G.j()};r.q=function(){return this.D.q()&&this.G.q()};
r.f=function(){te.i.f.call(this);0<this.G.j()&&e(Error("[goog.structs.Pool] Objects not released"));delete this.G;for(var a=this.D;!a.q();)ve(a.V());delete this.D};function we(a,b){this.Pb=a;this.Xa=b}we.prototype.getKey=aa("Pb");we.prototype.o=function(){return new we(this.Pb,this.Xa)};function xe(a){this.r=[];if(a)a:{var b,c;if(a instanceof xe){if(b=a.M(),c=a.l(),0>=a.j()){a=this.r;for(var d=0;d<b.length;d++)a.push(new we(b[d],c[d]));break a}}else b=Oa(a),c=Na(a);for(d=0;d<b.length;d++)ye(this,b[d],c[d])}}function ye(a,b,c){var d=a.r;d.push(new we(b,c));b=d.length-1;a=a.r;for(c=a[b];0<b;)if(d=b-1>>1,a[d].getKey()>c.getKey())a[b]=a[d],b=d;else break;a[b]=c}r=xe.prototype;
r.remove=function(){var a=this.r,b=a.length,c=a[0];if(!(0>=b)){if(1==b)Fa(a);else{a[0]=a.pop();for(var a=0,b=this.r,d=b.length,g=b[a];a<d>>1;){var f=2*a+1,h=2*a+2,f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>g.getKey())break;b[a]=b[f];a=f}b[a]=g}return c.Xa}};r.Na=function(){var a=this.r;return 0==a.length?k:a[0].Xa};r.l=function(){for(var a=this.r,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].Xa);return b};r.M=function(){for(var a=this.r,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};
r.U=function(a){return Ea(this.r,function(b){return b.getKey()==a})};r.o=function(){return new xe(this)};r.j=function(){return this.r.length};r.q=function(){return 0==this.r.length};r.clear=function(){Fa(this.r)};function ze(){xe.call(this)}A(ze,xe);ze.prototype.aa=function(a,b){ye(this,a,b)};ze.prototype.V=function(){return this.remove()};function Ae(a,b){this.Pa=new ze;te.call(this,a,b)}A(Ae,te);r=Ae.prototype;r.Da=function(a,b){if(!a){var c=Ae.i.Da.call(this);c&&this.hb&&(this.Jc=s.setTimeout(z(this.Ea,this),this.hb));return c}this.Pa.aa(t(b)?b:100,a);this.Ea()};r.Ea=function(){for(var a=this.Pa;0<a.j();){var b=this.Da();if(b)a.V().apply(this,[b]);else break}};r.ka=function(a){Ae.i.ka.call(this,a);this.Ea()};r.va=function(){Ae.i.va.call(this);this.Ea()};
r.f=function(){Ae.i.f.call(this);s.clearTimeout(this.Jc);this.Pa.clear();this.Pa=m};function Be(a,b,c){Ae.call(this,b,c);this.jb=a}A(Be,Ae);Be.prototype.gb=function(){var a=new ke,b=this.jb;b&&Nb(b,function(b,d){a.headers.set(d,b)});return a};Be.prototype.qb=function(a){return!a.la&&!a.Ia()};function Ce(a,b,c,d,g){P.call(this);this.sa=t(a)?a:1;this.T=t(g)?Math.max(0,g):0;this.ia=new Be(b,c,d);this.v=new Ob;this.na=new id(this)}A(Ce,W);var De="ready complete success error abort timeout".split(" ");r=Ce.prototype;r.cc=function(a){this.T=Math.max(0,a)};r.send=function(a,b,c,d,g,f,h,n,q){this.v.get(a)&&e(Error("[goog.net.XhrManager] ID in use"));b=new Ee(b,z(this.Qc,this,a),c,d,g,h,t(n)?n:this.sa,q);this.v.set(a,b);a=z(this.Pc,this,a);this.ia.Da(a,f);return b};
r.abort=function(a,b){var c=this.v.get(a);if(c){var d=c.Za;c.yb=l;b&&(d&&(ld(this.na,d,De,c.Ya),Jc(d,"ready",function(){var a=this.ia;a.G.remove(d)&&a.ka(d)},p,this)),this.v.remove(a));d&&d.abort()}};r.Pc=function(a,b){var c=this.v.get(a);c&&!c.Za?(kd(this.na,b,De,c.Ya),b.cc(this.T),b.ta=c.ta,c.Za=c.qd=b,this.dispatchEvent(new Fe("ready",this,a,b)),Ge(this,a,b),c.yb&&b.abort()):(c=this.ia,c.G.remove(b)&&c.ka(b))};
r.Qc=function(a,b){var c=b.target;switch(b.type){case "ready":Ge(this,a,c);break;case "complete":a:{var d=this.v.get(a);if(7==c.ca||Ud(c)||d.wa>d.sa)if(this.dispatchEvent(new Fe("complete",this,a,c)),d&&(d.Bb=l,d.eb)){c=d.eb.call(c,b);break a}c=m}return c;case "success":this.dispatchEvent(new Fe("success",this,a,c));break;case "timeout":case "error":d=this.v.get(a);d.wa>d.sa&&this.dispatchEvent(new Fe("error",this,a,c));break;case "abort":this.dispatchEvent(new Fe("abort",this,a,c))}return m};
function Ge(a,b,c){var d=a.v.get(b);d&&!d.Bb&&!(d.wa>d.sa)?(d.wa++,c.send(d.nd,d.Wc,d.Fc,d.jb)):(d&&(ld(a.na,c,De,d.Ya),a.v.remove(b)),a=a.ia,a.G.remove(c)&&a.ka(c))}r.f=function(){Ce.i.f.call(this);this.ia.K();this.ia=m;this.na.K();this.na=m;var a=this.v;Nb(a,function(a){a.K()});a.clear();this.v=m};function Fe(a,b,c,d){Q.call(this,a,b);this.id=c;this.qd=this.Za=d}A(Fe,Q);
function Ee(a,b,c,d,g,f,h,n){P.call(this);this.nd=a;this.Wc=c||"GET";this.Fc=d;this.jb=g||m;this.sa=t(h)?h:1;this.wa=0;this.yb=this.Bb=p;this.Ya=b;this.eb=f;this.ta=n||"";this.Za=m}A(Ee,P);Ee.prototype.f=function(){Ee.i.f.call(this);delete this.Ya;delete this.eb};function He(a,b){this.Cb=new Ce(2,m,0,2);this.id=a;this.name="New Screen";this.Db=b||document.body;Ie(this)}var Je=["concerto","frontend","Screen"],Ke=s;!(Je[0]in Ke)&&Ke.execScript&&Ke.execScript("var "+Je[0]);for(var Le;Je.length&&(Le=Je.shift());)!Je.length&&t(He)?Ke[Le]=He:Ke=Ke[Le]?Ke[Le]:Ke[Le]={};He.prototype.d=vc("concerto.frontend.Screen");
function Ie(a){var b=tb("div",{id:"screen_"+a.id,"class":"screen"});Cb(b,"100%","100%");J(b,"position","relative");xb(a.Db);a.Db.appendChild(b);a.b=b;b=["../../frontend/",a.id,"/setup.json"].join("");a.d.info("Requesting screen config from "+b);a.Cb.send("setup",b,"GET","",m,1,z(function(a){a=Vd(a.target);this.name=a.name;a.template!=m&&(this.Sa=new be(this),this.Sa.load(a.template))},a))}He.prototype.N=function(a){this.b.appendChild(a)};
