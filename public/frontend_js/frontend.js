var f,aa=aa||{},l=this;function ba(a){a=a.split(".");for(var b=l,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}function ca(){}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function m(a){return void 0!==a}function n(a){return"array"==da(a)}function ea(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function p(a){return"string"==typeof a}function q(a){return"number"==typeof a}function fa(a){return"function"==da(a)}function ha(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ia(a){return a[ja]||(a[ja]=++ka)}
var ja="closure_uid_"+(1E9*Math.random()>>>0),ka=0;function la(a,b,c){return a.call.apply(a.bind,arguments)}function ma(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function r(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?la:ma;return r.apply(null,arguments)}function na(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var s=Date.now||function(){return+new Date};
function t(a,b){function c(){}c.prototype=b.prototype;a.l=b.prototype;a.prototype=new c;a.Md=function(a,c,g){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};var oa;function pa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,pa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}t(pa,Error);pa.prototype.name="CustomError";function qa(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function ra(a){if(!sa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ta,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(ua,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(va,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(wa,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(xa,"&#39;"));return a}var ta=/&/g,ua=/</g,va=/>/g,wa=/"/g,xa=/'/g,sa=/[&<>"']/;
function ya(a,b){var c=RegExp(za(b),"");return a.replace(c,"")}function za(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function u(a,b){var c=m(void 0)?a.toFixed(void 0):String(a),d=c.indexOf(".");-1==d&&(d=c.length);d=Math.max(0,b-d);return Array(d+1).join("0")+c}function Aa(a,b){return a<b?-1:a>b?1:0}function Ba(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}
function Ca(a){var b=p(void 0)?za(void 0):"\\s";return a.replace(RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};function Da(a,b){b.unshift(a);pa.call(this,qa.apply(null,b));b.shift()}t(Da,pa);Da.prototype.name="AssertionError";function Ea(a,b){throw new Da("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};function Fa(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function Ga(a,b){var c={},d;for(d in a)b.call(void 0,a[d],d,a)&&(c[d]=a[d]);return c}function Ia(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Ja(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Ka(a){for(var b in a)return!1;return!0}var La="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Ma(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var g=0;g<La.length;g++)c=La[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var v=Array.prototype,w=v.indexOf?function(a,b,c){return v.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},x=v.forEach?function(a,b,c){v.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,g=0;g<d;g++)g in e&&b.call(c,e[g],g,a)},Na=v.filter?function(a,b,c){return v.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],g=0,h=p(a)?
a.split(""):a,k=0;k<d;k++)if(k in h){var A=h[k];b.call(c,A,k,a)&&(e[g++]=A)}return e},Oa=v.some?function(a,b,c){return v.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&b.call(c,e[g],g,a))return!0;return!1};function Pa(a){var b;a:{b=Qa;for(var c=a.length,d=p(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:p(a)?a.charAt(b):a[b]}
function Ra(a){if(!n(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function Sa(a){return v.concat.apply(v,arguments)}function Ta(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Ua(a,b,c){return 2>=arguments.length?v.slice.call(a,b):v.slice.call(a,b,c)};function y(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}y.prototype.v=function(){return new y(this.top,this.right,this.bottom,this.left)};y.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};y.prototype.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};
y.prototype.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};var Va,Wa,Xa,Ya,Za;function $a(){return l.navigator?l.navigator.userAgent:null}function ab(){return l.navigator}Ya=Xa=Wa=Va=!1;var bb;if(bb=$a()){var cb=ab();Va=0==bb.lastIndexOf("Opera",0);Wa=!Va&&(-1!=bb.indexOf("MSIE")||-1!=bb.indexOf("Trident"));Xa=!Va&&-1!=bb.indexOf("WebKit");Ya=!Va&&!Xa&&!Wa&&"Gecko"==cb.product}var db=Va,z=Wa,B=Ya,C=Xa,eb=ab();Za=-1!=(eb&&eb.platform||"").indexOf("Mac");var fb=!!ab()&&-1!=(ab().appVersion||"").indexOf("X11");
function gb(){var a=l.document;return a?a.documentMode:void 0}var hb;a:{var ib="",jb;if(db&&l.opera)var kb=l.opera.version,ib="function"==typeof kb?kb():kb;else if(B?jb=/rv\:([^\);]+)(\)|;)/:z?jb=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:C&&(jb=/WebKit\/(\S+)/),jb)var lb=jb.exec($a()),ib=lb?lb[1]:"";if(z){var mb=gb();if(mb>parseFloat(ib)){hb=String(mb);break a}}hb=ib}var nb={};
function D(a){var b;if(!(b=nb[a])){b=0;for(var c=String(hb).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),g=0;0==b&&g<e;g++){var h=c[g]||"",k=d[g]||"",A=RegExp("(\\d*)(\\D*)","g"),Ha=RegExp("(\\d*)(\\D*)","g");do{var L=A.exec(h)||["","",""],ga=Ha.exec(k)||["","",""];if(0==L[0].length&&0==ga[0].length)break;b=Aa(0==L[1].length?0:parseInt(L[1],10),0==ga[1].length?0:parseInt(ga[1],10))||Aa(0==L[2].length,0==ga[2].length)||
Aa(L[2],ga[2])}while(0==b)}b=nb[a]=0<=b}return b}var ob=l.document,pb=ob&&z?gb()||("CSS1Compat"==ob.compatMode?parseInt(hb,10):5):void 0;function qb(a,b){this.width=a;this.height=b}f=qb.prototype;f.v=function(){return new qb(this.width,this.height)};f.toString=function(){return"("+this.width+" x "+this.height+")"};f.B=function(){return!(this.width*this.height)};function rb(a,b){return a.width<=b.width&&a.height<=b.height}f.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};f.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function sb(a,b){var c;c=a.className;c=p(c)&&c.match(/\S+/g)||[];for(var d=Ua(arguments,1),e=c.length+d.length,g=c,h=0;h<d.length;h++)0<=w(g,d[h])||g.push(d[h]);a.className=c.join(" ");return c.length==e};var tb=!z||z&&9<=pb,ub=!B&&!z||z&&z&&9<=pb||B&&D("1.9.1");z&&D("9");function vb(a){return a?new wb(xb(a)):oa||(oa=new wb)}function yb(a,b){Fa(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in zb?a.setAttribute(zb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var zb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Ab(a,b,c){return Bb(document,arguments)}function Bb(a,b){var c=b[0],d=b[1];if(!tb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',ra(d.name),'"');if(d.type){c.push(' type="',ra(d.type),'"');var e={};Ma(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(p(d)?c.className=d:n(d)?sb.apply(null,[c].concat(d)):yb(c,d));2<b.length&&Cb(a,c,b);return c}
function Cb(a,b,c){function d(c){c&&b.appendChild(p(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var g=c[e];!ea(g)||ha(g)&&0<g.nodeType?d(g):x(Db(g)?Ta(g):g,d)}}function Eb(a){var b=document,c=b.createElement("div");z?(c.innerHTML="<br>"+a,c.removeChild(c.firstChild)):c.innerHTML=a;if(1==c.childNodes.length)return c.removeChild(c.firstChild);for(a=b.createDocumentFragment();c.firstChild;)a.appendChild(c.firstChild);return a}function Fb(a){for(var b;b=a.firstChild;)a.removeChild(b)}
function Gb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Hb(a){if(void 0!=a.firstElementChild)a=a.firstElementChild;else for(a=a.firstChild;a&&1!=a.nodeType;)a=a.nextSibling;return a}function xb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function Db(a){if(a&&"number"==typeof a.length){if(ha(a))return"function"==typeof a.item||"string"==typeof a.item;if(fa(a))return"function"==typeof a.item}return!1}function wb(a){this.Ma=a||l.document||document}f=wb.prototype;f.yc=yb;
f.gd=function(a,b,c){return Bb(this.Ma,arguments)};f.createElement=function(a){return this.Ma.createElement(a)};f.createTextNode=function(a){return this.Ma.createTextNode(String(a))};f.appendChild=function(a,b){a.appendChild(b)};f.jc=function(a){return ub&&void 0!=a.children?a.children:Na(a.childNodes,function(a){return 1==a.nodeType})};function E(a,b,c){p(b)?Ib(a,c,b):Fa(b,na(Ib,a))}function Ib(a,b,c){var d;a:if(d=Ba(c),void 0===a.style[d]&&(c=(C?"Webkit":B?"Moz":z?"ms":db?"O":null)+Ca(c),void 0!==a.style[c])){d=c;break a}d&&(a.style[d]=b)}function F(a,b){var c=xb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function Jb(a,b){return F(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}
function G(a,b,c){if(b instanceof qb)c=b.height,b=b.width;else if(void 0==c)throw Error("missing height argument");a.style.width=Kb(b,!0);a.style.height=Kb(c,!0)}function Kb(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Lb(a){var b=Mb;if("none"!=Jb(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,g=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=g;c.visibility=e;return a}
function Mb(a){var b=a.offsetWidth,c=a.offsetHeight,d=C&&!b&&!c;if((!m(b)||d)&&a.getBoundingClientRect){var e;a:{try{e=a.getBoundingClientRect()}catch(g){e={left:0,top:0,right:0,bottom:0};break a}z&&a.ownerDocument.body&&(a=a.ownerDocument,e.left-=a.documentElement.clientLeft+a.body.clientLeft,e.top-=a.documentElement.clientTop+a.body.clientTop)}return new qb(e.right-e.left,e.bottom-e.top)}return new qb(b,c)}
function Nb(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var e=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return e}function Ob(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?Nb(a,c):0}var Pb={thin:2,medium:4,thick:6};
function Qb(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in Pb?Pb[c]:Nb(a,c)}function Rb(a){var b={};x(a.split(/\s*;\s*/),function(a){a=a.split(/\s*:\s*/);2==a.length&&(b[Ba(a[0].toLowerCase())]=a[1])});return b};function Sb(){this.uc=s()}new Sb;Sb.prototype.set=function(a){this.uc=a};Sb.prototype.reset=function(){this.set(s())};Sb.prototype.get=function(){return this.uc};function Tb(a){if("function"==typeof a.s)return a.s();if(p(a))return a.split("");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ia(a)}function Ub(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ea(a)||p(a))x(a,b,c);else{var d;if("function"==typeof a.J)d=a.J();else if("function"!=typeof a.s)if(ea(a)||p(a)){d=[];for(var e=a.length,g=0;g<e;g++)d.push(g)}else d=Ja(a);else d=void 0;for(var e=Tb(a),g=e.length,h=0;h<g;h++)b.call(c,e[h],d&&d[h],a)}};function H(a,b){this.p={};this.j=[];this.h=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.rb(a)}f=H.prototype;f.n=function(){return this.h};f.s=function(){Vb(this);for(var a=[],b=0;b<this.j.length;b++)a.push(this.p[this.j[b]]);return a};f.J=function(){Vb(this);return this.j.concat()};f.ia=function(a){return Wb(this.p,a)};f.B=function(){return 0==this.h};
f.clear=function(){this.p={};this.h=this.j.length=0};f.remove=function(a){return Wb(this.p,a)?(delete this.p[a],this.h--,this.j.length>2*this.h&&Vb(this),!0):!1};function Vb(a){if(a.h!=a.j.length){for(var b=0,c=0;b<a.j.length;){var d=a.j[b];Wb(a.p,d)&&(a.j[c++]=d);b++}a.j.length=c}if(a.h!=a.j.length){for(var e={},c=b=0;b<a.j.length;)d=a.j[b],Wb(e,d)||(a.j[c++]=d,e[d]=1),b++;a.j.length=c}}f.get=function(a,b){return Wb(this.p,a)?this.p[a]:b};
f.set=function(a,b){Wb(this.p,a)||(this.h++,this.j.push(a));this.p[a]=b};f.rb=function(a){var b;a instanceof H?(b=a.J(),a=a.s()):(b=Ja(a),a=Ia(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};f.v=function(){return new H(this)};function Wb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Xb(a){this.p=new H;a&&this.rb(a)}function Yb(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+ia(a):b.substr(0,1)+a}f=Xb.prototype;f.n=function(){return this.p.n()};f.add=function(a){this.p.set(Yb(a),a)};f.rb=function(a){a=Tb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};f.Ca=function(a){a=Tb(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};f.remove=function(a){return this.p.remove(Yb(a))};f.clear=function(){this.p.clear()};f.B=function(){return this.p.B()};f.s=function(){return this.p.s()};
f.v=function(){return new Xb(this)};function Zb(a){return $b(a||arguments.callee.caller,[])}
function $b(a,b){var c=[];if(0<=w(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(ac(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&c.push(", ");var g;g=d[e];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=ac(g))?g:"[fn]";break;default:g=typeof g}40<g.length&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);c.push(")\n");try{c.push($b(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function ac(a){if(bc[a])return bc[a];a=String(a);if(!bc[a]){var b=/function ([^\(]+)/.exec(a);bc[a]=b?b[1]:"[Anonymous]"}return bc[a]}var bc={};function cc(a,b,c,d,e){this.reset(a,b,c,d,e)}cc.prototype.ic=null;cc.prototype.hc=null;var dc=0;cc.prototype.reset=function(a,b,c,d,e){"number"==typeof e||dc++;d||s();this.za=a;this.yd=b;delete this.ic;delete this.hc};cc.prototype.xc=function(a){this.za=a};function I(a){this.zd=a}I.prototype.ea=null;I.prototype.za=null;I.prototype.tb=null;I.prototype.kc=null;function ec(a,b){this.name=a;this.value=b}ec.prototype.toString=function(){return this.name};var fc=new ec("SEVERE",1E3),gc=new ec("WARNING",900),hc=new ec("INFO",800),ic=new ec("CONFIG",700),jc=new ec("FINE",500);f=I.prototype;f.getParent=function(){return this.ea};f.jc=function(){this.tb||(this.tb={});return this.tb};f.xc=function(a){this.za=a};
function kc(a){if(a.za)return a.za;if(a.ea)return kc(a.ea);Ea("Root logger has no level set.");return null}f.log=function(a,b,c){if(a.value>=kc(this).value)for(fa(b)&&(b=b()),a=this.nd(a,b,c),b="log:"+a.yd,l.console&&(l.console.timeStamp?l.console.timeStamp(b):l.console.markTimeline&&l.console.markTimeline(b)),l.msWriteProfilerMark&&l.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.kc)for(var e=0,g=void 0;g=c.kc[e];e++)g(d);b=b.getParent()}};
f.nd=function(a,b,c){var d=new cc(a,String(b),this.zd);if(c){d.ic=c;var e;var g=arguments.callee.caller;try{var h;var k=ba("window.location.href");if(p(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:k,stack:"Not available"};else{var A,Ha,L=!1;try{A=c.lineNumber||c.Nd||"Not available"}catch(ga){A="Not available",L=!0}try{Ha=c.fileName||c.filename||c.sourceURL||l.$googDebugFname||k}catch(jf){Ha="Not available",L=!0}h=!L&&c.lineNumber&&c.fileName&&c.stack&&c.message&&c.name?
c:{message:c.message||"Not available",name:c.name||"UnknownError",lineNumber:A,fileName:Ha,stack:c.stack||"Not available"}}e="Message: "+ra(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+ra(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+ra(Zb(g)+"-> ")}catch(Ee){e="Exception trying to expose exception! You win, we lose. "+Ee}d.hc=e}return d};f.info=function(a,b){this.log(hc,a,b)};var lc={},mc=null;
function J(a){mc||(mc=new I(""),lc[""]=mc,mc.xc(ic));var b;if(!(b=lc[a])){b=new I(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=J(a.substr(0,c));c.jc()[d]=b;b.ea=c;lc[a]=b}return b};var nc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function oc(a){if(pc){pc=!1;var b=l.location;if(b){var c=b.href;if(c&&(c=(c=oc(c)[3]||null)&&decodeURIComponent(c))&&c!=b.hostname)throw pc=!0,Error();}}return a.match(nc)}var pc=C;function qc(a,b){var c;if(a instanceof qc)this.A=m(b)?b:a.A,rc(this,a.pa),c=a.mb,K(this),this.mb=c,c=a.ta,K(this),this.ta=c,sc(this,a.bb),c=a.fa,K(this),this.fa=c,tc(this,a.Ra().v()),c=a.Pa,K(this),this.Pa=c;else if(a&&(c=oc(String(a)))){this.A=!!b;rc(this,c[1]||"",!0);var d=c[2]||"";K(this);this.mb=d?decodeURIComponent(d):"";d=c[3]||"";K(this);this.ta=d?decodeURIComponent(d):"";sc(this,c[4]);d=c[5]||"";K(this);this.fa=d?decodeURIComponent(d):"";tc(this,c[6]||"",!0);c=c[7]||"";K(this);this.Pa=c?decodeURIComponent(c):
""}else this.A=!!b,this.I=new uc(null,0,this.A)}f=qc.prototype;f.pa="";f.mb="";f.ta="";f.bb=null;f.fa="";f.Pa="";f.td=!1;f.A=!1;f.toString=function(){var a=[],b=this.pa;b&&a.push(vc(b,wc),":");if(b=this.ta){a.push("//");var c=this.mb;c&&a.push(vc(c,wc),"@");a.push(encodeURIComponent(String(b)));b=this.bb;null!=b&&a.push(":",String(b))}if(b=this.fa)this.ta&&"/"!=b.charAt(0)&&a.push("/"),a.push(vc(b,"/"==b.charAt(0)?xc:yc));(b=this.I.toString())&&a.push("?",b);(b=this.Pa)&&a.push("#",vc(b,zc));return a.join("")};
f.v=function(){return new qc(this)};function rc(a,b,c){K(a);a.pa=c?b?decodeURIComponent(b):"":b;a.pa&&(a.pa=a.pa.replace(/:$/,""))}function sc(a,b){K(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.bb=b}else a.bb=null}function tc(a,b,c){K(a);b instanceof uc?(a.I=b,a.I.Kb(a.A)):(c||(b=vc(b,Ac)),a.I=new uc(b,0,a.A))}f.Ra=function(){return this.I};function K(a){if(a.td)throw Error("Tried to modify a read-only Uri");}f.Kb=function(a){this.A=a;this.I&&this.I.Kb(a);return this};
function vc(a,b){return p(a)?encodeURI(a).replace(b,Bc):null}function Bc(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var wc=/[#\/\?@]/g,yc=/[\#\?:]/g,xc=/[\#\?]/g,Ac=/[\#\?@]/g,zc=/#/g;function uc(a,b,c){this.u=a||null;this.A=!!c}
function M(a){if(!a.i&&(a.i=new H,a.h=0,a.u))for(var b=a.u.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=null,g=null;0<=d?(e=b[c].substring(0,d),g=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=Cc(a,e);a.add(e,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}f=uc.prototype;f.i=null;f.h=null;f.n=function(){M(this);return this.h};f.add=function(a,b){M(this);this.u=null;a=Cc(this,a);var c=this.i.get(a);c||this.i.set(a,c=[]);c.push(b);this.h++;return this};
f.remove=function(a){M(this);a=Cc(this,a);return this.i.ia(a)?(this.u=null,this.h-=this.i.get(a).length,this.i.remove(a)):!1};f.clear=function(){this.i=this.u=null;this.h=0};f.B=function(){M(this);return 0==this.h};f.ia=function(a){M(this);a=Cc(this,a);return this.i.ia(a)};f.J=function(){M(this);for(var a=this.i.s(),b=this.i.J(),c=[],d=0;d<b.length;d++)for(var e=a[d],g=0;g<e.length;g++)c.push(b[d]);return c};
f.s=function(a){M(this);var b=[];if(p(a))this.ia(a)&&(b=Sa(b,this.i.get(Cc(this,a))));else{a=this.i.s();for(var c=0;c<a.length;c++)b=Sa(b,a[c])}return b};f.set=function(a,b){M(this);this.u=null;a=Cc(this,a);this.ia(a)&&(this.h-=this.i.get(a).length);this.i.set(a,[b]);this.h++;return this};f.get=function(a,b){var c=a?this.s(a):[];return 0<c.length?String(c[0]):b};
f.toString=function(){if(this.u)return this.u;if(!this.i)return"";for(var a=[],b=this.i.J(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.s(d),g=0;g<d.length;g++){var h=e;""!==d[g]&&(h+="="+encodeURIComponent(String(d[g])));a.push(h)}return this.u=a.join("&")};f.v=function(){var a=new uc;a.u=this.u;this.i&&(a.i=this.i.v(),a.h=this.h);return a};function Cc(a,b){var c=String(b);a.A&&(c=c.toLowerCase());return c}
f.Kb=function(a){a&&!this.A&&(M(this),this.u=null,Ub(this.i,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.remove(d),0<a.length&&(this.u=null,this.i.set(Cc(this,d),Ta(a)),this.h+=a.length))},this));this.A=a};var Dc="closure_listenable_"+(1E6*Math.random()|0);function Ec(a){try{return!(!a||!a[Dc])}catch(b){return!1}}var Fc=0;function Gc(a,b,c,d,e){this.ca=a;this.eb=null;this.src=b;this.type=c;this.Ka=!!d;this.Ta=e;this.key=++Fc;this.oa=this.Ja=!1}function Hc(a){a.oa=!0;a.ca=null;a.eb=null;a.src=null;a.Ta=null};function Ic(a){this.src=a;this.o={};this.Fa=0}Ic.prototype.add=function(a,b,c,d,e){var g=this.o[a];g||(g=this.o[a]=[],this.Fa++);var h=Jc(g,b,d,e);-1<h?(a=g[h],c||(a.Ja=!1)):(a=new Gc(b,this.src,a,!!d,e),a.Ja=c,g.push(a));return a};Ic.prototype.remove=function(a,b,c,d){if(!(a in this.o))return!1;var e=this.o[a];b=Jc(e,b,c,d);return-1<b?(Hc(e[b]),v.splice.call(e,b,1),0==e.length&&(delete this.o[a],this.Fa--),!0):!1};
function Kc(a,b){var c=b.type;if(!(c in a.o))return!1;var d=a.o[c],e=w(d,b),g;(g=0<=e)&&v.splice.call(d,e,1);g&&(Hc(b),0==a.o[c].length&&(delete a.o[c],a.Fa--));return g}Ic.prototype.Ca=function(a){var b=0,c;for(c in this.o)if(!a||c==a){for(var d=this.o[c],e=0;e<d.length;e++)++b,Hc(d[e]);delete this.o[c];this.Fa--}return b};Ic.prototype.va=function(a,b,c,d){a=this.o[a];var e=-1;a&&(e=Jc(a,b,c,d));return-1<e?a[e]:null};
function Jc(a,b,c,d){for(var e=0;e<a.length;++e){var g=a[e];if(!g.oa&&g.ca==b&&g.Ka==!!c&&g.Ta==d)return e}return-1};var Lc=!z||z&&9<=pb,Mc=z&&!D("9");!C||D("528");B&&D("1.9b")||z&&D("8")||db&&D("9.5")||C&&D("528");B&&!D("8")||z&&D("9");function N(){0!=Nc&&(Oc[ia(this)]=this)}var Nc=0,Oc={};N.prototype.ja=!1;N.prototype.m=function(){if(!this.ja&&(this.ja=!0,this.k(),0!=Nc)){var a=ia(this);delete Oc[a]}};N.prototype.k=function(){if(this.rc)for(;this.rc.length;)this.rc.shift()()};function O(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.na=!1;this.vc=!0}O.prototype.k=function(){};O.prototype.m=function(){};O.prototype.preventDefault=function(){this.defaultPrevented=!0;this.vc=!1};function Pc(a){Pc[" "](a);return a}Pc[" "]=ca;function Qc(a,b){O.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.gc=this.state=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(B){var e;a:{try{Pc(d.nodeName);e=!0;break a}catch(g){}e=!1}e||(d=null)}}else"mouseover"==c?
d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=C||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=C||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=
a.metaKey;this.state=a.state;this.gc=a;a.defaultPrevented&&this.preventDefault()}}t(Qc,O);Qc.prototype.preventDefault=function(){Qc.l.preventDefault.call(this);var a=this.gc;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Mc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};Qc.prototype.k=function(){};var Rc="closure_lm_"+(1E6*Math.random()|0),Sc={},Tc=0;function Uc(a,b,c,d,e){if(n(b)){for(var g=0;g<b.length;g++)Uc(a,b[g],c,d,e);return null}c=Vc(c);return Ec(a)?a.Ya(b,c,d,e):Wc(a,b,c,!1,d,e)}function Wc(a,b,c,d,e,g){if(!b)throw Error("Invalid event type");var h=!!e,k=Xc(a);k||(a[Rc]=k=new Ic(a));c=k.add(b,c,d,e,g);if(c.eb)return c;d=Yc();c.eb=d;d.src=a;d.ca=c;a.addEventListener?a.addEventListener(b,d,h):a.attachEvent(b in Sc?Sc[b]:Sc[b]="on"+b,d);Tc++;return c}
function Yc(){var a=Zc,b=Lc?function(c){return a.call(b.src,b.ca,c)}:function(c){c=a.call(b.src,b.ca,c);if(!c)return c};return b}function P(a,b,c,d,e){if(n(b)){for(var g=0;g<b.length;g++)P(a,b[g],c,d,e);return null}c=Vc(c);return Ec(a)?a.pc(b,c,d,e):Wc(a,b,c,!0,d,e)}function $c(a,b,c,d,e){if(n(b))for(var g=0;g<b.length;g++)$c(a,b[g],c,d,e);else c=Vc(c),Ec(a)?a.qa(b,c,d,e):a&&(a=Xc(a))&&(b=a.va(b,c,!!d,e))&&ad(b)}
function ad(a){if(q(a)||!a||a.oa)return!1;var b=a.src;if(Ec(b))return Kc(b.G,a);var c=a.type,d=a.eb;b.removeEventListener?b.removeEventListener(c,d,a.Ka):b.detachEvent&&b.detachEvent(c in Sc?Sc[c]:Sc[c]="on"+c,d);Tc--;(c=Xc(b))?(Kc(c,a),0==c.Fa&&(c.src=null,b[Rc]=null)):Hc(a);return!0}function bd(a){if(a)if(Ec(a))a.G&&a.G.Ca(void 0);else if(a=Xc(a)){var b=0,c;for(c in a.o)for(var d=Ta(a.o[c]),e=0;e<d.length;++e)ad(d[e])&&++b}}
function cd(a,b,c,d){var e=1;if(a=Xc(a))if(b=a.o[b])for(b=Ta(b),a=0;a<b.length;a++){var g=b[a];g&&g.Ka==c&&!g.oa&&(e&=!1!==dd(g,d))}return Boolean(e)}function dd(a,b){var c=a.ca,d=a.Ta||a.src;a.Ja&&ad(a);return c.call(d,b)}
function Zc(a,b){if(a.oa)return!0;if(!Lc){var c=b||ba("window.event"),d=new Qc(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var g=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(h){g=!0}if(g||void 0==c.returnValue)c.returnValue=!0}c=[];for(g=d.currentTarget;g;g=g.parentNode)c.push(g);for(var g=a.type,k=c.length-1;!d.na&&0<=k;k--)d.currentTarget=c[k],e&=cd(c[k],g,!0,d);for(k=0;!d.na&&k<c.length;k++)d.currentTarget=c[k],e&=cd(c[k],g,!1,d)}return e}return dd(a,new Qc(b,this))}
function Xc(a){a=a[Rc];return a instanceof Ic?a:null}var ed="__closure_events_fn_"+(1E9*Math.random()>>>0);function Vc(a){return fa(a)?a:a[ed]||(a[ed]=function(b){return a.handleEvent(b)})};var Q={};var fd;
fd={Kc:["BC","AD"],Jc:["Before Christ","Anno Domini"],Mc:"JFMAMJJASOND".split(""),Sc:"JFMAMJJASOND".split(""),Lc:"January February March April May June July August September October November December".split(" "),Rc:"January February March April May June July August September October November December".split(" "),Oc:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Uc:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Xc:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Wc:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
Qc:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Vc:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Kd:"SMTWTFS".split(""),Tc:"SMTWTFS".split(""),Pc:["Q1","Q2","Q3","Q4"],Nc:["1st quarter","2nd quarter","3rd quarter","4th quarter"],Hc:["AM","PM"],Qb:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],Tb:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],Ic:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],Rb:6,Ld:[5,6],Sb:5};function gd(a,b,c){q(a)?(this.b=hd(a,b||0,c||1),id(this,c||1)):ha(a)?(this.b=hd(a.getFullYear(),a.getMonth(),a.getDate()),id(this,a.getDate())):(this.b=new Date(s()),this.b.setHours(0),this.b.setMinutes(0),this.b.setSeconds(0),this.b.setMilliseconds(0))}function hd(a,b,c){b=new Date(a,b,c);0<=a&&100>a&&b.setFullYear(b.getFullYear()-1900);return b}f=gd.prototype;f.Na=fd.Rb;f.Oa=fd.Sb;f.v=function(){var a=new gd(this.b);a.Na=this.Na;a.Oa=this.Oa;return a};f.getFullYear=function(){return this.b.getFullYear()};
f.getYear=function(){return this.getFullYear()};f.getMonth=function(){return this.b.getMonth()};f.getDate=function(){return this.b.getDate()};f.getTime=function(){return this.b.getTime()};f.getDay=function(){return this.b.getDay()};f.getUTCFullYear=function(){return this.b.getUTCFullYear()};f.getUTCMonth=function(){return this.b.getUTCMonth()};f.getUTCDate=function(){return this.b.getUTCDate()};f.getUTCHours=function(){return this.b.getUTCHours()};f.getUTCMinutes=function(){return this.b.getUTCMinutes()};
f.getTimezoneOffset=function(){return this.b.getTimezoneOffset()};function jd(a){a=a.getTimezoneOffset();if(0==a)a="Z";else{var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c);a=(0<a?"-":"+")+u(c,2)+":"+u(b,2)}return a}f.set=function(a){this.b=new Date(a.getFullYear(),a.getMonth(),a.getDate())};f.setFullYear=function(a){this.b.setFullYear(a)};f.setMonth=function(a){this.b.setMonth(a)};f.setDate=function(a){this.b.setDate(a)};
f.add=function(a){if(a.Jd||a.xd){var b=this.getMonth()+a.xd+12*a.Jd,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0!=c%4||0==c%100&&0!=c%400?28:29;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.hd&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.hd),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),id(this,a.getDate()))};f.jb=function(a,b){return[this.getFullYear(),u(this.getMonth()+1,2),u(this.getDate(),2)].join(a?"-":"")+(b?jd(this):"")};f.toString=function(){return this.jb()};function id(a,b){a.getDate()!=b&&a.b.setUTCHours(a.b.getUTCHours()+(a.getDate()<b?1:-1))}f.valueOf=function(){return this.b.valueOf()};function kd(a,b,c,d,e,g,h){this.b=q(a)?new Date(a,b||0,c||1,d||0,e||0,g||0,h||0):new Date(a?a.getTime():s())}t(kd,gd);f=kd.prototype;f.getHours=function(){return this.b.getHours()};
f.getMinutes=function(){return this.b.getMinutes()};f.getSeconds=function(){return this.b.getSeconds()};f.getMilliseconds=function(){return this.b.getMilliseconds()};f.getUTCHours=function(){return this.b.getUTCHours()};f.getUTCMinutes=function(){return this.b.getUTCMinutes()};f.setHours=function(a){this.b.setHours(a)};f.setMinutes=function(a){this.b.setMinutes(a)};f.setSeconds=function(a){this.b.setSeconds(a)};f.setMilliseconds=function(a){this.b.setMilliseconds(a)};f.setUTCHours=function(a){this.b.setUTCHours(a)};
f.add=function(a){gd.prototype.add.call(this,a);a.qd&&this.setHours(this.b.getHours()+a.qd);a.wd&&this.setMinutes(this.b.getMinutes()+a.wd);a.Cd&&this.setSeconds(this.b.getSeconds()+a.Cd)};f.jb=function(a,b){var c=gd.prototype.jb.call(this,a);return a?c+" "+u(this.getHours(),2)+":"+u(this.getMinutes(),2)+":"+u(this.getSeconds(),2)+(b?jd(this):""):c+"T"+u(this.getHours(),2)+u(this.getMinutes(),2)+u(this.getSeconds(),2)+(b?jd(this):"")};f.toString=function(){return this.jb()};
f.v=function(){var a=new kd(this.b);a.Na=this.Na;a.Oa=this.Oa;return a};function R(){N.call(this);this.G=new Ic(this);this.Zc=this}t(R,N);R.prototype[Dc]=!0;f=R.prototype;f.Ib=null;f.addEventListener=function(a,b,c,d){Uc(this,a,b,c,d)};f.removeEventListener=function(a,b,c,d){$c(this,a,b,c,d)};
f.dispatchEvent=function(a){var b,c=this.Ib;if(c)for(b=[];c;c=c.Ib)b.push(c);var c=this.Zc,d=a.type||a;if(p(a))a=new O(a,c);else if(a instanceof O)a.target=a.target||c;else{var e=a;a=new O(d,c);Ma(a,e)}var e=!0,g;if(b)for(var h=b.length-1;!a.na&&0<=h;h--)g=a.currentTarget=b[h],e=ld(g,d,!0,a)&&e;a.na||(g=a.currentTarget=c,e=ld(g,d,!0,a)&&e,a.na||(e=ld(g,d,!1,a)&&e));if(b)for(h=0;!a.na&&h<b.length;h++)g=a.currentTarget=b[h],e=ld(g,d,!1,a)&&e;return e};
f.k=function(){R.l.k.call(this);this.G&&this.G.Ca(void 0);this.Ib=null};f.Ya=function(a,b,c,d){return this.G.add(String(a),b,!1,c,d)};f.pc=function(a,b,c,d){return this.G.add(String(a),b,!0,c,d)};f.qa=function(a,b,c,d){return this.G.remove(String(a),b,c,d)};function ld(a,b,c,d){b=a.G.o[String(b)];if(!b)return!0;b=Ta(b);for(var e=!0,g=0;g<b.length;++g){var h=b[g];if(h&&!h.oa&&h.Ka==c){var k=h.ca,A=h.Ta||h.src;h.Ja&&Kc(a.G,h);e=!1!==k.call(A,d)&&e}}return e&&!1!=d.vc}
f.va=function(a,b,c,d){return this.G.va(String(a),b,c,d)};function md(a,b,c){if(fa(a))c&&(a=r(a,c));else if(a&&"function"==typeof a.handleEvent)a=r(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:l.setTimeout(a,b||0)};function nd(a,b,c){N.call(this);this.Db=a;this.sd=b||0;this.K=c;this.bd=r(this.jd,this)}t(nd,N);f=nd.prototype;f.wa=0;f.k=function(){nd.l.k.call(this);this.stop();delete this.Db;delete this.K};f.start=function(a){this.stop();this.wa=md(this.bd,m(a)?a:this.sd)};f.stop=function(){this.Wa()&&l.clearTimeout(this.wa);this.wa=0};f.Wa=function(){return 0!=this.wa};f.jd=function(){this.wa=0;this.Db&&this.Db.call(this.K)};function S(a){R.call(this);a=a||{};this.id=a.id||null;this.ha=!1;this.Mb=a.type||"unknown";this.duration=a.duration||10;this.a=Ab("div")}t(S,R);f=S.prototype;f.c=J("concerto.frontend.Content");function od(a){a.c.info("Content "+a.Mb+" "+a.id+" is starting to load.");a.Bc=new kd;a.Fc=new nd(a.ld,1E3*a.duration,a);P(a,pd,a.Ed,!1,a);a.dispatchEvent(qd);a.S()}f.sb=function(a,b){b=b||this.a;E(b,a);sb(b,this.Mb.toLowerCase())};f.S=function(){T(this)};
function T(a){a.fc=new kd;a.c.info("Content "+a.id+" is done loading. Took: "+(a.fc.getMilliseconds()-a.Bc.getMilliseconds())+"ms.");a.dispatchEvent(rd)}f.Ed=function(){this.Fc.start()};f.ld=function(){this.dispatchEvent(sd)};f.m=function(){bd(this);this.Fc.m();this.fc=this.Bc=this.a=null};var qd="a",rd="b",pd="d",sd="g";function td(a,b,c){R.call(this);this.g=a;this.q=b||null;this.r=c||null}t(td,R);f=td.prototype;f.go=function(){null!=this.q?this.Hb():null!=this.r&&this.Va()};f.Hb=function(){this.q.dispatchEvent("e");this.Gb()};f.Gb=function(){Gb(this.q.w);this.q.dispatchEvent("f");null!=this.r&&this.Va()};f.Va=function(){this.r.dispatchEvent("c");this.g.R(this.r.w,this.r.ha);this.Ab()};f.Ab=function(){this.r.dispatchEvent(pd)};function ud(a){S.call(this,a);this.ha=!0;this.N=a.g.size.height;this.O=a.g.size.width;this.rd=a.render_details.data}t(ud,S);Q.HtmlText=ud;ud.prototype.S=function(){this.a.innerHTML=this.rd;T(this)};function vd(a){N.call(this);this.K=a;this.j={}}t(vd,N);var wd=[];f=vd.prototype;f.Ya=function(a,b,c,d){n(b)||(wd[0]=b,b=wd);for(var e=0;e<b.length;e++){var g=Uc(a,b[e],c||this.handleEvent,d||!1,this.K||this);if(!g)break;this.j[g.key]=g}return this};f.pc=function(a,b,c,d){return xd(this,a,b,c,d)};function xd(a,b,c,d,e,g){if(n(c))for(var h=0;h<c.length;h++)xd(a,b,c[h],d,e,g);else{b=P(b,c,d||a.handleEvent,e,g||a.K||a);if(!b)return a;a.j[b.key]=b}return a}
f.qa=function(a,b,c,d,e){if(n(b))for(var g=0;g<b.length;g++)this.qa(a,b[g],c,d,e);else c=c||this.handleEvent,e=e||this.K||this,c=Vc(c),d=!!d,b=Ec(a)?a.va(b,c,d,e):a?(a=Xc(a))?a.va(b,c,d,e):null:null,b&&(ad(b),delete this.j[b.key]);return this};f.Ca=function(){Fa(this.j,ad);this.j={}};f.k=function(){vd.l.k.call(this);this.Ca()};f.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function yd(a){R.call(this);this.ya={};this.xa={};this.K=new vd(this);this.ea=a}t(yd,R);var zd=[z&&!D("11")?"readystatechange":"load","abort","error"];yd.prototype.start=function(){var a=this.ya;x(Ja(a),function(b){var c=a[b];if(c&&(delete a[b],!this.ja)){var d;d=this.ea?vb(this.ea).gd("img"):new Image;c.bc&&(d.crossOrigin=c.bc);this.K.Ya(d,zd,this.sc);this.xa[b]=d;d.id=b;d.src=c.src}},this)};
yd.prototype.sc=function(a){var b=a.currentTarget;if(b){if("readystatechange"==a.type)if("complete"==b.readyState)a.type="load";else return;"undefined"==typeof b.naturalWidth&&("load"==a.type?(b.naturalWidth=b.width,b.naturalHeight=b.height):(b.naturalWidth=0,b.naturalHeight=0));this.dispatchEvent({type:a.type,target:b});!this.ja&&(a=b.id,delete this.ya[a],b=this.xa[a])&&(delete this.xa[a],this.K.qa(b,zd,this.sc),Ka(this.xa)&&Ka(this.ya)&&this.dispatchEvent("complete"))}};
yd.prototype.k=function(){delete this.ya;delete this.xa;var a=this.K;a&&"function"==typeof a.m&&a.m();yd.l.k.call(this)};function U(a){S.call(this,a);this.Aa=new yd;P(this.Aa,"load",this.ud,!1,this);this.N=a.g.size.height;this.O=a.g.size.width;this.aa=null;a=new qc(a.render_details.path);var b=this.N;K(a);a.I.set("height",b);b=this.O;K(a);a.I.set("width",b);a=a.toString();(a=p(a)?a:a.src)&&(this.Aa.ya.graphic={src:a,bc:m(void 0)?void 0:null})}t(U,S);Q.Graphic=U;U.prototype.S=function(){this.Aa.start()};
U.prototype.ud=function(a){this.c.info("Content "+this.Mb+" "+this.id+" is in .loaderFinish_");this.aa=a.target;this.a.appendChild(this.aa);E(this.aa,"margin",(this.N-this.aa.height)/2+"px "+(this.O-this.aa.width)/2+"px");G(this.a,"100%","100%");T(this)};
U.prototype.sb=function(a){U.l.sb.call(this,a,Hb(this.a));E(this.a,"position","absolute");var b=Hb(this.a);a=this.aa.width;var c=this.aa.height,d;d="CSS1Compat"==vb(xb(b)).Ma.compatMode;if(!z||d&&D("8")){var e=b.style;B?e.MozBoxSizing="border-box":C?e.WebkitBoxSizing="border-box":e.boxSizing="border-box";e.width=Math.max(a,0)+"px";e.height=Math.max(c,0)+"px"}else if(e=b.style,d){if(z){d=Ob(b,"paddingLeft");var g=Ob(b,"paddingRight"),h=Ob(b,"paddingTop"),k=Ob(b,"paddingBottom");d=new y(h,g,k,d)}else d=
F(b,"paddingLeft"),g=F(b,"paddingRight"),h=F(b,"paddingTop"),k=F(b,"paddingBottom"),d=new y(parseFloat(h),parseFloat(g),parseFloat(k),parseFloat(d));!z||z&&9<=pb?(g=F(b,"borderLeftWidth"),h=F(b,"borderRightWidth"),k=F(b,"borderTopWidth"),b=F(b,"borderBottomWidth"),b=new y(parseFloat(k),parseFloat(h),parseFloat(b),parseFloat(g))):(g=Qb(b,"borderLeft"),h=Qb(b,"borderRight"),k=Qb(b,"borderTop"),b=Qb(b,"borderBottom"),b=new y(k,h,b,g));e.pixelWidth=a-b.left-d.left-d.right-b.right;e.pixelHeight=c-b.top-
d.top-d.bottom-b.bottom}else e.pixelWidth=a,e.pixelHeight=c};U.prototype.m=function(){U.l.m.call(this);this.Aa.m();this.Aa=null};function Ad(a){S.call(this,a);this.N=a.g.size.height;this.O=a.g.size.width;this.t=null;this.Ob=a.render_details.path;this.e=a.g.config?a.g.config.url_parms:null;null!=this.e?(this.e=this.e.trim(),0==this.e.lastIndexOf("?",0)&&(this.e=ya(this.e,"?")),0==this.e.lastIndexOf("&",0)&&(this.e=ya(this.e,"&")),this.e=-1!=this.Ob.indexOf("?")?"&"+this.e:"?"+this.e):this.e="";this.duration+=1}t(Ad,S);Q.RemoteVideo=Ad;
Ad.prototype.S=function(){this.t=document.createElement("iframe");this.t.src=this.Ob+this.e;this.t.md=0;G(this.t,"100%","100%");G(this.a,"100%","100%");E(this.t,"border",0);this.a.appendChild(this.t);T(this)};function Bd(a){S.call(this,a);this.ha=!0;this.text=a.render_details.data;this.N=a.g.size.height;this.O=a.g.size.width}t(Bd,S);Q.Ticker=Bd;Bd.prototype.S=function(){Fb(this.a);var a=Eb("<div>"+this.text+"</div>");this.a.appendChild(a);T(this)};function Cd(a){S.call(this,a);this.N=a.g.size.height;this.O=a.g.size.width;this.alert=a.render_details.alert}t(Cd,S);Q.EmergencyAlert=Cd;
Cd.prototype.S=function(){console.log("Loading Emergency Alert ... ");Fb(this.a);var a=Eb('<div style="background-color: red;">'+this.alert+"</div>");this.a.appendChild(a);var a=this.a,b=this.O,c=new qb(b,this.N),d=100,e=a.cloneNode(!0);E(e,"width",b-1+"px");e.style.display="none";document.body.appendChild(e);for(E(e,"fontSize",d+"px");1<d&&!rb(Lb(e),c);)E(e,"fontSize",--d+"px");document.body.removeChild(e);delete e;E(a,"fontSize",d+"px");this.a=a;T(this)};function Dd(a){S.call(this,a);this.N=a.g.size.height;this.O=a.g.size.width;this.t=null;this.url=a.render_details.path;this.duration+=1}t(Dd,S);Q.Iframe=Dd;Dd.prototype.S=function(){this.t=document.createElement("iframe");this.t.src=this.url;this.t.md=0;this.t.scrolling="no";G(this.t,"100%","100%");G(this.a,"100%","100%");E(this.t,"border",0);this.a.appendChild(this.t);T(this)};function Ed(a){S.call(this,a);this.ga=null;this.url=a.render_details.path;this.e=a.g.config?a.g.config.url_parms:null;null!=this.e?(this.e=this.e.trim(),0==this.e.lastIndexOf("?",0)&&(this.e=ya(this.e,"?")),0==this.e.lastIndexOf("&",0)&&(this.e=ya(this.e,"&")),this.e=-1!=this.Ob.indexOf("?")?"&"+this.e:"?"+this.e):this.e="";this.duration=86400}t(Ed,S);Q.Audio=Ed;
Ed.prototype.S=function(){this.ga=document.createElement("audio");this.ga.src=this.url+this.e;this.ga.autoplay="autoplay";G(this.ga,"0","0");G(this.a,"0","0");E(this.ga,"display","hidden");E(this.a,"display","hidden");this.a.appendChild(this.ga);T(this)};function Fd(){}function Gd(a){if("number"==typeof a){var b=new Fd;b.hb=a;var c;c=a;if(0==c)c="Etc/GMT";else{var d=["Etc/GMT",0>c?"-":"+"];c=Math.abs(c);d.push(Math.floor(c/60)%100);c%=60;0!=c&&d.push(":",u(c,2));c=d.join("")}b.Dc=c;0==a?a="UTC":(c=["UTC",0>a?"+":"-"],a=Math.abs(a),c.push(Math.floor(a/60)%100),a%=60,0!=a&&c.push(":",a),a=c.join(""));b.Nb=[a,a];b.kb=[];return b}b=new Fd;b.Dc=a.id;b.hb=-a.std_offset;b.Nb=a.names;b.kb=a.transitions;return b}
function Hd(a,b){for(var c=Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes())/36E5,d=0;d<a.kb.length&&c>=a.kb[d];)d+=2;return 0==d?0:a.kb[d-1]};function Id(a){this.$a=[];this.f=fd;"number"==typeof a?Jd(this,a):Kd(this,a)}var Ld=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|w+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvwzZ]+/];function Kd(a,b){for(;b;)for(var c=0;c<Ld.length;++c){var d=b.match(Ld[c]);if(d){d=d[0];b=b.substring(d.length);0==c&&("''"==d?d="'":(d=d.substring(1,d.length-1),d=d.replace(/\'\'/,"'")));a.$a.push({text:d,type:c});break}}}
function Md(a,b,c){var d=c?6E4*(b.getTimezoneOffset()-(c.hb-Hd(c,b))):0,e=d?new Date(b.getTime()+d):b,g=e;c&&e.getTimezoneOffset()!=b.getTimezoneOffset()&&(g=new Date(b.getTime()+(d+(0<d?-864E5:864E5))));for(var d=[],h=0;h<a.$a.length;++h){var k=a.$a[h].text;1==a.$a[h].type?d.push(Nd(a,k,b,e,g,c)):d.push(k)}return d.join("")}
function Jd(a,b){var c;if(4>b)c=a.f.Qb[b];else if(8>b)c=a.f.Tb[b-4];else if(12>b)c=a.f.Ic[b-8],c=c.replace("{1}",a.f.Qb[b-8]),c=c.replace("{0}",a.f.Tb[b-8]);else{Jd(a,10);return}Kd(a,c)}function V(a,b){if(void 0===a.f||void 0===a.f.Yc)return b;for(var c=[],d=0;d<b.length;d++){var e=b.charCodeAt(d);c.push(48<=e&&57>=e?String.fromCharCode(a.f.Yc+e-48):b.charAt(d))}return c.join("")}
function Nd(a,b,c,d,e,g){var h=b.length;switch(b.charAt(0)){case "G":return c=0<d.getFullYear()?1:0,4<=h?a.f.Jc[c]:a.f.Kc[c];case "y":return c=d.getFullYear(),0>c&&(c=-c),2==h&&(c%=100),V(a,u(c,h));case "M":a:switch(c=d.getMonth(),h){case 5:a=a.f.Mc[c];break a;case 4:a=a.f.Lc[c];break a;case 3:a=a.f.Oc[c];break a;default:a=V(a,u(c+1,h))}return a;case "k":return V(a,u(e.getHours()||24,h));case "S":return V(a,(e.getTime()%1E3/1E3).toFixed(Math.min(3,h)).substr(2)+(3<h?u(0,h-3):""));case "E":return c=
d.getDay(),4<=h?a.f.Xc[c]:a.f.Qc[c];case "a":return h=e.getHours(),a.f.Hc[12<=h&&24>h?1:0];case "h":return V(a,u(e.getHours()%12||12,h));case "K":return V(a,u(e.getHours()%12,h));case "H":return V(a,u(e.getHours(),h));case "c":a:switch(c=d.getDay(),h){case 5:a=a.f.Tc[c];break a;case 4:a=a.f.Wc[c];break a;case 3:a=a.f.Vc[c];break a;default:a=V(a,u(c,1))}return a;case "L":a:switch(c=d.getMonth(),h){case 5:a=a.f.Sc[c];break a;case 4:a=a.f.Rc[c];break a;case 3:a=a.f.Uc[c];break a;default:a=V(a,u(c+1,
h))}return a;case "Q":return c=Math.floor(d.getMonth()/3),4>h?a.f.Pc[c]:a.f.Nc[c];case "d":return V(a,u(d.getDate(),h));case "m":return V(a,u(e.getMinutes(),h));case "s":return V(a,u(e.getSeconds(),h));case "v":return a=g||Gd(c.getTimezoneOffset()),a.Dc;case "w":return c=new Date(e.getFullYear(),e.getMonth(),e.getDate()),b=a.f.Rb||0,c=c.valueOf()+864E5*(((a.f.Sb||3)-b+7)%7-((c.getDay()+6)%7-b+7)%7),c=Math.floor(Math.round((c-(new Date((new Date(c)).getFullYear(),0,1)).valueOf())/864E5)/7)+1,V(a,u(c,
h));case "z":return a=g||Gd(c.getTimezoneOffset()),4>h?a.Nb[0<Hd(a,c)?2:0]:a.Nb[0<Hd(a,c)?3:1];case "Z":return b=g||Gd(c.getTimezoneOffset()),4>h?(a=-(b.hb-Hd(b,c)),h=[0>a?"-":"+"],a=Math.abs(a),h.push(u(Math.floor(a/60)%100,2),u(a%60,2)),a=h.join("")):(h=b.hb-Hd(b,c),c=["GMT"],c.push(0>=h?"+":"-"),h=Math.abs(h),c.push(u(Math.floor(h/60)%100,2),":",u(h%60,2)),a=V(a,c.join(""))),a;default:return""}};function Od(a){S.call(this,a);this.ha=!0;this.N=a.field.size.height;this.O=a.field.size.width;this.Lb=a.timezone;this.yb=a.field.config?a.field.config.time_format:null}t(Od,S);Q.ClientTime=Od;
Od.prototype.S=function(){var a=new kd,b=new Id(2),c=new Id(7),b=Md(b,a,this.Lb)+" "+Md(c,a,this.Lb);null!=this.yb&&""!=this.yb.trim()&&(b=Md(new Id(this.yb),a,this.Lb));a=this.a;if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Fb(a),a.appendChild(xb(a).createTextNode(String(b)));T(this)};function Pd(){this.Z=this.H=0;this.W=[]}f=Pd.prototype;f.ka=function(a){this.W[this.Z++]=a};f.$=function(){if(this.H!=this.Z){var a=this.W[this.H];delete this.W[this.H];this.H++;return a}};f.ab=function(){return this.H==this.Z?void 0:this.W[this.H]};f.n=function(){return this.Z-this.H};f.B=function(){return 0==this.Z-this.H};f.clear=function(){this.Z=this.H=this.W.length=0};f.remove=function(a){a=w(this.W,a);if(0>a)return!1;a==this.H?this.$():(v.splice.call(this.W,a,1),this.Z--);return!0};
f.s=function(){return this.W.slice(this.H,this.Z)};function Qd(a,b,c,d,e,g){R.call(this);if(null!=g)for(var h in g)g.hasOwnProperty(h)&&this.c.info("Field "+b+" has configuration "+h+": "+g[h]);this.position=a;this.id=b;this.name=c;this.fd=d;this.q=null;this.Y=new Pd;this.$c=!0;this.Fd=e;this.$b=g;this.dd=this.position.T.screen.La;null==this.a&&(a=Ab("div",{id:"field_"+this.id,"class":"field"}),G(a,"100%","100%"),this.position.R(a),this.a=a);Rd(this)}t(Qd,R);Qd.prototype.c=J("concerto.frontend.Field");
Qd.prototype.R=function(a,b){this.a.appendChild(a);if(null!=b&&!0==b){for(var c=Lb(this.a),d=200,e=1;d>e+1;)mid=Math.floor((d-e)/2)+e,E(a,"fontSize",mid+"px"),rb(Lb(a),c)?e=mid:d=mid;E(a,"fontSize",e+"px")}};
function Sd(a){a.c.info("Field "+a.id+" is looking for new content.");if(null!=a.position)if("Time"==a.name){var b={duration:15,id:0,name:"System Time",type:"ClientTime",render_details:{data:null},field:{size:Lb(a.position.a),config:a.$b}},b=new Q.ClientTime(b);a.Y.ka(b);P(b,rd,a.Ac,!1,a);P(b,sd,a.Wb,!1,a);od(a.Y.ab())}else b=a.position.T.screen.Ra(),a.dd.send("field"+a.id,a.fd+"?"+b.toString(),"GET","",null,1,r(function(a){var b=a.target;if(!Td(b))return this.c.log(gc,"Field "+this.id+" was unable to fetch content. "+
(p(b.X)?b.X:String(b.X)),void 0),setTimeout(r(function(){Rd(this,!0)},this),10);a=b.getResponseHeader("X-Concerto-Frontend-Setup-Key");b=Ud(b);null!=a&&Vd(this.position.T.screen,a);if(!b.length)return this.c.info("Field "+this.id+" received empty content."),setTimeout(r(function(){Rd(this,!0)},this),10);x(b,r(function(a){a.g={size:Lb(this.position.a),config:this.$b};if(a.type in Q){var b=new Q[a.type](a);this.Y.ka(b);this.c.info("Field "+this.id+" queued "+a.type+" content "+a.id);P(b,rd,this.Ac,
!1,this);P(b,sd,this.Wb,!1,this)}else this.c.log(gc,"Field "+this.id+" Unable to find "+a.type+" renderer for content "+a.id,void 0)},this));!this.Y.B()&&od(this.Y.ab())},a))}Qd.prototype.Ac=function(){this.c.info("Field "+this.id+" is showing new content.");var a=this.Y.$();a.sb(Wd(this.position));a.c.info("Content "+a.id+" is being rendered.");a.w=a.a;(new this.Fd(this,this.q,a)).go();bd(this.cb);this.cb&&this.cb.m();this.cb=null;this.cb=this.q;this.q=a};
function Rd(a,b){b=b||!1;a.c.info("Field "+a.id+" would like a new piece of content (error state: "+b+" ).");a.Y.B()?(a.c.info("Field "+a.id+" needs to look for more content [queue is empty]."),b?(a.c.info("In error state, sleeping for "+Xd+" seconds."),setTimeout(r(function(){Sd(this)},a),1E3*Xd)):Sd(a)):(a.c.info("Field "+a.id+" is getting content from its queue."),od(a.Y.ab()))}
Qd.prototype.Wb=function(){this.$c?(this.c.info("Field "+this.id+" is auto-advancing."),Rd(this)):this.c.info("Field "+this.id+" is not advancing.")};var Xd=10+50*Math.random();var Yd={},Zd=null;function $d(a){a=ia(a);delete Yd[a];Ka(Yd)&&Zd&&Zd.stop()}function ae(){Zd||(Zd=new nd(function(){be()},20));var a=Zd;a.Wa()||a.start()}function be(){var a=s();Fa(Yd,function(b){ce(b,a)});Ka(Yd)||ae()};function de(){R.call(this);this.L=ee;this.ec=this.startTime=null}t(de,R);var ee=0;de.prototype.da=function(){this.M("begin")};de.prototype.ma=function(){this.M("end")};de.prototype.M=function(a){this.dispatchEvent(a)};function fe(a,b,c,d){de.call(this);if(!n(a)||!n(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.Ea=a;this.kd=b;this.duration=c;this.Vb=d;this.coords=[];this.Hd=!1}t(fe,de);f=fe.prototype;f.D=0;
f.play=function(a){if(a||this.L==ee)this.D=0,this.coords=this.Ea;else if(1==this.L)return!1;$d(this);this.startTime=a=s();-1==this.L&&(this.startTime-=this.duration*this.D);this.ec=this.startTime+this.duration;this.D||this.da();this.M("play");-1==this.L&&this.M("resume");this.L=1;var b=ia(this);b in Yd||(Yd[b]=this);ae();ce(this,a);return!0};f.stop=function(a){$d(this);this.L=ee;a&&(this.D=1);ge(this,this.D);this.M("stop");this.ma()};f.k=function(){this.L==ee||this.stop(!1);this.M("destroy");fe.l.k.call(this)};
function ce(a,b){a.D=(b-a.startTime)/(a.ec-a.startTime);1<=a.D&&(a.D=1);ge(a,a.D);1==a.D?(a.L=ee,$d(a),a.M("finish"),a.ma()):1==a.L&&a.Fb()}function ge(a,b){fa(a.Vb)&&(b=a.Vb(b));a.coords=Array(a.Ea.length);for(var c=0;c<a.Ea.length;c++)a.coords[c]=(a.kd[c]-a.Ea[c])*b+a.Ea[c]}f.Fb=function(){this.M("animate")};f.M=function(a){this.dispatchEvent(new he(a,this))};
function he(a,b){O.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.D=b.D;this.state=b.L}t(he,O);function W(a,b,c,d,e){fe.call(this,b,c,d,e);this.element=a}t(W,fe);W.prototype.Ga=ca;W.prototype.Fb=function(){this.Ga();W.l.Fb.call(this)};W.prototype.ma=function(){this.Ga();W.l.ma.call(this)};W.prototype.da=function(){this.Ga();W.l.da.call(this)};function ie(a,b,c,d,e){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");W.apply(this,arguments)}t(ie,W);
ie.prototype.Ga=function(){var a;if(a=this.Hd)m(this.wc)||(this.wc="rtl"==Jb(this.element,"direction")),a=this.wc;this.element.style[a?"right":"left"]=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};function je(a,b,c,d,e){q(b)&&(b=[b]);q(c)&&(c=[c]);W.call(this,a,b,c,d,e);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");}t(je,W);
je.prototype.Ga=function(){var a=this.coords[0],b=this.element.style;"opacity"in b?b.opacity=a:"MozOpacity"in b?b.MozOpacity=a:"filter"in b&&(b.filter=""===a?"":"alpha(opacity="+100*a+")")};je.prototype.show=function(){this.element.style.display=""};function ke(a,b,c){je.call(this,a,1,0,b,c)}t(ke,je);ke.prototype.da=function(){this.show();ke.l.da.call(this)};ke.prototype.ma=function(){this.element.style.display="none";ke.l.ma.call(this)};function le(a,b,c){je.call(this,a,0,1,b,c)}t(le,je);
le.prototype.da=function(){this.show();le.l.da.call(this)};function me(a,b,c){this.duration=500;td.call(this,a,b,c)}t(me,td);me.prototype.Hb=function(){this.q.dispatchEvent("e");var a=new ke(this.q.w,this.duration);Uc(a,"end",this.Gb,!1,this);a.play()};me.prototype.Va=function(){this.r.dispatchEvent("c");this.r.w.style.display="none";this.g.R(this.r.w,this.r.ha);var a=new le(this.r.w,this.duration);Uc(a,"end",this.Ab,!1,this);a.play()};function ne(a){return a*a*a}function oe(a,b){return 1-Math.pow(1-a,m(b)?b:3)};function pe(a,b,c){this.duration=500;td.call(this,a,b,c)}t(pe,td);pe.prototype.c=J("concerto.frontend.Transition.Slide");pe.prototype.Hb=function(){this.q.dispatchEvent("e");var a=new ie(this.q.w,[this.q.w.offsetLeft,this.q.w.offsetTop],[0-this.g.position.a.clientWidth,this.q.w.offsetTop],this.duration,ne);Uc(a,"end",this.Gb,!1,this);a.play()};
pe.prototype.Va=function(){this.c.info("Field "+this.g.id+" is sliding in.");this.r.dispatchEvent("c");this.g.R(this.r.w,this.r.ha);var a=new ie(this.r.w,[this.g.position.a.clientWidth,0],[0,0],this.duration,oe);Uc(a,"end",this.Ab,!1,this);a.play()};function qe(a,b){this.id=null;this.T=a;this.a=b||this.ub()}f=qe.prototype;f.c=J("concerto.frontend.Position");f.ub=function(){var a=Ab("div",{id:"position_"+this.id,"class":"position"});E(a,"position","absolute");this.T.R(a);return a};
f.load=function(a){this.id=a.id;this.ad=parseFloat(a.bottom);this.oc=parseFloat(a.left);this.Bd=parseFloat(a.right);this.Gc=parseFloat(a.top);this.Cc=a.style;var b=this.a,c=100*this.oc+"%",d=100*this.Gc+"%",e=B&&(Za||fb)&&D("1.9");b.style.left=Kb(c,e);b.style.top=Kb(d,e);G(this.a,100*(this.Bd-this.oc)+"%",100*(this.ad-this.Gc)+"%");b=me;c=null;if(null!=a.field.config&&(c=a.field.config,null!=c.transition))switch(c.transition.toLowerCase()){case "slide":b=pe;break;case "replace":b=td;break;default:b=
me}this.g=new Qd(this,a.field.id,a.field.name,a.field_contents_path,b,c);this.yc()};f.R=function(a){this.a.appendChild(a)};f.yc=function(){yb(this.a,{id:"position_"+this.id,"class":"position"});E(this.a,re)};function Wd(a){a=null==a.Cc?"":Rb(a.Cc);a=Ga(a,function(a,b){return!(0<=w(se,b.toLowerCase()))});var b={};Ma(b,te);Ma(b,a);return b}f.m=function(){this.g.m();Gb(this.a);delete this.a};var se="overflow width height top left bottom right".split(" "),re={overflow:"hidden"},te={position:"absolute"};function ue(a,b){this.screen=a;this.path=this.id=null;this.Jb=[];this.a=b||this.ub()}f=ue.prototype;f.c=J("concerto.frontend.Template");f.ub=function(){var a=Ab("div",{id:"template","class":"template"});G(a,"100%","100%");this.screen.R(a);return a};f.load=function(a){this.id=a.id;this.fa=a.path;this.cc=a.css_path;yb(this.a,{id:"template_"+this.id});ve(this);null!=a.positions&&x(a.positions,r(function(a){var c=new qe(this);c.load(a);a=this.Jb;0<=w(a,c)||a.push(c)},this))};
function ve(a){var b=Lb(a.a);if(null!=a.fa){var c=new qc(a.fa),d=b.height;K(c);c.I.set("height",d);b=b.width;K(c);c.I.set("width",b);E(a.a,"background-image","url("+c.toString()+")")}E(a.a,"background-size","100% 100%");E(a.a,"background-repeat","no-repeat");null!=a.cc&&(a=Ab("link",{href:a.cc,media:"screen",rel:"stylesheet",type:"text/css"}),document.head.appendChild(a))}f.R=function(a){this.a.appendChild(a)};f.m=function(){x(this.Jb,r(function(a){a.m()},this));this.Jb.length=0;Gb(this.a);delete this.a};function we(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function xe(){}xe.prototype.Xb=null;function ye(a){var b;(b=a.Xb)||(b={},ze(a)&&(b[0]=!0,b[1]=!0),b=a.Xb=b);return b};var Ae;function Be(){}t(Be,xe);function Ce(a){return(a=ze(a))?new ActiveXObject(a):new XMLHttpRequest}function ze(a){if(!a.lc&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.lc=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.lc}Ae=new Be;function X(a,b){a&&a.log(jc,b,void 0)};function De(a){R.call(this);this.headers=new H;this.qb=a||null;this.V=!1;this.pb=this.d=null;this.nc=this.Xa="";this.la=0;this.X="";this.ba=this.Bb=this.Ua=this.xb=!1;this.U=0;this.ib=null;this.Da=Fe;this.lb=this.Id=!1}t(De,R);var Fe="",Ge=De.prototype,He=J("goog.net.XhrIo");Ge.c=He;var Ie=/^https?$/i,Je=["POST","PUT"];f=De.prototype;f.zc=function(a){this.U=Math.max(0,a)};
f.send=function(a,b,c,d){if(this.d)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Xa+"; newUri="+a);b=b?b.toUpperCase():"GET";this.Xa=a;this.X="";this.la=0;this.nc=b;this.xb=!1;this.V=!0;this.d=this.qb?Ce(this.qb):Ce(Ae);this.pb=this.qb?ye(this.qb):ye(Ae);this.d.onreadystatechange=r(this.tc,this);try{X(this.c,Y(this,"Opening Xhr")),this.Bb=!0,this.d.open(b,String(a),!0),this.Bb=!1}catch(e){X(this.c,Y(this,"Error opening Xhr: "+e.message));Ke(this,e);return}a=c||"";var g=
this.headers.v();d&&Ub(d,function(a,b){g.set(b,a)});d=Pa(g.J());c=l.FormData&&a instanceof l.FormData;!(0<=w(Je,b))||d||c||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Ub(g,function(a,b){this.d.setRequestHeader(b,a)},this);this.Da&&(this.d.responseType=this.Da);"withCredentials"in this.d&&(this.d.withCredentials=this.Id);try{Le(this),0<this.U&&(this.lb=Me(this.d),X(this.c,Y(this,"Will abort after "+this.U+"ms if incomplete, xhr2 "+this.lb)),this.lb?(this.d.timeout=this.U,
this.d.ontimeout=r(this.Ec,this)):this.ib=md(this.Ec,this.U,this)),X(this.c,Y(this,"Sending request")),this.Ua=!0,this.d.send(a),this.Ua=!1}catch(h){X(this.c,Y(this,"Send error: "+h.message)),Ke(this,h)}};function Me(a){return z&&D(9)&&q(a.timeout)&&m(a.ontimeout)}function Qa(a){return"content-type"==a.toLowerCase()}f.Ec=function(){"undefined"!=typeof aa&&this.d&&(this.X="Timed out after "+this.U+"ms, aborting",this.la=8,X(this.c,Y(this,this.X)),this.dispatchEvent("timeout"),this.abort(8))};
function Ke(a,b){a.V=!1;a.d&&(a.ba=!0,a.d.abort(),a.ba=!1);a.X=b;a.la=5;Ne(a);Oe(a)}function Ne(a){a.xb||(a.xb=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}f.abort=function(a){this.d&&this.V&&(X(this.c,Y(this,"Aborting")),this.V=!1,this.ba=!0,this.d.abort(),this.ba=!1,this.la=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Oe(this))};f.k=function(){this.d&&(this.V&&(this.V=!1,this.ba=!0,this.d.abort(),this.ba=!1),Oe(this,!0));De.l.k.call(this)};
f.tc=function(){this.ja||(this.Bb||this.Ua||this.ba?Pe(this):this.Ad())};f.Ad=function(){Pe(this)};
function Pe(a){if(a.V&&"undefined"!=typeof aa)if(a.pb[1]&&4==Qe(a)&&2==Re(a))X(a.c,Y(a,"Local request error detected and ignored"));else if(a.Ua&&4==Qe(a))md(a.tc,0,a);else if(a.dispatchEvent("readystatechange"),4==Qe(a)){X(a.c,Y(a,"Request complete"));a.V=!1;try{if(Td(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.la=6;var b;try{b=2<Qe(a)?a.d.statusText:""}catch(c){X(a.c,"Can not get status: "+c.message),b=""}a.X=b+" ["+Re(a)+"]";Ne(a)}}finally{Oe(a)}}}
function Oe(a,b){if(a.d){Le(a);var c=a.d,d=a.pb[0]?ca:null;a.d=null;a.pb=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){(c=a.c)&&c.log(fc,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Le(a){a.d&&a.lb&&(a.d.ontimeout=null);q(a.ib)&&(l.clearTimeout(a.ib),a.ib=null)}f.Wa=function(){return!!this.d};
function Td(a){var b=Re(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=oc(String(a.Xa))[1]||null,!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1)),b=!Ie.test(a?a.toLowerCase():"");c=b}return c}function Qe(a){return a.d?a.d.readyState:0}function Re(a){try{return 2<Qe(a)?a.d.status:-1}catch(b){return(a=a.c)&&a.log(gc,"Can not get status: "+b.message,void 0),-1}}
function Ud(a){if(a.d)return we(a.d.responseText)}f.getResponseHeader=function(a){return this.d&&4==Qe(this)?this.d.getResponseHeader(a):void 0};function Y(a,b){return b+" ["+a.nc+" "+a.Xa+" "+Re(a)+"]"};function Se(a,b){N.call(this);this.qc=a||0;this.Za=b||10;if(this.qc>this.Za)throw Error(Te);this.P=new Pd;this.Q=new Xb;this.wb=0;this.Cb=null;this.Ha()}t(Se,N);var Te="[goog.structs.Pool] Min can not be greater than max";f=Se.prototype;f.Qa=function(){var a=s();if(!(null!=this.Cb&&a-this.Cb<this.wb)){for(var b;0<this.P.n()&&(b=this.P.$(),!this.Eb(b));)this.Ha();!b&&this.n()<this.Za&&(b=this.vb());b&&(this.Cb=a,this.Q.add(b));return b}};
f.sa=function(a){this.Q.remove(a);this.Eb(a)&&this.n()<this.Za?this.P.ka(a):Ue(a)};f.Ha=function(){for(var a=this.P;this.n()<this.qc;)a.ka(this.vb());for(;this.n()>this.Za&&0<this.P.n();)Ue(a.$())};f.vb=function(){return{}};function Ue(a){if("function"==typeof a.m)a.m();else for(var b in a)a[b]=null}f.Eb=function(a){return"function"==typeof a.cd?a.cd():!0};f.n=function(){return this.P.n()+this.Q.n()};f.B=function(){return this.P.B()&&this.Q.B()};
f.k=function(){Se.l.k.call(this);if(0<this.Q.n())throw Error("[goog.structs.Pool] Objects not released");delete this.Q;for(var a=this.P;!a.B();)Ue(a.$());delete this.P};function Ve(a,b){this.mc=a;this.nb=b}Ve.prototype.getKey=function(){return this.mc};Ve.prototype.v=function(){return new Ve(this.mc,this.nb)};function We(a){this.C=[];if(a)a:{var b,c;if(a instanceof We){if(b=a.J(),c=a.s(),0>=a.n()){a=this.C;for(var d=0;d<b.length;d++)a.push(new Ve(b[d],c[d]));break a}}else b=Ja(a),c=Ia(a);for(d=0;d<b.length;d++)Xe(this,b[d],c[d])}}function Xe(a,b,c){var d=a.C;d.push(new Ve(b,c));b=d.length-1;a=a.C;for(c=a[b];0<b;)if(d=b-1>>1,a[d].getKey()>c.getKey())a[b]=a[d],b=d;else break;a[b]=c}f=We.prototype;
f.remove=function(){var a=this.C,b=a.length,c=a[0];if(!(0>=b)){if(1==b)Ra(a);else{a[0]=a.pop();for(var a=0,b=this.C,d=b.length,e=b[a];a<d>>1;){var g=2*a+1,h=2*a+2,g=h<d&&b[h].getKey()<b[g].getKey()?h:g;if(b[g].getKey()>e.getKey())break;b[a]=b[g];a=g}b[a]=e}return c.nb}};f.ab=function(){var a=this.C;return 0==a.length?void 0:a[0].nb};f.s=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].nb);return b};
f.J=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};f.ia=function(a){return Oa(this.C,function(b){return b.getKey()==a})};f.v=function(){return new We(this)};f.n=function(){return this.C.length};f.B=function(){return 0==this.C.length};f.clear=function(){Ra(this.C)};function Ye(){We.call(this)}t(Ye,We);Ye.prototype.ka=function(a,b){Xe(this,a,b)};Ye.prototype.$=function(){return this.remove()};function Z(a,b){this.dc=void 0;this.fb=new Ye;Se.call(this,a,b)}t(Z,Se);f=Z.prototype;f.Qa=function(a,b){if(!a){var c=Z.l.Qa.call(this);c&&this.wb&&(this.dc=l.setTimeout(r(this.Sa,this),this.wb));return c}this.fb.ka(m(b)?b:100,a);this.Sa()};f.Sa=function(){for(var a=this.fb;0<a.n();){var b=this.Qa();if(b)a.$().apply(this,[b]);else break}};f.sa=function(a){Z.l.sa.call(this,a);this.Sa()};f.Ha=function(){Z.l.Ha.call(this);this.Sa()};
f.k=function(){Z.l.k.call(this);l.clearTimeout(this.dc);this.fb.clear();this.fb=null};function Ze(a,b,c){Z.call(this,b,c);this.zb=a}t(Ze,Z);Ze.prototype.vb=function(){var a=new De,b=this.zb;b&&Ub(b,function(b,d){a.headers.set(d,b)});return a};Ze.prototype.Eb=function(a){return!a.ja&&!a.Wa()};function $e(a,b,c,d,e){R.call(this);this.Ba=m(a)?a:1;this.U=m(e)?Math.max(0,e):0;this.ra=new Ze(b,c,d);this.F=new H;this.ua=new vd(this)}t($e,R);var af="ready complete success error abort timeout".split(" ");f=$e.prototype;f.zc=function(a){this.U=Math.max(0,a)};f.send=function(a,b,c,d,e,g,h,k,A){if(this.F.get(a))throw Error("[goog.net.XhrManager] ID in use");b=new bf(b,r(this.pd,this,a),c,d,e,h,m(k)?k:this.Ba,A);this.F.set(a,b);a=r(this.od,this,a);this.ra.Qa(a,g);return b};
f.abort=function(a,b){var c=this.F.get(a);if(c){var d=c.ob;c.Ub=!0;b&&(d&&(this.ua.qa(d,af,c.Pb),P(d,"ready",function(){var a=this.ra;a.Q.remove(d)&&a.sa(d)},!1,this)),this.F.remove(a));d&&d.abort()}};f.od=function(a,b){var c=this.F.get(a);c&&!c.ob?(this.ua.Ya(b,af,c.Pb),b.zc(this.U),b.Da=c.Da,c.ob=b,this.dispatchEvent(new cf("ready",this,a,b)),df(this,a,b),c.Ub&&b.abort()):(c=this.ra,c.Q.remove(b)&&c.sa(b))};
f.pd=function(a,b){var c=b.target;switch(b.type){case "ready":df(this,a,c);break;case "complete":a:{var d=this.F.get(a);if(7==c.la||Td(c)||d.Ia>d.Ba)if(this.dispatchEvent(new cf("complete",this,a,c)),d&&(d.Zb=!0,d.Yb)){c=d.Yb.call(c,b);break a}c=null}return c;case "success":this.dispatchEvent(new cf("success",this,a,c));break;case "timeout":case "error":d=this.F.get(a);d.Ia>d.Ba&&this.dispatchEvent(new cf("error",this,a,c));break;case "abort":this.dispatchEvent(new cf("abort",this,a,c))}return null};
function df(a,b,c){var d=a.F.get(b);!d||d.Zb||d.Ia>d.Ba?(d&&(a.ua.qa(c,af,d.Pb),a.F.remove(b)),a=a.ra,a.Q.remove(c)&&a.sa(c)):(d.Ia++,c.send(d.Gd,d.vd,d.ed,d.zb))}f.k=function(){$e.l.k.call(this);this.ra.m();this.ra=null;this.ua.m();this.ua=null;var a=this.F;Ub(a,function(a){a.m()});a.clear();this.F=null};function cf(a,b,c,d){O.call(this,a,b);this.id=c;this.ob=d}t(cf,O);
function bf(a,b,c,d,e,g,h,k){this.Gd=a;this.vd=c||"GET";this.ed=d;this.zb=e||null;this.Ba=m(h)?h:1;this.Ia=0;this.Ub=this.Zb=!1;this.Pb=b;this.Yb=g;this.Da=k||Fe;this.ob=null};function ef(a,b,c){this.La=new $e(2,null,0,2);this.id=a;this.options=c;this.Dd=this.options.setupPath;this.name="New Screen";this.ac=b||document.body;this.gb="";ff(this)}var gf=["concerto","frontend","Screen"],$=l;gf[0]in $||!$.execScript||$.execScript("var "+gf[0]);for(var hf;gf.length&&(hf=gf.shift());)gf.length||void 0===ef?$=$[hf]?$[hf]:$[hf]={}:$[hf]=ef;ef.prototype.c=J("concerto.frontend.Screen");
ef.prototype.refresh=function(){requests=this.La.F.J();x(requests,r(function(a){this.La.abort(a,!0)},this));this.T&&(this.T.m(),delete this.T);ff(this)};
function ff(a){var b=Ab("div",{id:"screen_"+a.id,"class":"screen"});G(b,"100%","100%");E(b,"position","relative");Fb(a.ac);a.ac.appendChild(b);a.a=b;a.gb="";b=a.Ra();b=a.Dd+"?"+b.toString();a.c.info("Requesting screen config from "+b);a.La.send("setup",b,"GET","",null,1,r(function(a){a=Ud(a.target);this.name=a.name;null!=a.template&&(this.T=new ue(this),this.T.load(a.template))},a))}ef.prototype.R=function(a){this.a.appendChild(a)};
ef.prototype.Ra=function(){var a=new uc;this.options.isPreview&&a.add("preview","true");return a};function Vd(a,b){""==a.gb&&(a.gb=b);a.gb!=b&&(a.c.info("Triggering a screen refresh"),a.refresh())};
