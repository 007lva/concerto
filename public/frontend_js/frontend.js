var f,aa=aa||{},l=this;function ba(a){a=a.split(".");for(var b=l,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}function ca(){}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function m(a){return void 0!==a}function n(a){return"array"==da(a)}function ea(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function p(a){return"string"==typeof a}function q(a){return"number"==typeof a}function fa(a){return"function"==da(a)}function ga(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ia(a){return a[ja]||(a[ja]=++ka)}
var ja="closure_uid_"+(1E9*Math.random()>>>0),ka=0;function la(a,b,c){return a.call.apply(a.bind,arguments)}function ma(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function r(a,b,c){r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?la:ma;return r.apply(null,arguments)}function na(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var s=Date.now||function(){return+new Date};
function t(a,b){function c(){}c.prototype=b.prototype;a.j=b.prototype;a.prototype=new c;a.Nd=function(a,c,g){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};var oa;function pa(a){if(Error.captureStackTrace)Error.captureStackTrace(this,pa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}t(pa,Error);pa.prototype.name="CustomError";function qa(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function ra(a){if(!sa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ta,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(ua,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(va,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(wa,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(xa,"&#39;"));return a}var ta=/&/g,ua=/</g,va=/>/g,wa=/"/g,xa=/'/g,sa=/[&<>"']/;
function ya(a,b){var c=new RegExp(za(b),"");return a.replace(c,"")}function za(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function v(a,b){var c=m(void 0)?a.toFixed(void 0):String(a),d=c.indexOf(".");-1==d&&(d=c.length);d=Math.max(0,b-d);return Array(d+1).join("0")+c}function Aa(a,b){return a<b?-1:a>b?1:0}function Ba(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}
function Ca(a){var b=p(void 0)?za(void 0):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};function Da(a,b){b.unshift(a);pa.call(this,qa.apply(null,b));b.shift()}t(Da,pa);Da.prototype.name="AssertionError";function Ea(a,b){throw new Da("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};function Fa(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function Ha(a,b){var c={},d;for(d in a)b.call(void 0,a[d],d,a)&&(c[d]=a[d]);return c}function Ia(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Ja(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Ka(a){for(var b in a)return!1;return!0}var La="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Ma(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var g=0;g<La.length;g++)c=La[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var w=Array.prototype,x=w.indexOf?function(a,b,c){return w.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},y=w.forEach?function(a,b,c){w.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,g=0;g<d;g++)g in e&&b.call(c,e[g],g,a)},Na=w.filter?function(a,b,c){return w.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],g=0,h=p(a)?
a.split(""):a,k=0;k<d;k++)if(k in h){var u=h[k];b.call(c,u,k,a)&&(e[g++]=u)}return e},Oa=w.some?function(a,b,c){return w.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,g=0;g<d;g++)if(g in e&&b.call(c,e[g],g,a))return!0;return!1};function Pa(a){var b;a:{b=Qa;for(var c=a.length,d=p(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:p(a)?a.charAt(b):a[b]}
function Ra(a){if(!n(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function Sa(a){return w.concat.apply(w,arguments)}function Ta(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Ua(a,b,c){return 2>=arguments.length?w.slice.call(a,b):w.slice.call(a,b,c)};function z(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}z.prototype.u=function(){return new z(this.top,this.right,this.bottom,this.left)};z.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};z.prototype.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};
z.prototype.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};var Va,Wa,Xa,Ya,Za;function $a(){return l.navigator?l.navigator.userAgent:null}function ab(){return l.navigator}Ya=Xa=Wa=Va=!1;var bb;if(bb=$a()){var cb=ab();Va=0==bb.lastIndexOf("Opera",0);Wa=!Va&&(-1!=bb.indexOf("MSIE")||-1!=bb.indexOf("Trident"));Xa=!Va&&-1!=bb.indexOf("WebKit");Ya=!Va&&!Xa&&!Wa&&"Gecko"==cb.product}var db=Va,A=Wa,B=Ya,C=Xa,eb=ab();Za=-1!=(eb&&eb.platform||"").indexOf("Mac");var fb=!!ab()&&-1!=(ab().appVersion||"").indexOf("X11");
function gb(){var a=l.document;return a?a.documentMode:void 0}var hb;a:{var ib="",jb;if(db&&l.opera)var kb=l.opera.version,ib="function"==typeof kb?kb():kb;else if(B?jb=/rv\:([^\);]+)(\)|;)/:A?jb=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:C&&(jb=/WebKit\/(\S+)/),jb)var lb=jb.exec($a()),ib=lb?lb[1]:"";if(A){var mb=gb();if(mb>parseFloat(ib)){hb=String(mb);break a}}hb=ib}var nb={};
function D(a){var b;if(!(b=nb[a])){b=0;for(var c=String(hb).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),g=0;0==b&&g<e;g++){var h=c[g]||"",k=d[g]||"",u=RegExp("(\\d*)(\\D*)","g"),Ga=RegExp("(\\d*)(\\D*)","g");do{var M=u.exec(h)||["","",""],ha=Ga.exec(k)||["","",""];if(0==M[0].length&&0==ha[0].length)break;b=Aa(0==M[1].length?0:parseInt(M[1],10),0==ha[1].length?0:parseInt(ha[1],10))||Aa(0==M[2].length,0==ha[2].length)||
Aa(M[2],ha[2])}while(0==b)}b=nb[a]=0<=b}return b}var ob=l.document,pb=ob&&A?gb()||("CSS1Compat"==ob.compatMode?parseInt(hb,10):5):void 0;function qb(a,b){this.width=a;this.height=b}f=qb.prototype;f.u=function(){return new qb(this.width,this.height)};f.toString=function(){return"("+this.width+" x "+this.height+")"};f.A=function(){return!(this.width*this.height)};f.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};f.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function rb(a,b){var c;c=a.className;c=p(c)&&c.match(/\S+/g)||[];for(var d=Ua(arguments,1),e=c.length+d.length,g=c,h=0;h<d.length;h++)0<=x(g,d[h])||g.push(d[h]);a.className=c.join(" ");return c.length==e};var sb=!A||A&&9<=pb,tb=!B&&!A||A&&A&&9<=pb||B&&D("1.9.1"),ub=A&&!D("9");function vb(a){return a?new wb(xb(a)):oa||(oa=new wb)}function yb(a,b){Fa(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in zb?a.setAttribute(zb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var zb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function Ab(a,b,c){return Bb(document,arguments)}function Bb(a,b){var c=b[0],d=b[1];if(!sb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',ra(d.name),'"');if(d.type){c.push(' type="',ra(d.type),'"');var e={};Ma(e,d);delete e.type;d=e}c.push(">");c=c.join("")}c=a.createElement(c);d&&(p(d)?c.className=d:n(d)?rb.apply(null,[c].concat(d)):yb(c,d));2<b.length&&Cb(a,c,b);return c}
function Cb(a,b,c){function d(c){c&&b.appendChild(p(c)?a.createTextNode(c):c)}for(var e=2;e<c.length;e++){var g=c[e];!ea(g)||ga(g)&&0<g.nodeType?d(g):y(Db(g)?Ta(g):g,d)}}function Eb(a){var b=document,c=b.createElement("div");A?(c.innerHTML="<br>"+a,c.removeChild(c.firstChild)):c.innerHTML=a;if(1==c.childNodes.length)return c.removeChild(c.firstChild);for(a=b.createDocumentFragment();c.firstChild;)a.appendChild(c.firstChild);return a}function Fb(a){for(var b;b=a.firstChild;)a.removeChild(b)}
function Gb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function Hb(a){if(void 0!=a.firstElementChild)a=a.firstElementChild;else for(a=a.firstChild;a&&1!=a.nodeType;)a=a.nextSibling;return a}function xb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}var Ib={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Jb={IMG:" ",BR:"\n"};
function Kb(a){if(ub&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Lb(a,b,!0);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");a=a.replace(/\u200B/g,"");ub||(a=a.replace(/ +/g," "));" "!=a&&(a=a.replace(/^\s*/,""));return a}
function Lb(a,b,c){if(!(a.nodeName in Ib))if(3==a.nodeType)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Jb)b.push(Jb[a.nodeName]);else for(a=a.firstChild;a;)Lb(a,b,c),a=a.nextSibling}function Db(a){if(a&&"number"==typeof a.length){if(ga(a))return"function"==typeof a.item||"string"==typeof a.item;if(fa(a))return"function"==typeof a.item}return!1}function wb(a){this.Oa=a||l.document||document}f=wb.prototype;f.zc=yb;
f.hd=function(a,b,c){return Bb(this.Oa,arguments)};f.createElement=function(a){return this.Oa.createElement(a)};f.createTextNode=function(a){return this.Oa.createTextNode(String(a))};f.appendChild=function(a,b){a.appendChild(b)};f.kc=function(a){return tb&&void 0!=a.children?a.children:Na(a.childNodes,function(a){return 1==a.nodeType})};function E(a,b,c){p(b)?Mb(a,c,b):Fa(b,na(Mb,a))}function Mb(a,b,c){var d;a:if(d=Ba(c),void 0===a.style[d]&&(c=(C?"Webkit":B?"Moz":A?"ms":db?"O":null)+Ca(c),void 0!==a.style[c])){d=c;break a}d&&(a.style[d]=b)}function F(a,b){var c=xb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function Nb(a,b){return F(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}
function G(a,b,c){if(b instanceof qb)c=b.height,b=b.width;else if(void 0==c)throw Error("missing height argument");a.style.width=Ob(b,!0);a.style.height=Ob(c,!0)}function Ob(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function H(a){var b=Pb;if("none"!=Nb(a,"display"))return b(a);var c=a.style,d=c.display,e=c.visibility,g=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=g;c.visibility=e;return a}
function Pb(a){var b=a.offsetWidth,c=a.offsetHeight,d=C&&!b&&!c;if((!m(b)||d)&&a.getBoundingClientRect){var e;a:{try{e=a.getBoundingClientRect()}catch(g){e={left:0,top:0,right:0,bottom:0};break a}A&&a.ownerDocument.body&&(a=a.ownerDocument,e.left-=a.documentElement.clientLeft+a.body.clientLeft,e.top-=a.documentElement.clientTop+a.body.clientTop)}return new qb(e.right-e.left,e.bottom-e.top)}return new qb(b,c)}
function Qb(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var e=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return e}function Rb(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?Qb(a,c):0}var Sb={thin:2,medium:4,thick:6};
function Tb(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in Sb?Sb[c]:Qb(a,c)}function Ub(a){var b={};y(a.split(/\s*;\s*/),function(a){a=a.split(/\s*:\s*/);2==a.length&&(b[Ba(a[0].toLowerCase())]=a[1])});return b};function Vb(){this.vc=s()}new Vb;Vb.prototype.set=function(a){this.vc=a};Vb.prototype.reset=function(){this.set(s())};Vb.prototype.get=function(){return this.vc};function Wb(a){if("function"==typeof a.r)return a.r();if(p(a))return a.split("");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ia(a)}function Xb(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ea(a)||p(a))y(a,b,c);else{var d;if("function"==typeof a.I)d=a.I();else if("function"!=typeof a.r)if(ea(a)||p(a)){d=[];for(var e=a.length,g=0;g<e;g++)d.push(g)}else d=Ja(a);else d=void 0;for(var e=Wb(a),g=e.length,h=0;h<g;h++)b.call(c,e[h],d&&d[h],a)}};function I(a,b){this.o={};this.i=[];this.g=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.ub(a)}f=I.prototype;f.m=function(){return this.g};f.r=function(){Yb(this);for(var a=[],b=0;b<this.i.length;b++)a.push(this.o[this.i[b]]);return a};f.I=function(){Yb(this);return this.i.concat()};f.ia=function(a){return Zb(this.o,a)};f.A=function(){return 0==this.g};
f.clear=function(){this.o={};this.g=this.i.length=0};f.remove=function(a){return Zb(this.o,a)?(delete this.o[a],this.g--,this.i.length>2*this.g&&Yb(this),!0):!1};function Yb(a){if(a.g!=a.i.length){for(var b=0,c=0;b<a.i.length;){var d=a.i[b];Zb(a.o,d)&&(a.i[c++]=d);b++}a.i.length=c}if(a.g!=a.i.length){for(var e={},c=b=0;b<a.i.length;)d=a.i[b],Zb(e,d)||(a.i[c++]=d,e[d]=1),b++;a.i.length=c}}f.get=function(a,b){return Zb(this.o,a)?this.o[a]:b};
f.set=function(a,b){Zb(this.o,a)||(this.g++,this.i.push(a));this.o[a]=b};f.ub=function(a){var b;a instanceof I?(b=a.I(),a=a.r()):(b=Ja(a),a=Ia(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};f.u=function(){return new I(this)};function Zb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function $b(a){this.o=new I;a&&this.ub(a)}function ac(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+ia(a):b.substr(0,1)+a}f=$b.prototype;f.m=function(){return this.o.m()};f.add=function(a){this.o.set(ac(a),a)};f.ub=function(a){a=Wb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};f.Da=function(a){a=Wb(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};f.remove=function(a){return this.o.remove(ac(a))};f.clear=function(){this.o.clear()};f.A=function(){return this.o.A()};f.r=function(){return this.o.r()};
f.u=function(){return new $b(this)};function bc(a){return cc(a||arguments.callee.caller,[])}
function cc(a,b){var c=[];if(0<=x(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(dc(a)+"(");for(var d=a.arguments,e=0;e<d.length;e++){0<e&&c.push(", ");var g;g=d[e];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=dc(g))?g:"[fn]";break;default:g=typeof g}40<g.length&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);c.push(")\n");try{c.push(cc(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function dc(a){if(ec[a])return ec[a];a=String(a);if(!ec[a]){var b=/function ([^\(]+)/.exec(a);ec[a]=b?b[1]:"[Anonymous]"}return ec[a]}var ec={};function fc(a,b,c,d,e){this.reset(a,b,c,d,e)}fc.prototype.jc=null;fc.prototype.ic=null;var gc=0;fc.prototype.reset=function(a,b,c,d,e){"number"==typeof e||gc++;d||s();this.Aa=a;this.zd=b;delete this.jc;delete this.ic};fc.prototype.yc=function(a){this.Aa=a};function hc(a){this.Ad=a}hc.prototype.fa=null;hc.prototype.Aa=null;hc.prototype.vb=null;hc.prototype.lc=null;function ic(a,b){this.name=a;this.value=b}ic.prototype.toString=function(){return this.name};var jc=new ic("SEVERE",1E3),kc=new ic("WARNING",900),lc=new ic("INFO",800),mc=new ic("CONFIG",700),nc=new ic("FINE",500);f=hc.prototype;f.getParent=function(){return this.fa};f.kc=function(){this.vb||(this.vb={});return this.vb};f.yc=function(a){this.Aa=a};
function oc(a){if(a.Aa)return a.Aa;if(a.fa)return oc(a.fa);Ea("Root logger has no level set.");return null}f.log=function(a,b,c){if(a.value>=oc(this).value)for(fa(b)&&(b=b()),a=this.od(a,b,c),b="log:"+a.zd,l.console&&(l.console.timeStamp?l.console.timeStamp(b):l.console.markTimeline&&l.console.markTimeline(b)),l.msWriteProfilerMark&&l.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.lc)for(var e=0,g=void 0;g=c.lc[e];e++)g(d);b=b.getParent()}};
f.od=function(a,b,c){var d=new fc(a,String(b),this.Ad);if(c){d.jc=c;var e;var g=arguments.callee.caller;try{var h;var k=ba("window.location.href");if(p(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:k,stack:"Not available"};else{var u,Ga,M=!1;try{u=c.lineNumber||c.Od||"Not available"}catch(ha){u="Not available",M=!0}try{Ga=c.fileName||c.filename||c.sourceURL||l.$googDebugFname||k}catch(lf){Ga="Not available",M=!0}h=!M&&c.lineNumber&&c.fileName&&c.stack&&c.message&&c.name?
c:{message:c.message||"Not available",name:c.name||"UnknownError",lineNumber:u,fileName:Ga,stack:c.stack||"Not available"}}e="Message: "+ra(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+ra(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+ra(bc(g)+"-> ")}catch(Ge){e="Exception trying to expose exception! You win, we lose. "+Ge}d.ic=e}return d};f.info=function(a,b){this.log(lc,a,b)};var pc={},qc=null;
function J(a){qc||(qc=new hc(""),pc[""]=qc,qc.yc(mc));var b;if(!(b=pc[a])){b=new hc(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=J(a.substr(0,c));c.kc()[d]=b;b.fa=c;pc[a]=b}return b};var rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function sc(a){if(tc){tc=!1;var b=l.location;if(b){var c=b.href;if(c&&(c=(c=sc(c)[3]||null)&&decodeURIComponent(c))&&c!=b.hostname)throw tc=!0,Error();}}return a.match(rc)}var tc=C;function uc(a,b){var c;if(a instanceof uc)this.w=m(b)?b:a.w,vc(this,a.pa),c=a.pb,K(this),this.pb=c,c=a.ua,K(this),this.ua=c,wc(this,a.fb),c=a.ga,K(this),this.ga=c,xc(this,a.Ta().u()),c=a.Ra,K(this),this.Ra=c;else if(a&&(c=sc(String(a)))){this.w=!!b;vc(this,c[1]||"",!0);var d=c[2]||"";K(this);this.pb=d?decodeURIComponent(d):"";d=c[3]||"";K(this);this.ua=d?decodeURIComponent(d):"";wc(this,c[4]);d=c[5]||"";K(this);this.ga=d?decodeURIComponent(d):"";xc(this,c[6]||"",!0);c=c[7]||"";K(this);this.Ra=c?decodeURIComponent(c):
""}else this.w=!!b,this.H=new yc(null,0,this.w)}f=uc.prototype;f.pa="";f.pb="";f.ua="";f.fb=null;f.ga="";f.Ra="";f.ud=!1;f.w=!1;f.toString=function(){var a=[],b=this.pa;b&&a.push(zc(b,Ac),":");if(b=this.ua){a.push("//");var c=this.pb;c&&a.push(zc(c,Ac),"@");a.push(encodeURIComponent(String(b)));b=this.fb;null!=b&&a.push(":",String(b))}if(b=this.ga)this.ua&&"/"!=b.charAt(0)&&a.push("/"),a.push(zc(b,"/"==b.charAt(0)?Bc:Cc));(b=this.H.toString())&&a.push("?",b);(b=this.Ra)&&a.push("#",zc(b,Dc));return a.join("")};
f.u=function(){return new uc(this)};function vc(a,b,c){K(a);a.pa=c?b?decodeURIComponent(b):"":b;a.pa&&(a.pa=a.pa.replace(/:$/,""))}function wc(a,b){K(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.fb=b}else a.fb=null}function xc(a,b,c){K(a);b instanceof yc?(a.H=b,a.H.Mb(a.w)):(c||(b=zc(b,Ec)),a.H=new yc(b,0,a.w))}f.Ta=function(){return this.H};function K(a){if(a.ud)throw Error("Tried to modify a read-only Uri");}f.Mb=function(a){this.w=a;this.H&&this.H.Mb(a);return this};
function zc(a,b){return p(a)?encodeURI(a).replace(b,Fc):null}function Fc(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Ac=/[#\/\?@]/g,Cc=/[\#\?:]/g,Bc=/[\#\?]/g,Ec=/[\#\?@]/g,Dc=/#/g;function yc(a,b,c){this.t=a||null;this.w=!!c}
function L(a){if(!a.h&&(a.h=new I,a.g=0,a.t))for(var b=a.t.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),e=null,g=null;0<=d?(e=b[c].substring(0,d),g=b[c].substring(d+1)):e=b[c];e=decodeURIComponent(e.replace(/\+/g," "));e=Gc(a,e);a.add(e,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}f=yc.prototype;f.h=null;f.g=null;f.m=function(){L(this);return this.g};f.add=function(a,b){L(this);this.t=null;a=Gc(this,a);var c=this.h.get(a);c||this.h.set(a,c=[]);c.push(b);this.g++;return this};
f.remove=function(a){L(this);a=Gc(this,a);return this.h.ia(a)?(this.t=null,this.g-=this.h.get(a).length,this.h.remove(a)):!1};f.clear=function(){this.h=this.t=null;this.g=0};f.A=function(){L(this);return 0==this.g};f.ia=function(a){L(this);a=Gc(this,a);return this.h.ia(a)};f.I=function(){L(this);for(var a=this.h.r(),b=this.h.I(),c=[],d=0;d<b.length;d++)for(var e=a[d],g=0;g<e.length;g++)c.push(b[d]);return c};
f.r=function(a){L(this);var b=[];if(p(a))this.ia(a)&&(b=Sa(b,this.h.get(Gc(this,a))));else{a=this.h.r();for(var c=0;c<a.length;c++)b=Sa(b,a[c])}return b};f.set=function(a,b){L(this);this.t=null;a=Gc(this,a);this.ia(a)&&(this.g-=this.h.get(a).length);this.h.set(a,[b]);this.g++;return this};f.get=function(a,b){var c=a?this.r(a):[];return 0<c.length?String(c[0]):b};
f.toString=function(){if(this.t)return this.t;if(!this.h)return"";for(var a=[],b=this.h.I(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.r(d),g=0;g<d.length;g++){var h=e;""!==d[g]&&(h+="="+encodeURIComponent(String(d[g])));a.push(h)}return this.t=a.join("&")};f.u=function(){var a=new yc;a.t=this.t;this.h&&(a.h=this.h.u(),a.g=this.g);return a};function Gc(a,b){var c=String(b);a.w&&(c=c.toLowerCase());return c}
f.Mb=function(a){a&&!this.w&&(L(this),this.t=null,Xb(this.h,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.remove(d),0<a.length&&(this.t=null,this.h.set(Gc(this,d),Ta(a)),this.g+=a.length))},this));this.w=a};var Hc="closure_listenable_"+(1E6*Math.random()|0);function Ic(a){try{return!(!a||!a[Hc])}catch(b){return!1}}var Jc=0;function Kc(a,b,c,d,e){this.da=a;this.hb=null;this.src=b;this.type=c;this.La=!!d;this.Va=e;this.key=++Jc;this.oa=this.Ka=!1}function Lc(a){a.oa=!0;a.da=null;a.hb=null;a.src=null;a.Va=null};function Mc(a){this.src=a;this.n={};this.Ga=0}Mc.prototype.add=function(a,b,c,d,e){var g=this.n[a];g||(g=this.n[a]=[],this.Ga++);var h=Nc(g,b,d,e);-1<h?(a=g[h],c||(a.Ka=!1)):(a=new Kc(b,this.src,a,!!d,e),a.Ka=c,g.push(a));return a};Mc.prototype.remove=function(a,b,c,d){if(!(a in this.n))return!1;var e=this.n[a];b=Nc(e,b,c,d);return-1<b?(Lc(e[b]),w.splice.call(e,b,1),0==e.length&&(delete this.n[a],this.Ga--),!0):!1};
function Oc(a,b){var c=b.type;if(!(c in a.n))return!1;var d=a.n[c],e=x(d,b),g;(g=0<=e)&&w.splice.call(d,e,1);g&&(Lc(b),0==a.n[c].length&&(delete a.n[c],a.Ga--));return g}Mc.prototype.Da=function(a){var b=0,c;for(c in this.n)if(!a||c==a){for(var d=this.n[c],e=0;e<d.length;e++)++b,Lc(d[e]);delete this.n[c];this.Ga--}return b};Mc.prototype.wa=function(a,b,c,d){a=this.n[a];var e=-1;a&&(e=Nc(a,b,c,d));return-1<e?a[e]:null};
function Nc(a,b,c,d){for(var e=0;e<a.length;++e){var g=a[e];if(!g.oa&&g.da==b&&g.La==!!c&&g.Va==d)return e}return-1};var Pc=!A||A&&9<=pb,Qc=A&&!D("9");!C||D("528");B&&D("1.9b")||A&&D("8")||db&&D("9.5")||C&&D("528");B&&!D("8")||A&&D("9");function N(){0!=Rc&&(Sc[ia(this)]=this)}var Rc=0,Sc={};N.prototype.ja=!1;N.prototype.l=function(){if(!this.ja&&(this.ja=!0,this.k(),0!=Rc)){var a=ia(this);delete Sc[a]}};N.prototype.k=function(){if(this.sc)for(;this.sc.length;)this.sc.shift()()};function O(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.na=!1;this.wc=!0}O.prototype.k=function(){};O.prototype.l=function(){};O.prototype.preventDefault=function(){this.defaultPrevented=!0;this.wc=!1};function Tc(a){Tc[" "](a);return a}Tc[" "]=ca;function Uc(a,b){O.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.hc=this.state=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(B){var e;a:{try{Tc(d.nodeName);e=!0;break a}catch(g){}e=!1}e||(d=null)}}else"mouseover"==c?
d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=C||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=C||void 0!==a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=
a.metaKey;this.state=a.state;this.hc=a;a.defaultPrevented&&this.preventDefault()}}t(Uc,O);Uc.prototype.preventDefault=function(){Uc.j.preventDefault.call(this);var a=this.hc;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Qc)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};Uc.prototype.k=function(){};var Vc="closure_lm_"+(1E6*Math.random()|0),Wc={},Xc=0;function Yc(a,b,c,d,e){if(n(b)){for(var g=0;g<b.length;g++)Yc(a,b[g],c,d,e);return null}c=Zc(c);return Ic(a)?a.$a(b,c,d,e):$c(a,b,c,!1,d,e)}function $c(a,b,c,d,e,g){if(!b)throw Error("Invalid event type");var h=!!e,k=ad(a);k||(a[Vc]=k=new Mc(a));c=k.add(b,c,d,e,g);if(c.hb)return c;d=bd();c.hb=d;d.src=a;d.da=c;a.addEventListener?a.addEventListener(b,d,h):a.attachEvent(b in Wc?Wc[b]:Wc[b]="on"+b,d);Xc++;return c}
function bd(){var a=cd,b=Pc?function(c){return a.call(b.src,b.da,c)}:function(c){c=a.call(b.src,b.da,c);if(!c)return c};return b}function P(a,b,c,d,e){if(n(b)){for(var g=0;g<b.length;g++)P(a,b[g],c,d,e);return null}c=Zc(c);return Ic(a)?a.qc(b,c,d,e):$c(a,b,c,!0,d,e)}function dd(a,b,c,d,e){if(n(b))for(var g=0;g<b.length;g++)dd(a,b[g],c,d,e);else c=Zc(c),Ic(a)?a.qa(b,c,d,e):a&&(a=ad(a))&&(b=a.wa(b,c,!!d,e))&&ed(b)}
function ed(a){if(q(a)||!a||a.oa)return!1;var b=a.src;if(Ic(b))return Oc(b.F,a);var c=a.type,d=a.hb;b.removeEventListener?b.removeEventListener(c,d,a.La):b.detachEvent&&b.detachEvent(c in Wc?Wc[c]:Wc[c]="on"+c,d);Xc--;(c=ad(b))?(Oc(c,a),0==c.Ga&&(c.src=null,b[Vc]=null)):Lc(a);return!0}function fd(a){if(a)if(Ic(a))a.F&&a.F.Da(void 0);else if(a=ad(a)){var b=0,c;for(c in a.n)for(var d=Ta(a.n[c]),e=0;e<d.length;++e)ed(d[e])&&++b}}
function gd(a,b,c,d){var e=1;if(a=ad(a))if(b=a.n[b])for(b=Ta(b),a=0;a<b.length;a++){var g=b[a];g&&g.La==c&&!g.oa&&(e&=!1!==hd(g,d))}return Boolean(e)}function hd(a,b){var c=a.da,d=a.Va||a.src;a.Ka&&ed(a);return c.call(d,b)}
function cd(a,b){if(a.oa)return!0;if(!Pc){var c=b||ba("window.event"),d=new Uc(c,this),e=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var g=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(h){g=!0}if(g||void 0==c.returnValue)c.returnValue=!0}c=[];for(g=d.currentTarget;g;g=g.parentNode)c.push(g);for(var g=a.type,k=c.length-1;!d.na&&0<=k;k--)d.currentTarget=c[k],e&=gd(c[k],g,!0,d);for(k=0;!d.na&&k<c.length;k++)d.currentTarget=c[k],e&=gd(c[k],g,!1,d)}return e}return hd(a,new Uc(b,this))}
function ad(a){a=a[Vc];return a instanceof Mc?a:null}var id="__closure_events_fn_"+(1E9*Math.random()>>>0);function Zc(a){return fa(a)?a:a[id]||(a[id]=function(b){return a.handleEvent(b)})};var Q={};var jd;
jd={Lc:["BC","AD"],Kc:["Before Christ","Anno Domini"],Nc:"JFMAMJJASOND".split(""),Tc:"JFMAMJJASOND".split(""),Mc:"January February March April May June July August September October November December".split(" "),Sc:"January February March April May June July August September October November December".split(" "),Pc:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Vc:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Yc:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Xc:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
Rc:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Wc:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Ld:"SMTWTFS".split(""),Uc:"SMTWTFS".split(""),Qc:["Q1","Q2","Q3","Q4"],Oc:["1st quarter","2nd quarter","3rd quarter","4th quarter"],Ic:["AM","PM"],Sb:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],Vb:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],Jc:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],Tb:6,Md:[5,6],Ub:5};function kd(a,b,c){q(a)?(this.b=ld(a,b||0,c||1),md(this,c||1)):ga(a)?(this.b=ld(a.getFullYear(),a.getMonth(),a.getDate()),md(this,a.getDate())):(this.b=new Date(s()),this.b.setHours(0),this.b.setMinutes(0),this.b.setSeconds(0),this.b.setMilliseconds(0))}function ld(a,b,c){b=new Date(a,b,c);0<=a&&100>a&&b.setFullYear(b.getFullYear()-1900);return b}f=kd.prototype;f.Pa=jd.Tb;f.Qa=jd.Ub;f.u=function(){var a=new kd(this.b);a.Pa=this.Pa;a.Qa=this.Qa;return a};f.getFullYear=function(){return this.b.getFullYear()};
f.getYear=function(){return this.getFullYear()};f.getMonth=function(){return this.b.getMonth()};f.getDate=function(){return this.b.getDate()};f.getTime=function(){return this.b.getTime()};f.getDay=function(){return this.b.getDay()};f.getUTCFullYear=function(){return this.b.getUTCFullYear()};f.getUTCMonth=function(){return this.b.getUTCMonth()};f.getUTCDate=function(){return this.b.getUTCDate()};f.getUTCHours=function(){return this.b.getUTCHours()};f.getUTCMinutes=function(){return this.b.getUTCMinutes()};
f.getTimezoneOffset=function(){return this.b.getTimezoneOffset()};function nd(a){a=a.getTimezoneOffset();if(0==a)a="Z";else{var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c);a=(0<a?"-":"+")+v(c,2)+":"+v(b,2)}return a}f.set=function(a){this.b=new Date(a.getFullYear(),a.getMonth(),a.getDate())};f.setFullYear=function(a){this.b.setFullYear(a)};f.setMonth=function(a){this.b.setMonth(a)};f.setDate=function(a){this.b.setDate(a)};
f.add=function(a){if(a.Kd||a.yd){var b=this.getMonth()+a.yd+12*a.Kd,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0!=c%4||0==c%100&&0!=c%400?28:29;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.jd&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.jd),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),md(this,a.getDate()))};f.mb=function(a,b){return[this.getFullYear(),v(this.getMonth()+1,2),v(this.getDate(),2)].join(a?"-":"")+(b?nd(this):"")};f.toString=function(){return this.mb()};function md(a,b){a.getDate()!=b&&a.b.setUTCHours(a.b.getUTCHours()+(a.getDate()<b?1:-1))}f.valueOf=function(){return this.b.valueOf()};function od(a,b,c,d,e,g,h){this.b=q(a)?new Date(a,b||0,c||1,d||0,e||0,g||0,h||0):new Date(a?a.getTime():s())}t(od,kd);f=od.prototype;f.getHours=function(){return this.b.getHours()};
f.getMinutes=function(){return this.b.getMinutes()};f.getSeconds=function(){return this.b.getSeconds()};f.getMilliseconds=function(){return this.b.getMilliseconds()};f.getUTCHours=function(){return this.b.getUTCHours()};f.getUTCMinutes=function(){return this.b.getUTCMinutes()};f.setHours=function(a){this.b.setHours(a)};f.setMinutes=function(a){this.b.setMinutes(a)};f.setSeconds=function(a){this.b.setSeconds(a)};f.setMilliseconds=function(a){this.b.setMilliseconds(a)};f.setUTCHours=function(a){this.b.setUTCHours(a)};
f.add=function(a){kd.prototype.add.call(this,a);a.rd&&this.setHours(this.b.getHours()+a.rd);a.xd&&this.setMinutes(this.b.getMinutes()+a.xd);a.Dd&&this.setSeconds(this.b.getSeconds()+a.Dd)};f.mb=function(a,b){var c=kd.prototype.mb.call(this,a);return a?c+" "+v(this.getHours(),2)+":"+v(this.getMinutes(),2)+":"+v(this.getSeconds(),2)+(b?nd(this):""):c+"T"+v(this.getHours(),2)+v(this.getMinutes(),2)+v(this.getSeconds(),2)+(b?nd(this):"")};f.toString=function(){return this.mb()};
f.u=function(){var a=new od(this.b);a.Pa=this.Pa;a.Qa=this.Qa;return a};function R(){N.call(this);this.F=new Mc(this);this.$c=this}t(R,N);R.prototype[Hc]=!0;f=R.prototype;f.Kb=null;f.addEventListener=function(a,b,c,d){Yc(this,a,b,c,d)};f.removeEventListener=function(a,b,c,d){dd(this,a,b,c,d)};
f.dispatchEvent=function(a){var b,c=this.Kb;if(c)for(b=[];c;c=c.Kb)b.push(c);var c=this.$c,d=a.type||a;if(p(a))a=new O(a,c);else if(a instanceof O)a.target=a.target||c;else{var e=a;a=new O(d,c);Ma(a,e)}var e=!0,g;if(b)for(var h=b.length-1;!a.na&&0<=h;h--)g=a.currentTarget=b[h],e=pd(g,d,!0,a)&&e;a.na||(g=a.currentTarget=c,e=pd(g,d,!0,a)&&e,a.na||(e=pd(g,d,!1,a)&&e));if(b)for(h=0;!a.na&&h<b.length;h++)g=a.currentTarget=b[h],e=pd(g,d,!1,a)&&e;return e};
f.k=function(){R.j.k.call(this);this.F&&this.F.Da(void 0);this.Kb=null};f.$a=function(a,b,c,d){return this.F.add(String(a),b,!1,c,d)};f.qc=function(a,b,c,d){return this.F.add(String(a),b,!0,c,d)};f.qa=function(a,b,c,d){return this.F.remove(String(a),b,c,d)};function pd(a,b,c,d){b=a.F.n[String(b)];if(!b)return!0;b=Ta(b);for(var e=!0,g=0;g<b.length;++g){var h=b[g];if(h&&!h.oa&&h.La==c){var k=h.da,u=h.Va||h.src;h.Ka&&Oc(a.F,h);e=!1!==k.call(u,d)&&e}}return e&&!1!=d.wc}
f.wa=function(a,b,c,d){return this.F.wa(String(a),b,c,d)};function qd(a,b,c){if(fa(a))c&&(a=r(a,c));else if(a&&"function"==typeof a.handleEvent)a=r(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:l.setTimeout(a,b||0)};function rd(a,b,c){N.call(this);this.Fb=a;this.td=b||0;this.J=c;this.cd=r(this.kd,this)}t(rd,N);f=rd.prototype;f.xa=0;f.k=function(){rd.j.k.call(this);this.stop();delete this.Fb;delete this.J};f.start=function(a){this.stop();this.xa=qd(this.cd,m(a)?a:this.td)};f.stop=function(){this.Ya()&&l.clearTimeout(this.xa);this.xa=0};f.Ya=function(){return 0!=this.xa};f.kd=function(){this.xa=0;this.Fb&&this.Fb.call(this.J)};function S(a){R.call(this);a=a||{};this.id=a.id||null;this.Y=!1;this.Ob=a.type||"unknown";this.duration=a.duration||10;this.a=Ab("div")}t(S,R);f=S.prototype;f.c=J("concerto.frontend.Content");function sd(a){a.c.info("Content "+a.Ob+" "+a.id+" is starting to load.");a.Cc=new od;a.dispatchEvent(td);a.V();a.Gc=new rd(a.md,1E3*a.duration,a);P(a,ud,a.Fd,!1,a)}f.ta=function(a,b){b=b||this.a;E(b,a);rb(b,this.Ob.toLowerCase())};f.V=function(){T(this)};
function T(a){a.gc=new od;a.c.info("Content "+a.id+" is done loading. Took: "+(a.gc.getMilliseconds()-a.Cc.getMilliseconds())+"ms.");a.dispatchEvent(vd)}f.Fd=function(){this.Gc.start()};f.md=function(){this.dispatchEvent(wd)};f.l=function(){fd(this);this.Gc.l();this.gc=this.Cc=this.a=null};var td="a",vd="b",ud="d",wd="g";function xd(a,b,c){R.call(this);this.T=a;this.p=b||null;this.q=c||null}t(xd,R);f=xd.prototype;f.go=function(){null!=this.p?this.Jb():null!=this.q&&this.Xa()};f.Jb=function(){this.p.dispatchEvent("e");this.Ib()};f.Ib=function(){Gb(this.p.v);this.p.dispatchEvent("f");null!=this.q&&this.Xa()};f.Xa=function(){this.q.dispatchEvent("c");this.T.O(this.q.v,this.q.Y);this.Cb()};f.Cb=function(){this.q.dispatchEvent(ud)};function yd(a){S.call(this,a);this.Y=!+(a.field.config?a.field.config.disable_text_autosize:0);this.$=parseFloat(a.field.size.height);this.aa=parseFloat(a.field.size.width);this.sd=a.render_details.data}t(yd,S);Q.HtmlText=yd;yd.prototype.V=function(){this.a.innerHTML=this.sd;T(this)};yd.prototype.c=J("concerto.frontend.Content.HtmlText");function zd(a){N.call(this);this.J=a;this.i={}}t(zd,N);var Ad=[];f=zd.prototype;f.$a=function(a,b,c,d){n(b)||(Ad[0]=b,b=Ad);for(var e=0;e<b.length;e++){var g=Yc(a,b[e],c||this.handleEvent,d||!1,this.J||this);if(!g)break;this.i[g.key]=g}return this};f.qc=function(a,b,c,d){return Bd(this,a,b,c,d)};function Bd(a,b,c,d,e,g){if(n(c))for(var h=0;h<c.length;h++)Bd(a,b,c[h],d,e,g);else{b=P(b,c,d||a.handleEvent,e,g||a.J||a);if(!b)return a;a.i[b.key]=b}return a}
f.qa=function(a,b,c,d,e){if(n(b))for(var g=0;g<b.length;g++)this.qa(a,b[g],c,d,e);else c=c||this.handleEvent,e=e||this.J||this,c=Zc(c),d=!!d,b=Ic(a)?a.wa(b,c,d,e):a?(a=ad(a))?a.wa(b,c,d,e):null:null,b&&(ed(b),delete this.i[b.key]);return this};f.Da=function(){Fa(this.i,ed);this.i={}};f.k=function(){zd.j.k.call(this);this.Da()};f.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Cd(a){R.call(this);this.za={};this.ya={};this.J=new zd(this);this.fa=a}t(Cd,R);var Dd=[A&&!D("11")?"readystatechange":"load","abort","error"];Cd.prototype.start=function(){var a=this.za;y(Ja(a),function(b){var c=a[b];if(c&&(delete a[b],!this.ja)){var d;d=this.fa?vb(this.fa).hd("img"):new Image;c.cc&&(d.crossOrigin=c.cc);this.J.$a(d,Dd,this.tc);this.ya[b]=d;d.id=b;d.src=c.src}},this)};
Cd.prototype.tc=function(a){var b=a.currentTarget;if(b){if("readystatechange"==a.type)if("complete"==b.readyState)a.type="load";else return;"undefined"==typeof b.naturalWidth&&("load"==a.type?(b.naturalWidth=b.width,b.naturalHeight=b.height):(b.naturalWidth=0,b.naturalHeight=0));this.dispatchEvent({type:a.type,target:b});!this.ja&&(a=b.id,delete this.za[a],b=this.ya[a])&&(delete this.ya[a],this.J.qa(b,Dd,this.tc),Ka(this.ya)&&Ka(this.za)&&this.dispatchEvent("complete"))}};
Cd.prototype.k=function(){delete this.za;delete this.ya;var a=this.J;a&&"function"==typeof a.l&&a.l();Cd.j.k.call(this)};function U(a){S.call(this,a);this.Ba=new Cd;P(this.Ba,"load",this.vd,!1,this);this.$=parseFloat(a.field.size.height);this.aa=parseFloat(a.field.size.width);this.ba=null;a=new uc(a.render_details.path);var b=this.$;K(a);a.H.set("height",b);b=this.aa;K(a);a.H.set("width",b);a=a.toString();(a=p(a)?a:a.src)&&(this.Ba.za.graphic={src:a,cc:m(void 0)?void 0:null})}t(U,S);Q.Graphic=U;U.prototype.V=function(){this.Ba.start()};
U.prototype.vd=function(a){this.c.info("Content "+this.Ob+" "+this.id+" is in .loaderFinish_");this.ba=a.target;this.a.appendChild(this.ba);E(this.ba,"margin",(this.$-this.ba.height)/2+"px "+(this.aa-this.ba.width)/2+"px");G(this.a,"100%","100%");T(this)};
U.prototype.ta=function(a){U.j.ta.call(this,a,Hb(this.a));E(this.a,"position","absolute");var b=Hb(this.a);a=this.ba.width;var c=this.ba.height,d;d="CSS1Compat"==vb(xb(b)).Oa.compatMode;if(!A||d&&D("8")){var e=b.style;B?e.MozBoxSizing="border-box":C?e.WebkitBoxSizing="border-box":e.boxSizing="border-box";e.width=Math.max(a,0)+"px";e.height=Math.max(c,0)+"px"}else if(e=b.style,d){if(A){d=Rb(b,"paddingLeft");var g=Rb(b,"paddingRight"),h=Rb(b,"paddingTop"),k=Rb(b,"paddingBottom");d=new z(h,g,k,d)}else d=
F(b,"paddingLeft"),g=F(b,"paddingRight"),h=F(b,"paddingTop"),k=F(b,"paddingBottom"),d=new z(parseFloat(h),parseFloat(g),parseFloat(k),parseFloat(d));!A||A&&9<=pb?(g=F(b,"borderLeftWidth"),h=F(b,"borderRightWidth"),k=F(b,"borderTopWidth"),b=F(b,"borderBottomWidth"),b=new z(parseFloat(k),parseFloat(h),parseFloat(b),parseFloat(g))):(g=Tb(b,"borderLeft"),h=Tb(b,"borderRight"),k=Tb(b,"borderTop"),b=Tb(b,"borderBottom"),b=new z(k,h,b,g));e.pixelWidth=a-b.left-d.left-d.right-b.right;e.pixelHeight=c-b.top-
d.top-d.bottom-b.bottom}else e.pixelWidth=a,e.pixelHeight=c};U.prototype.l=function(){U.j.l.call(this);this.Ba.l();this.Ba=null};function Ed(a){S.call(this,a);this.$=parseFloat(a.field.size.height);this.aa=parseFloat(a.field.size.width);this.s=null;this.Qb=a.render_details.path;this.e=a.field.config?a.field.config.url_parms:null;null!=this.e?(this.e=this.e.trim(),0==this.e.lastIndexOf("?",0)&&(this.e=ya(this.e,"?")),0==this.e.lastIndexOf("&",0)&&(this.e=ya(this.e,"&")),this.e=-1!=this.Qb.indexOf("?")?"&"+this.e:"?"+this.e):this.e="";this.duration+=1}t(Ed,S);Q.RemoteVideo=Ed;
Ed.prototype.V=function(){this.s=document.createElement("iframe");this.s.src=this.Qb+this.e;this.s.nd=0;G(this.s,"100%","100%");G(this.a,"100%","100%");E(this.s,"border",0);this.a.appendChild(this.s);T(this)};function Fd(a){S.call(this,a);var b=!!+(a.field.config?a.field.config.marquee:0);this.Y=!+(a.field.config?a.field.config.disable_text_autosize:0);if(this.ab=b)rb(this.a,"marquee"),this.Y=!1;this.text=a.render_details.data;this.$=parseFloat(a.field.size.height);this.aa=parseFloat(a.field.size.width)}t(Fd,S);Q.Ticker=Fd;
Fd.prototype.V=function(){Fb(this.a);var a=null,a=this.ab?Eb('<div class="marquee-bundle">'+this.text+'</div><div class="marquee-bundle">'+this.text+"</div>"):Eb("<div>"+this.text+"</div>");this.a.appendChild(a);if(this.ab){var a=this.a,b=Math.floor(Kb(a).length/14);E(a,"webkitAnimationDuration",b+"s");E(a,"mozAnimationDuration",b+"s");E(a,"msAnimationDuration",b+"s");E(a,"animationDuration",b+"s");this.duration=2*b}T(this)};
Fd.prototype.ta=function(a){Fd.j.ta.call(this,a);this.ab&&E(this.a,"position","relative")};function Gd(a){S.call(this,a);this.$=parseFloat(a.field.size.height);this.aa=parseFloat(a.field.size.width);this.s=null;this.url=a.render_details.path;this.duration+=1}t(Gd,S);Q.Iframe=Gd;Gd.prototype.V=function(){this.s=document.createElement("iframe");this.s.src=this.url;this.s.nd=0;this.s.scrolling="no";G(this.s,"100%","100%");G(this.a,"100%","100%");E(this.s,"border",0);this.a.appendChild(this.s);T(this)};function Hd(a){S.call(this,a);this.ha=null;this.url=a.render_details.path;this.e=a.field.config?a.field.config.url_parms:null;null!=this.e?(this.e=this.e.trim(),0==this.e.lastIndexOf("?",0)&&(this.e=ya(this.e,"?")),0==this.e.lastIndexOf("&",0)&&(this.e=ya(this.e,"&")),this.e=-1!=this.Qb.indexOf("?")?"&"+this.e:"?"+this.e):this.e="";this.duration=86400}t(Hd,S);Q.Audio=Hd;
Hd.prototype.V=function(){this.ha=document.createElement("audio");this.ha.src=this.url+this.e;this.ha.autoplay="autoplay";G(this.ha,"0","0");G(this.a,"0","0");E(this.ha,"display","hidden");E(this.a,"display","hidden");this.a.appendChild(this.ha);T(this)};function Id(){}function Jd(a){if("number"==typeof a){var b=new Id;b.kb=a;var c;c=a;if(0==c)c="Etc/GMT";else{var d=["Etc/GMT",0>c?"-":"+"];c=Math.abs(c);d.push(Math.floor(c/60)%100);c%=60;0!=c&&d.push(":",v(c,2));c=d.join("")}b.Ec=c;0==a?a="UTC":(c=["UTC",0>a?"+":"-"],a=Math.abs(a),c.push(Math.floor(a/60)%100),a%=60,0!=a&&c.push(":",a),a=c.join(""));b.Pb=[a,a];b.nb=[];return b}b=new Id;b.Ec=a.id;b.kb=-a.std_offset;b.Pb=a.names;b.nb=a.transitions;return b}
function Kd(a,b){for(var c=Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes())/36E5,d=0;d<a.nb.length&&c>=a.nb[d];)d+=2;return 0==d?0:a.nb[d-1]};function Ld(a,b){this.cb=[];this.f=b||jd;"number"==typeof a?Md(this,a):Nd(this,a)}var Od=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|w+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvwzZ]+/];function Nd(a,b){for(;b;)for(var c=0;c<Od.length;++c){var d=b.match(Od[c]);if(d){d=d[0];b=b.substring(d.length);0==c&&("''"==d?d="'":(d=d.substring(1,d.length-1),d=d.replace(/\'\'/,"'")));a.cb.push({text:d,type:c});break}}}
Ld.prototype.format=function(a,b){var c=b?6E4*(a.getTimezoneOffset()-(b.kb-Kd(b,a))):0,d=c?new Date(a.getTime()+c):a,e=d;b&&d.getTimezoneOffset()!=a.getTimezoneOffset()&&(e=new Date(a.getTime()+(c+(0<c?-864E5:864E5))));for(var c=[],g=0;g<this.cb.length;++g){var h=this.cb[g].text;1==this.cb[g].type?c.push(Pd(this,h,a,d,e,b)):c.push(h)}return c.join("")};
function Md(a,b){var c;if(4>b)c=a.f.Sb[b];else if(8>b)c=a.f.Vb[b-4];else if(12>b)c=a.f.Jc[b-8],c=c.replace("{1}",a.f.Sb[b-8]),c=c.replace("{0}",a.f.Vb[b-8]);else{Md(a,10);return}Nd(a,c)}function V(a,b){if(void 0===a.f||void 0===a.f.Zc)return b;for(var c=[],d=0;d<b.length;d++){var e=b.charCodeAt(d);c.push(48<=e&&57>=e?String.fromCharCode(a.f.Zc+e-48):b.charAt(d))}return c.join("")}
function Pd(a,b,c,d,e,g){var h=b.length;switch(b.charAt(0)){case "G":return c=0<d.getFullYear()?1:0,4<=h?a.f.Kc[c]:a.f.Lc[c];case "y":return c=d.getFullYear(),0>c&&(c=-c),2==h&&(c%=100),V(a,v(c,h));case "M":a:switch(c=d.getMonth(),h){case 5:a=a.f.Nc[c];break a;case 4:a=a.f.Mc[c];break a;case 3:a=a.f.Pc[c];break a;default:a=V(a,v(c+1,h))}return a;case "k":return V(a,v(e.getHours()||24,h));case "S":return V(a,(e.getTime()%1E3/1E3).toFixed(Math.min(3,h)).substr(2)+(3<h?v(0,h-3):""));case "E":return c=
d.getDay(),4<=h?a.f.Yc[c]:a.f.Rc[c];case "a":return h=e.getHours(),a.f.Ic[12<=h&&24>h?1:0];case "h":return V(a,v(e.getHours()%12||12,h));case "K":return V(a,v(e.getHours()%12,h));case "H":return V(a,v(e.getHours(),h));case "c":a:switch(c=d.getDay(),h){case 5:a=a.f.Uc[c];break a;case 4:a=a.f.Xc[c];break a;case 3:a=a.f.Wc[c];break a;default:a=V(a,v(c,1))}return a;case "L":a:switch(c=d.getMonth(),h){case 5:a=a.f.Tc[c];break a;case 4:a=a.f.Sc[c];break a;case 3:a=a.f.Vc[c];break a;default:a=V(a,v(c+1,
h))}return a;case "Q":return c=Math.floor(d.getMonth()/3),4>h?a.f.Qc[c]:a.f.Oc[c];case "d":return V(a,v(d.getDate(),h));case "m":return V(a,v(e.getMinutes(),h));case "s":return V(a,v(e.getSeconds(),h));case "v":return a=g||Jd(c.getTimezoneOffset()),a.Ec;case "w":return c=new Date(e.getFullYear(),e.getMonth(),e.getDate()),b=a.f.Tb||0,c=c.valueOf()+864E5*(((a.f.Ub||3)-b+7)%7-((c.getDay()+6)%7-b+7)%7),c=Math.floor(Math.round((c-(new Date((new Date(c)).getFullYear(),0,1)).valueOf())/864E5)/7)+1,V(a,v(c,
h));case "z":return a=g||Jd(c.getTimezoneOffset()),4>h?a.Pb[0<Kd(a,c)?2:0]:a.Pb[0<Kd(a,c)?3:1];case "Z":return b=g||Jd(c.getTimezoneOffset()),4>h?(a=-(b.kb-Kd(b,c)),h=[0>a?"-":"+"],a=Math.abs(a),h.push(v(Math.floor(a/60)%100,2),v(a%60,2)),a=h.join("")):(h=b.kb-Kd(b,c),c=["GMT"],c.push(0>=h?"+":"-"),h=Math.abs(h),c.push(v(Math.floor(h/60)%100,2),":",v(h%60,2)),a=V(a,c.join(""))),a;default:return""}};function Qd(a){S.call(this,a);this.Y=!+(a.field.config?a.field.config.disable_text_autosize:0);this.$=parseFloat(a.field.size.height);this.aa=parseFloat(a.field.size.width);this.Nb=a.timezone;this.Ab=a.field.config?a.field.config.time_format:null}t(Qd,S);Q.ClientTime=Qd;
Qd.prototype.V=function(){var a=new od,b=new Ld(2),c=new Ld(7),b=b.format(a,this.Nb)+" "+c.format(a,this.Nb);null!=this.Ab&&""!=this.Ab.trim()&&(b=(new Ld(this.Ab)).format(a,this.Nb));a=this.a;if("textContent"in a)a.textContent=b;else if(3==a.nodeType)a.data=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else Fb(a),a.appendChild(xb(a).createTextNode(String(b)));T(this)};function Rd(){this.X=this.G=0;this.S=[]}f=Rd.prototype;f.ka=function(a){this.S[this.X++]=a};f.Z=function(){if(this.G!=this.X){var a=this.S[this.G];delete this.S[this.G];this.G++;return a}};f.eb=function(){return this.G==this.X?void 0:this.S[this.G]};f.m=function(){return this.X-this.G};f.A=function(){return 0==this.X-this.G};f.clear=function(){this.X=this.G=this.S.length=0};f.remove=function(a){a=x(this.S,a);if(0>a)return!1;a==this.G?this.Z():(w.splice.call(this.S,a,1),this.X--);return!0};
f.r=function(){return this.S.slice(this.G,this.X)};function Sd(a,b,c,d,e,g){R.call(this);if(null!=g)for(var h in g)g.hasOwnProperty(h)&&this.c.info("Field "+b+" has configuration "+h+": "+g[h]);this.position=a;this.id=b;this.name=c;this.gd=d;this.p=null;this.W=new Rd;this.ad=!0;this.Gd=e;this.Ma=g;this.ed=this.position.P.screen.Na;null==this.a&&(a=Ab("div",{id:"field_"+this.id,"class":"field"}),G(a,"100%","100%"),this.position.O(a),this.a=a);Td(this)}t(Sd,R);Sd.prototype.c=J("concerto.frontend.Field");
Sd.prototype.O=function(a,b){this.a.appendChild(a);var c=this.a,d=c||document;if(d.querySelectorAll&&d.querySelector)c=d.querySelector(".marquee");else{var e,g,d=document,c=c||d;if(c.querySelectorAll&&c.querySelector)c=c.querySelectorAll(".marquee");else if(c.getElementsByClassName)var h=c.getElementsByClassName("marquee"),c=h;else{h=c.getElementsByTagName("*");g={};for(d=e=0;c=h[d];d++){var k=c.className,u;if(u="function"==typeof k.split)u=0<=x(k.split(/\s+/),"marquee");u&&(g[e++]=c)}g.length=e;
c=g}c=c[0]}if(c){c=H(this.a);d=200;for(e=1;d>e+1;)mid=Math.floor((d-e)/2)+e,E(a,"fontSize",mid+"px"),H(a).height>c.height?d=mid:e=mid;E(a,"fontSize",e+"px")}else if(null!=b&&!0==b){c=H(this.a);d=200;for(e=1;d>e+1;)mid=Math.floor((d-e)/2)+e,E(a,"fontSize",mid+"px"),g=H(a),g.width<=c.width&&g.height<=c.height?e=mid:d=mid;E(a,"fontSize",e+"px")}};
function Ud(a){a.c.info("Field "+a.id+" is looking for new content.");if(null!=a.position)if("Time"==a.name){var b={duration:15,id:0,name:"System Time",type:"ClientTime",render_details:{data:null},field:{size:H(a.position.a),config:a.Ma}},b=new Q.ClientTime(b);a.W.ka(b);P(b,vd,a.Bc,!1,a);P(b,wd,a.Yb,!1,a);sd(a.W.eb())}else b=a.position.P.screen.Ta(),a.ed.send("field"+a.id,a.gd+"?"+b.toString(),"GET","",null,1,r(function(a){var b=a.target;if(!Vd(b))return this.c.log(kc,"Field "+this.id+" was unable to fetch content. "+
(p(b.U)?b.U:String(b.U)),void 0),setTimeout(r(function(){Td(this,!0)},this),10);a=b.getResponseHeader("X-Concerto-Frontend-Setup-Key");b=Wd(b);null!=a&&Xd(this.position.P.screen,a);if(!b.length)return this.c.info("Field "+this.id+" received empty content."),setTimeout(r(function(){Td(this,!0)},this),10);if(+(this.Ma?this.Ma.marquee:0)){var e="";y(b,r(function(a){e+="<span>"+a.render_details.data+"</span>"}));a=[];a.push(b[0]);a[0].render_details.data=e;b=a}y(b,r(function(a){a.field={size:H(this.position.a),
config:this.Ma};if(a.type in Q){var b=new Q[a.type](a);this.W.ka(b);this.c.info("Field "+this.id+" queued "+a.type+" content "+a.id);P(b,vd,this.Bc,!1,this);P(b,wd,this.Yb,!1,this)}else this.c.log(kc,"Field "+this.id+" Unable to find "+a.type+" renderer for content "+a.id,void 0)},this));!this.W.A()&&sd(this.W.eb())},a))}
Sd.prototype.Bc=function(){this.c.info("Field "+this.id+" is showing new content.");var a=this.W.Z();a.ta(Yd(this.position));a.c.info("Content "+a.id+" is being rendered.");a.v=a.a;(new this.Gd(this,this.p,a)).go();fd(this.gb);this.gb&&this.gb.l();this.gb=null;this.gb=this.p;this.p=a};
function Td(a,b){b=b||!1;a.c.info("Field "+a.id+" would like a new piece of content (error state: "+b+" ).");a.W.A()?(a.c.info("Field "+a.id+" needs to look for more content [queue is empty]."),b?(a.c.info("In error state, sleeping for "+Zd+" seconds."),setTimeout(r(function(){Ud(this)},a),1E3*Zd)):Ud(a)):(a.c.info("Field "+a.id+" is getting content from its queue."),sd(a.W.eb()))}
Sd.prototype.Yb=function(){this.ad?(this.c.info("Field "+this.id+" is auto-advancing."),Td(this)):this.c.info("Field "+this.id+" is not advancing.")};var Zd=10+50*Math.random();var $d={},ae=null;function be(a){a=ia(a);delete $d[a];Ka($d)&&ae&&ae.stop()}function ce(){ae||(ae=new rd(function(){de()},20));var a=ae;a.Ya()||a.start()}function de(){var a=s();Fa($d,function(b){ee(b,a)});Ka($d)||ce()};function fe(){R.call(this);this.K=ge;this.fc=this.startTime=null}t(fe,R);var ge=0;fe.prototype.ea=function(){this.L("begin")};fe.prototype.ma=function(){this.L("end")};fe.prototype.L=function(a){this.dispatchEvent(a)};function he(a,b,c,d){fe.call(this);if(!n(a)||!n(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.Fa=a;this.ld=b;this.duration=c;this.Xb=d;this.coords=[];this.Id=!1}t(he,fe);f=he.prototype;f.C=0;
f.play=function(a){if(a||this.K==ge)this.C=0,this.coords=this.Fa;else if(1==this.K)return!1;be(this);this.startTime=a=s();-1==this.K&&(this.startTime-=this.duration*this.C);this.fc=this.startTime+this.duration;this.C||this.ea();this.L("play");-1==this.K&&this.L("resume");this.K=1;var b=ia(this);b in $d||($d[b]=this);ce();ee(this,a);return!0};f.stop=function(a){be(this);this.K=ge;a&&(this.C=1);ie(this,this.C);this.L("stop");this.ma()};f.k=function(){this.K==ge||this.stop(!1);this.L("destroy");he.j.k.call(this)};
function ee(a,b){a.C=(b-a.startTime)/(a.fc-a.startTime);1<=a.C&&(a.C=1);ie(a,a.C);1==a.C?(a.K=ge,be(a),a.L("finish"),a.ma()):1==a.K&&a.Hb()}function ie(a,b){fa(a.Xb)&&(b=a.Xb(b));a.coords=Array(a.Fa.length);for(var c=0;c<a.Fa.length;c++)a.coords[c]=(a.ld[c]-a.Fa[c])*b+a.Fa[c]}f.Hb=function(){this.L("animate")};f.L=function(a){this.dispatchEvent(new je(a,this))};
function je(a,b){O.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.C=b.C;this.state=b.K}t(je,O);function W(a,b,c,d,e){he.call(this,b,c,d,e);this.element=a}t(W,he);W.prototype.Ha=ca;W.prototype.Hb=function(){this.Ha();W.j.Hb.call(this)};W.prototype.ma=function(){this.Ha();W.j.ma.call(this)};W.prototype.ea=function(){this.Ha();W.j.ea.call(this)};function ke(a,b,c,d,e){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");W.apply(this,arguments)}t(ke,W);
ke.prototype.Ha=function(){var a;if(a=this.Id)m(this.xc)||(this.xc="rtl"==Nb(this.element,"direction")),a=this.xc;this.element.style[a?"right":"left"]=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};function le(a,b,c,d,e){q(b)&&(b=[b]);q(c)&&(c=[c]);W.call(this,a,b,c,d,e);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");}t(le,W);
le.prototype.Ha=function(){var a=this.coords[0],b=this.element.style;"opacity"in b?b.opacity=a:"MozOpacity"in b?b.MozOpacity=a:"filter"in b&&(b.filter=""===a?"":"alpha(opacity="+100*a+")")};le.prototype.show=function(){this.element.style.display=""};function me(a,b,c){le.call(this,a,1,0,b,c)}t(me,le);me.prototype.ea=function(){this.show();me.j.ea.call(this)};me.prototype.ma=function(){this.element.style.display="none";me.j.ma.call(this)};function ne(a,b,c){le.call(this,a,0,1,b,c)}t(ne,le);
ne.prototype.ea=function(){this.show();ne.j.ea.call(this)};function oe(a,b,c){this.duration=500;xd.call(this,a,b,c)}t(oe,xd);oe.prototype.Jb=function(){this.p.dispatchEvent("e");var a=new me(this.p.v,this.duration);Yc(a,"end",this.Ib,!1,this);a.play()};oe.prototype.Xa=function(){this.q.dispatchEvent("c");this.q.v.style.display="none";this.T.O(this.q.v,this.q.Y);var a=new ne(this.q.v,this.duration);Yc(a,"end",this.Cb,!1,this);a.play()};function pe(a){return a*a*a}function qe(a,b){return 1-Math.pow(1-a,m(b)?b:3)};function re(a,b,c){this.duration=500;xd.call(this,a,b,c)}t(re,xd);re.prototype.c=J("concerto.frontend.Transition.Slide");re.prototype.Jb=function(){this.p.dispatchEvent("e");var a=new ke(this.p.v,[this.p.v.offsetLeft,this.p.v.offsetTop],[0-this.T.position.a.clientWidth,this.p.v.offsetTop],this.duration,pe);Yc(a,"end",this.Ib,!1,this);a.play()};
re.prototype.Xa=function(){this.c.info("Field "+this.T.id+" is sliding in.");this.q.dispatchEvent("c");this.T.O(this.q.v,this.q.Y);var a=new ke(this.q.v,[this.T.position.a.clientWidth,0],[0,0],this.duration,qe);Yc(a,"end",this.Cb,!1,this);a.play()};function se(a,b){this.id=null;this.P=a;this.a=b||this.wb()}f=se.prototype;f.c=J("concerto.frontend.Position");f.wb=function(){var a=Ab("div",{id:"position_"+this.id,"class":"position"});E(a,"position","absolute");this.P.O(a);return a};
f.load=function(a){this.id=a.id;this.bd=parseFloat(a.bottom);this.pc=parseFloat(a.left);this.Cd=parseFloat(a.right);this.Hc=parseFloat(a.top);this.Dc=a.style;var b=this.a,c=100*this.pc+"%",d=100*this.Hc+"%",e=B&&(Za||fb)&&D("1.9");b.style.left=Ob(c,e);b.style.top=Ob(d,e);G(this.a,100*(this.Cd-this.pc)+"%",100*(this.bd-this.Hc)+"%");b=oe;c=null;if(null!=a.field.config&&(c=a.field.config,null!=c.transition))switch(c.transition.toLowerCase()){case "slide":b=re;break;case "replace":b=xd;break;default:b=
oe}this.T=new Sd(this,a.field.id,a.field.name,a.field_contents_path,b,c);this.zc()};f.O=function(a){this.a.appendChild(a)};f.zc=function(){yb(this.a,{id:"position_"+this.id,"class":"position"});E(this.a,te)};function Yd(a){a=null==a.Dc?"":Ub(a.Dc);a=Ha(a,function(a,b){return!(0<=x(ue,b.toLowerCase()))});var b={};Ma(b,ve);Ma(b,a);return b}f.l=function(){this.T.l();Gb(this.a);delete this.a};var ue="overflow width height top left bottom right".split(" "),te={overflow:"hidden"},ve={position:"absolute"};function we(a,b){this.screen=a;this.path=this.id=null;this.Lb=[];this.a=b||this.wb()}f=we.prototype;f.c=J("concerto.frontend.Template");f.wb=function(){var a=Ab("div",{id:"template","class":"template"});G(a,"100%","100%");this.screen.O(a);return a};f.load=function(a){this.id=a.id;this.ga=a.path;this.dc=a.css_path;yb(this.a,{id:"template_"+this.id});xe(this);null!=a.positions&&y(a.positions,r(function(a){var c=new se(this);c.load(a);a=this.Lb;0<=x(a,c)||a.push(c)},this))};
function xe(a){var b=H(a.a);if(null!=a.ga){var c=new uc(a.ga),d=b.height;K(c);c.H.set("height",d);b=b.width;K(c);c.H.set("width",b);E(a.a,"background-image","url("+c.toString()+")")}E(a.a,"background-size","100% 100%");E(a.a,"background-repeat","no-repeat");null!=a.dc&&(a=Ab("link",{href:a.dc,media:"screen",rel:"stylesheet",type:"text/css"}),document.head.appendChild(a))}f.O=function(a){this.a.appendChild(a)};f.l=function(){y(this.Lb,r(function(a){a.l()},this));this.Lb.length=0;Gb(this.a);delete this.a};function ye(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function ze(){}ze.prototype.Zb=null;function Ae(a){var b;(b=a.Zb)||(b={},Be(a)&&(b[0]=!0,b[1]=!0),b=a.Zb=b);return b};var Ce;function De(){}t(De,ze);function Ee(a){return(a=Be(a))?new ActiveXObject(a):new XMLHttpRequest}function Be(a){if(!a.mc&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.mc=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.mc}Ce=new De;function X(a,b){a&&a.log(nc,b,void 0)};function Fe(a){R.call(this);this.headers=new I;this.tb=a||null;this.R=!1;this.sb=this.d=null;this.oc=this.Za="";this.la=0;this.U="";this.ca=this.Db=this.Wa=this.zb=!1;this.Q=0;this.lb=null;this.Ea=He;this.ob=this.Jd=!1}t(Fe,R);var He="",Ie=Fe.prototype,Je=J("goog.net.XhrIo");Ie.c=Je;var Ke=/^https?$/i,Le=["POST","PUT"];f=Fe.prototype;f.Ac=function(a){this.Q=Math.max(0,a)};
f.send=function(a,b,c,d){if(this.d)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Za+"; newUri="+a);b=b?b.toUpperCase():"GET";this.Za=a;this.U="";this.la=0;this.oc=b;this.zb=!1;this.R=!0;this.d=this.tb?Ee(this.tb):Ee(Ce);this.sb=this.tb?Ae(this.tb):Ae(Ce);this.d.onreadystatechange=r(this.uc,this);try{X(this.c,Y(this,"Opening Xhr")),this.Db=!0,this.d.open(b,String(a),!0),this.Db=!1}catch(e){X(this.c,Y(this,"Error opening Xhr: "+e.message));Me(this,e);return}a=c||"";var g=
this.headers.u();d&&Xb(d,function(a,b){g.set(b,a)});d=Pa(g.I());c=l.FormData&&a instanceof l.FormData;!(0<=x(Le,b))||d||c||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Xb(g,function(a,b){this.d.setRequestHeader(b,a)},this);this.Ea&&(this.d.responseType=this.Ea);"withCredentials"in this.d&&(this.d.withCredentials=this.Jd);try{Ne(this),0<this.Q&&(this.ob=Oe(this.d),X(this.c,Y(this,"Will abort after "+this.Q+"ms if incomplete, xhr2 "+this.ob)),this.ob?(this.d.timeout=this.Q,
this.d.ontimeout=r(this.Fc,this)):this.lb=qd(this.Fc,this.Q,this)),X(this.c,Y(this,"Sending request")),this.Wa=!0,this.d.send(a),this.Wa=!1}catch(h){X(this.c,Y(this,"Send error: "+h.message)),Me(this,h)}};function Oe(a){return A&&D(9)&&q(a.timeout)&&m(a.ontimeout)}function Qa(a){return"content-type"==a.toLowerCase()}f.Fc=function(){"undefined"!=typeof aa&&this.d&&(this.U="Timed out after "+this.Q+"ms, aborting",this.la=8,X(this.c,Y(this,this.U)),this.dispatchEvent("timeout"),this.abort(8))};
function Me(a,b){a.R=!1;a.d&&(a.ca=!0,a.d.abort(),a.ca=!1);a.U=b;a.la=5;Pe(a);Qe(a)}function Pe(a){a.zb||(a.zb=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}f.abort=function(a){this.d&&this.R&&(X(this.c,Y(this,"Aborting")),this.R=!1,this.ca=!0,this.d.abort(),this.ca=!1,this.la=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Qe(this))};f.k=function(){this.d&&(this.R&&(this.R=!1,this.ca=!0,this.d.abort(),this.ca=!1),Qe(this,!0));Fe.j.k.call(this)};
f.uc=function(){this.ja||(this.Db||this.Wa||this.ca?Re(this):this.Bd())};f.Bd=function(){Re(this)};
function Re(a){if(a.R&&"undefined"!=typeof aa)if(a.sb[1]&&4==Se(a)&&2==Te(a))X(a.c,Y(a,"Local request error detected and ignored"));else if(a.Wa&&4==Se(a))qd(a.uc,0,a);else if(a.dispatchEvent("readystatechange"),4==Se(a)){X(a.c,Y(a,"Request complete"));a.R=!1;try{if(Vd(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.la=6;var b;try{b=2<Se(a)?a.d.statusText:""}catch(c){X(a.c,"Can not get status: "+c.message),b=""}a.U=b+" ["+Te(a)+"]";Pe(a)}}finally{Qe(a)}}}
function Qe(a,b){if(a.d){Ne(a);var c=a.d,d=a.sb[0]?ca:null;a.d=null;a.sb=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){(c=a.c)&&c.log(jc,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Ne(a){a.d&&a.ob&&(a.d.ontimeout=null);q(a.lb)&&(l.clearTimeout(a.lb),a.lb=null)}f.Ya=function(){return!!this.d};
function Vd(a){var b=Te(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=sc(String(a.Za))[1]||null,!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1)),b=!Ke.test(a?a.toLowerCase():"");c=b}return c}function Se(a){return a.d?a.d.readyState:0}function Te(a){try{return 2<Se(a)?a.d.status:-1}catch(b){return(a=a.c)&&a.log(kc,"Can not get status: "+b.message,void 0),-1}}
function Wd(a){if(a.d)return ye(a.d.responseText)}f.getResponseHeader=function(a){return this.d&&4==Se(this)?this.d.getResponseHeader(a):void 0};function Y(a,b){return b+" ["+a.oc+" "+a.Za+" "+Te(a)+"]"};function Ue(a,b){N.call(this);this.rc=a||0;this.bb=b||10;if(this.rc>this.bb)throw Error(Ve);this.M=new Rd;this.N=new $b;this.yb=0;this.Eb=null;this.Ia()}t(Ue,N);var Ve="[goog.structs.Pool] Min can not be greater than max";f=Ue.prototype;f.Sa=function(){var a=s();if(!(null!=this.Eb&&a-this.Eb<this.yb)){for(var b;0<this.M.m()&&(b=this.M.Z(),!this.Gb(b));)this.Ia();!b&&this.m()<this.bb&&(b=this.xb());b&&(this.Eb=a,this.N.add(b));return b}};
f.sa=function(a){this.N.remove(a);this.Gb(a)&&this.m()<this.bb?this.M.ka(a):We(a)};f.Ia=function(){for(var a=this.M;this.m()<this.rc;)a.ka(this.xb());for(;this.m()>this.bb&&0<this.M.m();)We(a.Z())};f.xb=function(){return{}};function We(a){if("function"==typeof a.l)a.l();else for(var b in a)a[b]=null}f.Gb=function(a){return"function"==typeof a.dd?a.dd():!0};f.m=function(){return this.M.m()+this.N.m()};f.A=function(){return this.M.A()&&this.N.A()};
f.k=function(){Ue.j.k.call(this);if(0<this.N.m())throw Error("[goog.structs.Pool] Objects not released");delete this.N;for(var a=this.M;!a.A();)We(a.Z());delete this.M};function Xe(a,b){this.nc=a;this.qb=b}Xe.prototype.getKey=function(){return this.nc};Xe.prototype.u=function(){return new Xe(this.nc,this.qb)};function Ye(a){this.B=[];if(a)a:{var b,c;if(a instanceof Ye){if(b=a.I(),c=a.r(),0>=a.m()){a=this.B;for(var d=0;d<b.length;d++)a.push(new Xe(b[d],c[d]));break a}}else b=Ja(a),c=Ia(a);for(d=0;d<b.length;d++)Ze(this,b[d],c[d])}}function Ze(a,b,c){var d=a.B;d.push(new Xe(b,c));b=d.length-1;a=a.B;for(c=a[b];0<b;)if(d=b-1>>1,a[d].getKey()>c.getKey())a[b]=a[d],b=d;else break;a[b]=c}f=Ye.prototype;
f.remove=function(){var a=this.B,b=a.length,c=a[0];if(!(0>=b)){if(1==b)Ra(a);else{a[0]=a.pop();for(var a=0,b=this.B,d=b.length,e=b[a];a<d>>1;){var g=2*a+1,h=2*a+2,g=h<d&&b[h].getKey()<b[g].getKey()?h:g;if(b[g].getKey()>e.getKey())break;b[a]=b[g];a=g}b[a]=e}return c.qb}};f.eb=function(){var a=this.B;return 0==a.length?void 0:a[0].qb};f.r=function(){for(var a=this.B,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].qb);return b};
f.I=function(){for(var a=this.B,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};f.ia=function(a){return Oa(this.B,function(b){return b.getKey()==a})};f.u=function(){return new Ye(this)};f.m=function(){return this.B.length};f.A=function(){return 0==this.B.length};f.clear=function(){Ra(this.B)};function $e(){Ye.call(this)}t($e,Ye);$e.prototype.ka=function(a,b){Ze(this,a,b)};$e.prototype.Z=function(){return this.remove()};function Z(a,b){this.ec=void 0;this.ib=new $e;Ue.call(this,a,b)}t(Z,Ue);f=Z.prototype;f.Sa=function(a,b){if(!a){var c=Z.j.Sa.call(this);c&&this.yb&&(this.ec=l.setTimeout(r(this.Ua,this),this.yb));return c}this.ib.ka(m(b)?b:100,a);this.Ua()};f.Ua=function(){for(var a=this.ib;0<a.m();){var b=this.Sa();if(b)a.Z().apply(this,[b]);else break}};f.sa=function(a){Z.j.sa.call(this,a);this.Ua()};f.Ia=function(){Z.j.Ia.call(this);this.Ua()};
f.k=function(){Z.j.k.call(this);l.clearTimeout(this.ec);this.ib.clear();this.ib=null};function af(a,b,c){Z.call(this,b,c);this.Bb=a}t(af,Z);af.prototype.xb=function(){var a=new Fe,b=this.Bb;b&&Xb(b,function(b,d){a.headers.set(d,b)});return a};af.prototype.Gb=function(a){return!a.ja&&!a.Ya()};function bf(a,b,c,d,e){R.call(this);this.Ca=m(a)?a:1;this.Q=m(e)?Math.max(0,e):0;this.ra=new af(b,c,d);this.D=new I;this.va=new zd(this)}t(bf,R);var cf="ready complete success error abort timeout".split(" ");f=bf.prototype;f.Ac=function(a){this.Q=Math.max(0,a)};f.send=function(a,b,c,d,e,g,h,k,u){if(this.D.get(a))throw Error("[goog.net.XhrManager] ID in use");b=new df(b,r(this.qd,this,a),c,d,e,h,m(k)?k:this.Ca,u);this.D.set(a,b);a=r(this.pd,this,a);this.ra.Sa(a,g);return b};
f.abort=function(a,b){var c=this.D.get(a);if(c){var d=c.rb;c.Wb=!0;b&&(d&&(this.va.qa(d,cf,c.Rb),P(d,"ready",function(){var a=this.ra;a.N.remove(d)&&a.sa(d)},!1,this)),this.D.remove(a));d&&d.abort()}};f.pd=function(a,b){var c=this.D.get(a);c&&!c.rb?(this.va.$a(b,cf,c.Rb),b.Ac(this.Q),b.Ea=c.Ea,c.rb=b,this.dispatchEvent(new ef("ready",this,a,b)),ff(this,a,b),c.Wb&&b.abort()):(c=this.ra,c.N.remove(b)&&c.sa(b))};
f.qd=function(a,b){var c=b.target;switch(b.type){case "ready":ff(this,a,c);break;case "complete":a:{var d=this.D.get(a);if(7==c.la||Vd(c)||d.Ja>d.Ca)if(this.dispatchEvent(new ef("complete",this,a,c)),d&&(d.ac=!0,d.$b)){c=d.$b.call(c,b);break a}c=null}return c;case "success":this.dispatchEvent(new ef("success",this,a,c));break;case "timeout":case "error":d=this.D.get(a);d.Ja>d.Ca&&this.dispatchEvent(new ef("error",this,a,c));break;case "abort":this.dispatchEvent(new ef("abort",this,a,c))}return null};
function ff(a,b,c){var d=a.D.get(b);!d||d.ac||d.Ja>d.Ca?(d&&(a.va.qa(c,cf,d.Rb),a.D.remove(b)),a=a.ra,a.N.remove(c)&&a.sa(c)):(d.Ja++,c.send(d.Hd,d.wd,d.fd,d.Bb))}f.k=function(){bf.j.k.call(this);this.ra.l();this.ra=null;this.va.l();this.va=null;var a=this.D;Xb(a,function(a){a.l()});a.clear();this.D=null};function ef(a,b,c,d){O.call(this,a,b);this.id=c;this.rb=d}t(ef,O);
function df(a,b,c,d,e,g,h,k){this.Hd=a;this.wd=c||"GET";this.fd=d;this.Bb=e||null;this.Ca=m(h)?h:1;this.Ja=0;this.Wb=this.ac=!1;this.Rb=b;this.$b=g;this.Ea=k||He;this.rb=null};function gf(a,b,c){this.Na=new bf(2,null,0,2);this.id=a;this.options=c;this.Ed=this.options.setupPath;this.name="New Screen";this.bc=b||document.body;this.jb="";hf(this)}var jf=["concerto","frontend","Screen"],$=l;jf[0]in $||!$.execScript||$.execScript("var "+jf[0]);for(var kf;jf.length&&(kf=jf.shift());)jf.length||void 0===gf?$=$[kf]?$[kf]:$[kf]={}:$[kf]=gf;gf.prototype.c=J("concerto.frontend.Screen");
gf.prototype.refresh=function(){requests=this.Na.D.I();y(requests,r(function(a){this.Na.abort(a,!0)},this));this.P&&(this.P.l(),delete this.P);hf(this)};
function hf(a){var b=Ab("div",{id:"screen_"+a.id,"class":"screen"});G(b,"100%","100%");E(b,"position","relative");Fb(a.bc);a.bc.appendChild(b);a.a=b;a.jb="";b=a.Ta();b=a.Ed+"?"+b.toString();a.c.info("Requesting screen config from "+b);a.Na.send("setup",b,"GET","",null,1,r(function(a){a=Wd(a.target);this.name=a.name;null!=a.template&&(this.P=new we(this),this.P.load(a.template))},a))}gf.prototype.O=function(a){this.a.appendChild(a)};
gf.prototype.Ta=function(){var a=new yc;this.options.isPreview&&a.add("preview","true");return a};function Xd(a,b){""==a.jb&&(a.jb=b);a.jb!=b&&(a.c.info("Triggering a screen refresh"),a.refresh())};
