var e,aa=aa||{},l=this;function ba(a){a=a.split(".");for(var b=l,c;c=a.shift();)if(null!=b[c])b=b[c];else return null;return b}function ca(){}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function m(a){return void 0!==a}function p(a){return"array"==da(a)}function ea(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function q(a){return"string"==typeof a}function fa(a){return"number"==typeof a}function ga(a){return"function"==da(a)}function ha(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function r(a){return a[ia]||(a[ia]=++ja)}
var ia="closure_uid_"+(1E9*Math.random()>>>0),ja=0;function ka(a,b,c){return a.call.apply(a.bind,arguments)}function la(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}
function t(a,b,c){t=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ka:la;return t.apply(null,arguments)}function ma(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}var w=Date.now||function(){return+new Date};function x(a,b){function c(){}c.prototype=b.prototype;a.i=b.prototype;a.prototype=new c};function na(a){Error.captureStackTrace?Error.captureStackTrace(this,na):this.stack=Error().stack||"";a&&(this.message=String(a))}x(na,Error);na.prototype.name="CustomError";function oa(a,b){for(var c=a.split("%s"),d="",f=Array.prototype.slice.call(arguments,1);f.length&&1<c.length;)d+=c.shift()+f.shift();return d+c.join("%s")}function pa(a){if(!qa.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(ra,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(sa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(ta,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(ua,"&quot;"));return a}var ra=/&/g,sa=/</g,ta=/>/g,ua=/\"/g,qa=/[&<>\"]/;
function y(a,b){var c=m(void 0)?a.toFixed(void 0):String(a),d=c.indexOf(".");-1==d&&(d=c.length);d=Math.max(0,b-d);return Array(d+1).join("0")+c}function va(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}function wa(a){var b=q(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,f){return b+f.toUpperCase()})};function xa(a,b){b.unshift(a);na.call(this,oa.apply(null,b));b.shift()}x(xa,na);xa.prototype.name="AssertionError";function ya(a,b){throw new xa("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};function za(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function Aa(a,b){var c={},d;for(d in a)b.call(void 0,a[d],d,a)&&(c[d]=a[d]);return c}function Ba(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function Ca(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function Da(a){for(var b in a)return!1;return!0}var Ea="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Fa(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var g=0;g<Ea.length;g++)c=Ea[g],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var z=Array.prototype,Ga=z.indexOf?function(a,b,c){return z.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(q(a))return q(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ha=z.forEach?function(a,b,c){z.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=q(a)?a.split(""):a,g=0;g<d;g++)g in f&&b.call(c,f[g],g,a)},Ia=z.filter?function(a,b,c){return z.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],g=0,h=q(a)?
a.split(""):a,k=0;k<d;k++)if(k in h){var s=h[k];b.call(c,s,k,a)&&(f[g++]=s)}return f},Ja=z.some?function(a,b,c){return z.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=q(a)?a.split(""):a,g=0;g<d;g++)if(g in f&&b.call(c,f[g],g,a))return!0;return!1};function Ka(a){var b;a:{b=La;for(var c=a.length,d=q(a)?a.split(""):a,f=0;f<c;f++)if(f in d&&b.call(void 0,d[f],f,a)){b=f;break a}b=-1}return 0>b?null:q(a)?a.charAt(b):a[b]}
function Ma(a){if(!p(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}function Na(a,b){var c=Ga(a,b),d;(d=0<=c)&&z.splice.call(a,c,1);return d}function Oa(a){return z.concat.apply(z,arguments)}function Pa(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Qa(a,b,c){return 2>=arguments.length?z.slice.call(a,b):z.slice.call(a,b,c)};var Ra;function Sa(a,b){var c;c=a.className;c=q(c)&&c.match(/\S+/g)||[];for(var d=Qa(arguments,1),f=c.length+d.length,g=c,h=0;h<d.length;h++)0<=Ga(g,d[h])||g.push(d[h]);a.className=c.join(" ");return c.length==f};var Ta,Ua,Va,Wa,Xa;function Ya(){return l.navigator?l.navigator.userAgent:null}function Za(){return l.navigator}Wa=Va=Ua=Ta=!1;var $a;if($a=Ya()){var ab=Za();Ta=0==$a.indexOf("Opera");Ua=!Ta&&-1!=$a.indexOf("MSIE");Va=!Ta&&-1!=$a.indexOf("WebKit");Wa=!Ta&&!Va&&"Gecko"==ab.product}var bb=Ta,A=Ua,B=Wa,C=Va,cb=Za();Xa=-1!=(cb&&cb.platform||"").indexOf("Mac");var db=!!Za()&&-1!=(Za().appVersion||"").indexOf("X11");function eb(){var a=l.document;return a?a.documentMode:void 0}var fb;
a:{var gb="",hb;if(bb&&l.opera)var ib=l.opera.version,gb="function"==typeof ib?ib():ib;else if(B?hb=/rv\:([^\);]+)(\)|;)/:A?hb=/MSIE\s+([^\);]+)(\)|;)/:C&&(hb=/WebKit\/(\S+)/),hb)var jb=hb.exec(Ya()),gb=jb?jb[1]:"";if(A){var kb=eb();if(kb>parseFloat(gb)){fb=String(kb);break a}}fb=gb}var lb={};
function D(a){var b;if(!(b=lb[a])){b=0;for(var c=String(fb).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(c.length,d.length),g=0;0==b&&g<f;g++){var h=c[g]||"",k=d[g]||"",s=RegExp("(\\d*)(\\D*)","g"),n=RegExp("(\\d*)(\\D*)","g");do{var v=s.exec(h)||["","",""],u=n.exec(k)||["","",""];if(0==v[0].length&&0==u[0].length)break;b=((0==v[1].length?0:parseInt(v[1],10))<(0==u[1].length?0:parseInt(u[1],10))?-1:(0==v[1].length?0:parseInt(v[1],
10))>(0==u[1].length?0:parseInt(u[1],10))?1:0)||((0==v[2].length)<(0==u[2].length)?-1:(0==v[2].length)>(0==u[2].length)?1:0)||(v[2]<u[2]?-1:v[2]>u[2]?1:0)}while(0==b)}b=lb[a]=0<=b}return b}var mb=l.document,nb=mb&&A?eb()||("CSS1Compat"==mb.compatMode?parseInt(fb,10):5):void 0;function ob(a,b){this.width=a;this.height=b}e=ob.prototype;e.r=function(){return new ob(this.width,this.height)};e.toString=function(){return"("+this.width+" x "+this.height+")"};e.u=function(){return!(this.width*this.height)};function pb(a,b){return a.width<=b.width&&a.height<=b.height}e.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};e.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};var qb=!A||A&&9<=nb,rb=!B&&!A||A&&A&&9<=nb||B&&D("1.9.1");A&&D("9");function sb(a,b){za(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in tb?a.setAttribute(tb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var tb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function ub(a,b,c){return vb(document,arguments)}function vb(a,b){var c=b[0],d=b[1];if(!qb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',pa(d.name),'"');if(d.type){c.push(' type="',pa(d.type),'"');var f={};Fa(f,d);delete f.type;d=f}c.push(">");c=c.join("")}c=a.createElement(c);d&&(q(d)?c.className=d:p(d)?Sa.apply(null,[c].concat(d)):sb(c,d));2<b.length&&wb(a,c,b);return c}
function wb(a,b,c){function d(c){c&&b.appendChild(q(c)?a.createTextNode(c):c)}for(var f=2;f<c.length;f++){var g=c[f];!ea(g)||ha(g)&&0<g.nodeType?d(g):Ha(xb(g)?Pa(g):g,d)}}function yb(a){for(var b;b=a.firstChild;)a.removeChild(b)}function zb(a){for(;a&&1!=a.nodeType;)a=a.nextSibling;return a}function Ab(a){return 9==a.nodeType?a:a.ownerDocument||a.document}
function xb(a){if(a&&"number"==typeof a.length){if(ha(a))return"function"==typeof a.item||"string"==typeof a.item;if(ga(a))return"function"==typeof a.item}return!1}function Bb(a){this.Ga=a||l.document||document}e=Bb.prototype;e.ic=sb;e.Tc=function(a,b,c){return vb(this.Ga,arguments)};e.createElement=function(a){return this.Ga.createElement(a)};e.createTextNode=function(a){return this.Ga.createTextNode(String(a))};e.appendChild=function(a,b){a.appendChild(b)};
e.Ub=function(a){return rb&&void 0!=a.children?a.children:Ia(a.childNodes,function(a){return 1==a.nodeType})};function E(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}E.prototype.r=function(){return new E(this.top,this.right,this.bottom,this.left)};E.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"};E.prototype.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};
E.prototype.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};function F(a,b,c){q(b)?Cb(a,c,b):za(b,ma(Cb,a))}function Cb(a,b,c){var d;a:if(d=va(c),void 0===a.style[d]&&(c=(C?"Webkit":B?"Moz":A?"ms":bb?"O":null)+wa(c),void 0!==a.style[c])){d=c;break a}d&&(a.style[d]=b)}function G(a,b){var c=Ab(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}
function H(a,b,c){if(b instanceof ob)c=b.height,b=b.width;else if(void 0==c)throw Error("missing height argument");a.style.width=Db(b,!0);a.style.height=Db(c,!0)}function Db(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}
function Eb(a){var b=Fb;if("none"!=(G(a,"display")||(a.currentStyle?a.currentStyle.display:null)||a.style&&a.style.display))return b(a);var c=a.style,d=c.display,f=c.visibility,g=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=g;c.visibility=f;return a}
function Fb(a){var b=a.offsetWidth,c=a.offsetHeight,d=C&&!b&&!c;if((!m(b)||d)&&a.getBoundingClientRect){var f;a:{try{f=a.getBoundingClientRect()}catch(g){f={left:0,top:0,right:0,bottom:0};break a}A&&(a=a.ownerDocument,f.left-=a.documentElement.clientLeft+a.body.clientLeft,f.top-=a.documentElement.clientTop+a.body.clientTop)}return new ob(f.right-f.left,f.bottom-f.top)}return new ob(b,c)}
function Gb(a,b){if(/^\d+px?$/.test(b))return parseInt(b,10);var c=a.style.left,d=a.runtimeStyle.left;a.runtimeStyle.left=a.currentStyle.left;a.style.left=b;var f=a.style.pixelLeft;a.style.left=c;a.runtimeStyle.left=d;return f}function Hb(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?Gb(a,c):0}var Ib={thin:2,medium:4,thick:6};
function Jb(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in Ib?Ib[c]:Gb(a,c)}function Kb(a){var b={};Ha(a.split(/\s*;\s*/),function(a){a=a.split(/\s*:\s*/);2==a.length&&(b[va(a[0].toLowerCase())]=a[1])});return b};function Lb(){this.ec=w()}new Lb;Lb.prototype.set=function(a){this.ec=a};Lb.prototype.reset=function(){this.set(w())};Lb.prototype.get=function(){return this.ec};function Mb(a){if("function"==typeof a.n)return a.n();if(q(a))return a.split("");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Ba(a)}function Nb(a,b,c){if("function"==typeof a.forEach)a.forEach(b,c);else if(ea(a)||q(a))Ha(a,b,c);else{var d;if("function"==typeof a.N)d=a.N();else if("function"!=typeof a.n)if(ea(a)||q(a)){d=[];for(var f=a.length,g=0;g<f;g++)d.push(g)}else d=Ca(a);else d=void 0;for(var f=Mb(a),g=f.length,h=0;h<g;h++)b.call(c,f[h],d&&d[h],a)}};function Ob(a,b){this.k={};this.h=[];var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.ib(a)}e=Ob.prototype;e.e=0;e.j=function(){return this.e};e.n=function(){Pb(this);for(var a=[],b=0;b<this.h.length;b++)a.push(this.k[this.h[b]]);return a};e.N=function(){Pb(this);return this.h.concat()};e.ga=function(a){return Qb(this.k,a)};e.u=function(){return 0==this.e};
e.clear=function(){this.k={};this.e=this.h.length=0};e.remove=function(a){return Qb(this.k,a)?(delete this.k[a],this.e--,this.h.length>2*this.e&&Pb(this),!0):!1};function Pb(a){if(a.e!=a.h.length){for(var b=0,c=0;b<a.h.length;){var d=a.h[b];Qb(a.k,d)&&(a.h[c++]=d);b++}a.h.length=c}if(a.e!=a.h.length){for(var f={},c=b=0;b<a.h.length;)d=a.h[b],Qb(f,d)||(a.h[c++]=d,f[d]=1),b++;a.h.length=c}}e.get=function(a,b){return Qb(this.k,a)?this.k[a]:b};
e.set=function(a,b){Qb(this.k,a)||(this.e++,this.h.push(a));this.k[a]=b};e.ib=function(a){var b;a instanceof Ob?(b=a.N(),a=a.n()):(b=Ca(a),a=Ba(a));for(var c=0;c<b.length;c++)this.set(b[c],a[c])};e.r=function(){return new Ob(this)};function Qb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function Rb(a){this.k=new Ob;a&&this.ib(a)}function Sb(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+r(a):b.substr(0,1)+a}e=Rb.prototype;e.j=function(){return this.k.j()};e.add=function(a){this.k.set(Sb(a),a)};e.ib=function(a){a=Mb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};e.ya=function(a){a=Mb(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};e.remove=function(a){return this.k.remove(Sb(a))};e.clear=function(){this.k.clear()};e.u=function(){return this.k.u()};e.n=function(){return this.k.n()};
e.r=function(){return new Rb(this)};function Tb(a){return Ub(a||arguments.callee.caller,[])}
function Ub(a,b){var c=[];if(0<=Ga(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(Vb(a)+"(");for(var d=a.arguments,f=0;f<d.length;f++){0<f&&c.push(", ");var g;g=d[f];switch(typeof g){case "object":g=g?"object":"null";break;case "string":break;case "number":g=String(g);break;case "boolean":g=g?"true":"false";break;case "function":g=(g=Vb(g))?g:"[fn]";break;default:g=typeof g}40<g.length&&(g=g.substr(0,40)+"...");c.push(g)}b.push(a);c.push(")\n");try{c.push(Ub(a.caller,b))}catch(h){c.push("[exception trying to get caller]\n")}}else a?
c.push("[...long stack...]"):c.push("[end]");return c.join("")}function Vb(a){if(Wb[a])return Wb[a];a=String(a);if(!Wb[a]){var b=/function ([^\(]+)/.exec(a);Wb[a]=b?b[1]:"[Anonymous]"}return Wb[a]}var Wb={};function Xb(a,b,c,d,f){this.reset(a,b,c,d,f)}Xb.prototype.Tb=null;Xb.prototype.Sb=null;var Yb=0;Xb.prototype.reset=function(a,b,c,d,f){"number"==typeof f||Yb++;d||w();this.va=a;this.ld=b;delete this.Tb;delete this.Sb};Xb.prototype.hc=function(a){this.va=a};function Zb(a){this.md=a}Zb.prototype.W=null;Zb.prototype.va=null;Zb.prototype.kb=null;Zb.prototype.Vb=null;function $b(a,b){this.name=a;this.value=b}$b.prototype.toString=function(){return this.name};var ac=new $b("SEVERE",1E3),bc=new $b("WARNING",900),cc=new $b("INFO",800),dc=new $b("CONFIG",700),ec=new $b("FINE",500);e=Zb.prototype;e.getParent=function(){return this.W};e.Ub=function(){this.kb||(this.kb={});return this.kb};e.hc=function(a){this.va=a};
function fc(a){if(a.va)return a.va;if(a.W)return fc(a.W);ya("Root logger has no level set.");return null}e.log=function(a,b,c){if(a.value>=fc(this).value)for(a=this.$c(a,b,c),b="log:"+a.ld,l.console&&(l.console.timeStamp?l.console.timeStamp(b):l.console.markTimeline&&l.console.markTimeline(b)),l.msWriteProfilerMark&&l.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.Vb)for(var f=0,g=void 0;g=c.Vb[f];f++)g(d);b=b.getParent()}};
e.$c=function(a,b,c){var d=new Xb(a,String(b),this.md);if(c){d.Tb=c;var f;var g=arguments.callee.caller;try{var h;var k=ba("window.location.href");if(q(c))h={message:c,name:"Unknown error",lineNumber:"Not available",fileName:k,stack:"Not available"};else{var s,n,v=!1;try{s=c.lineNumber||c.Cd||"Not available"}catch(u){s="Not available",v=!0}try{n=c.fileName||c.filename||c.sourceURL||l.$googDebugFname||k}catch(Ze){n="Not available",v=!0}h=!v&&c.lineNumber&&c.fileName&&c.stack?c:{message:c.message,name:c.name,
lineNumber:s,fileName:n,stack:c.stack||"Not available"}}f="Message: "+pa(h.message)+'\nUrl: <a href="view-source:'+h.fileName+'" target="_new">'+h.fileName+"</a>\nLine: "+h.lineNumber+"\n\nBrowser stack:\n"+pa(h.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+pa(Tb(g)+"-> ")}catch(xe){f="Exception trying to expose exception! You win, we lose. "+xe}d.Sb=f}return d};e.info=function(a,b){this.log(cc,a,b)};var gc={},hc=null;
function I(a){hc||(hc=new Zb(""),gc[""]=hc,hc.hc(dc));var b;if(!(b=gc[a])){b=new Zb(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=I(a.substr(0,c));c.Ub()[d]=b;b.W=c;gc[a]=b}return b};var ic=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function jc(a){if(kc){kc=!1;var b=l.location;if(b){var c=b.href;if(c&&(c=(c=jc(c)[3]||null)&&decodeURIComponent(c))&&c!=b.hostname)throw kc=!0,Error();}}return a.match(ic)}var kc=C;function lc(a,b){var c;if(a instanceof lc)this.t=m(b)?b:a.t,mc(this,a.la),c=a.cb,J(this),this.cb=c,c=a.qa,J(this),this.qa=c,nc(this,a.Va),c=a.da,J(this),this.da=c,oc(this,a.La().r()),c=a.Ja,J(this),this.Ja=c;else if(a&&(c=jc(String(a)))){this.t=!!b;mc(this,c[1]||"",!0);var d=c[2]||"";J(this);this.cb=d?decodeURIComponent(d):"";d=c[3]||"";J(this);this.qa=d?decodeURIComponent(d):"";nc(this,c[4]);d=c[5]||"";J(this);this.da=d?decodeURIComponent(d):"";oc(this,c[6]||"",!0);c=c[7]||"";J(this);this.Ja=c?decodeURIComponent(c):
""}else this.t=!!b,this.D=new pc(null,0,this.t)}e=lc.prototype;e.la="";e.cb="";e.qa="";e.Va=null;e.da="";e.Ja="";e.fd=!1;e.t=!1;e.toString=function(){var a=[],b=this.la;b&&a.push(qc(b,rc),":");if(b=this.qa){a.push("//");var c=this.cb;c&&a.push(qc(c,rc),"@");a.push(encodeURIComponent(String(b)));b=this.Va;null!=b&&a.push(":",String(b))}if(b=this.da)this.qa&&"/"!=b.charAt(0)&&a.push("/"),a.push(qc(b,"/"==b.charAt(0)?sc:tc));(b=this.D.toString())&&a.push("?",b);(b=this.Ja)&&a.push("#",qc(b,uc));return a.join("")};
e.r=function(){return new lc(this)};function mc(a,b,c){J(a);a.la=c?b?decodeURIComponent(b):"":b;a.la&&(a.la=a.la.replace(/:$/,""))}function nc(a,b){J(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Va=b}else a.Va=null}function oc(a,b,c){J(a);b instanceof pc?(a.D=b,a.D.Db(a.t)):(c||(b=qc(b,vc)),a.D=new pc(b,0,a.t))}e.La=function(){return this.D};function J(a){if(a.fd)throw Error("Tried to modify a read-only Uri");}e.Db=function(a){this.t=a;this.D&&this.D.Db(a);return this};
function qc(a,b){return q(a)?encodeURI(a).replace(b,wc):null}function wc(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var rc=/[#\/\?@]/g,tc=/[\#\?:]/g,sc=/[\#\?]/g,vc=/[\#\?@]/g,uc=/#/g;function pc(a,b,c){this.q=a||null;this.t=!!c}
function K(a){if(!a.g&&(a.g=new Ob,a.e=0,a.q))for(var b=a.q.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),f=null,g=null;0<=d?(f=b[c].substring(0,d),g=b[c].substring(d+1)):f=b[c];f=decodeURIComponent(f.replace(/\+/g," "));f=xc(a,f);a.add(f,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}e=pc.prototype;e.g=null;e.e=null;e.j=function(){K(this);return this.e};e.add=function(a,b){K(this);this.q=null;a=xc(this,a);var c=this.g.get(a);c||this.g.set(a,c=[]);c.push(b);this.e++;return this};
e.remove=function(a){K(this);a=xc(this,a);return this.g.ga(a)?(this.q=null,this.e-=this.g.get(a).length,this.g.remove(a)):!1};e.clear=function(){this.g=this.q=null;this.e=0};e.u=function(){K(this);return 0==this.e};e.ga=function(a){K(this);a=xc(this,a);return this.g.ga(a)};e.N=function(){K(this);for(var a=this.g.n(),b=this.g.N(),c=[],d=0;d<b.length;d++)for(var f=a[d],g=0;g<f.length;g++)c.push(b[d]);return c};
e.n=function(a){K(this);var b=[];if(a)this.ga(a)&&(b=Oa(b,this.g.get(xc(this,a))));else{a=this.g.n();for(var c=0;c<a.length;c++)b=Oa(b,a[c])}return b};e.set=function(a,b){K(this);this.q=null;a=xc(this,a);this.ga(a)&&(this.e-=this.g.get(a).length);this.g.set(a,[b]);this.e++;return this};e.get=function(a,b){var c=a?this.n(a):[];return 0<c.length?String(c[0]):b};
e.toString=function(){if(this.q)return this.q;if(!this.g)return"";for(var a=[],b=this.g.N(),c=0;c<b.length;c++)for(var d=b[c],f=encodeURIComponent(String(d)),d=this.n(d),g=0;g<d.length;g++){var h=f;""!==d[g]&&(h+="="+encodeURIComponent(String(d[g])));a.push(h)}return this.q=a.join("&")};e.r=function(){var a=new pc;a.q=this.q;this.g&&(a.g=this.g.r(),a.e=this.e);return a};function xc(a,b){var c=String(b);a.t&&(c=c.toLowerCase());return c}
e.Db=function(a){a&&!this.t&&(K(this),this.q=null,Nb(this.g,function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.remove(d),0<a.length&&(this.q=null,this.g.set(xc(this,d),Pa(a)),this.e+=a.length))},this));this.t=a};var yc="closure_listenable_"+(1E6*Math.random()|0);function zc(a){return!(!a||!a[yc])}var Ac=0;function Bc(a,b,c,d,f,g){this.J=a;this.dc=b;this.src=c;this.type=d;this.capture=!!f;this.Z=g;this.key=++Ac;this.Q=this.fa=!1}function Cc(a){a.Q=!0;a.J=null;a.dc=null;a.src=null;a.Z=null};var Dc=!A||A&&9<=nb,Ec=A&&!D("9");!C||D("528");B&&D("1.9b")||A&&D("8")||bb&&D("9.5")||C&&D("528");B&&!D("8")||A&&D("9");function L(){0!=Fc&&(Gc[r(this)]=this)}var Fc=0,Gc={};L.prototype.ha=!1;L.prototype.m=function(){if(!this.ha&&(this.ha=!0,this.f(),0!=Fc)){var a=r(this);delete Gc[a]}};L.prototype.f=function(){if(this.ac)for(;this.ac.length;)this.ac.shift()()};function M(a,b){this.type=a;this.currentTarget=this.target=b}e=M.prototype;e.f=function(){};e.m=function(){};e.ea=!1;e.defaultPrevented=!1;e.fc=!0;e.preventDefault=function(){this.defaultPrevented=!0;this.fc=!1};function Hc(a){Hc[" "](a);return a}Hc[" "]=ca;function Ic(a,b){a&&Jc(this,a,b)}x(Ic,M);e=Ic.prototype;e.target=null;e.relatedTarget=null;e.offsetX=0;e.offsetY=0;e.clientX=0;e.clientY=0;e.screenX=0;e.screenY=0;e.button=0;e.keyCode=0;e.charCode=0;e.ctrlKey=!1;e.altKey=!1;e.shiftKey=!1;e.metaKey=!1;e.Rb=null;
function Jc(a,b,c){var d=a.type=b.type;M.call(a,d);a.target=b.target||b.srcElement;a.currentTarget=c;if(c=b.relatedTarget){if(B){var f;a:{try{Hc(c.nodeName);f=!0;break a}catch(g){}f=!1}f||(c=null)}}else"mouseover"==d?c=b.fromElement:"mouseout"==d&&(c=b.toElement);a.relatedTarget=c;a.offsetX=C||void 0!==b.offsetX?b.offsetX:b.layerX;a.offsetY=C||void 0!==b.offsetY?b.offsetY:b.layerY;a.clientX=void 0!==b.clientX?b.clientX:b.pageX;a.clientY=void 0!==b.clientY?b.clientY:b.pageY;a.screenX=b.screenX||0;
a.screenY=b.screenY||0;a.button=b.button;a.keyCode=b.keyCode||0;a.charCode=b.charCode||("keypress"==d?b.keyCode:0);a.ctrlKey=b.ctrlKey;a.altKey=b.altKey;a.shiftKey=b.shiftKey;a.metaKey=b.metaKey;a.state=b.state;a.Rb=b;b.defaultPrevented&&a.preventDefault();delete a.ea}e.preventDefault=function(){Ic.i.preventDefault.call(this);var a=this.Rb;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ec)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};e.f=function(){};var Kc={},N={},O={},Lc={};function Mc(a,b,c,d,f){if(p(b)){for(var g=0;g<b.length;g++)Mc(a,b[g],c,d,f);return null}c=Nc(c);return zc(a)?a.Ra(b,c,d,f):Oc(a,b,c,!1,d,f)}
function Oc(a,b,c,d,f,g){if(!b)throw Error("Invalid event type");f=!!f;var h=N;b in h||(h[b]={e:0});h=h[b];f in h||(h[f]={e:0},h.e++);var h=h[f],k=r(a),s;if(h[k]){s=h[k];for(var n=0;n<s.length;n++)if(h=s[n],h.J==c&&h.Z==g){if(h.Q)break;d||(s[n].fa=!1);return s[n]}}else s=h[k]=[],h.e++;n=Pc();h=new Bc(c,n,a,b,f,g);h.fa=d;n.src=a;n.J=h;s.push(h);O[k]||(O[k]=[]);O[k].push(h);a.addEventListener?a.addEventListener(b,n,f):a.attachEvent(b in Lc?Lc[b]:Lc[b]="on"+b,n);return Kc[h.key]=h}
function Pc(){var a=Qc,b=Dc?function(c){return a.call(b.src,b.J,c)}:function(c){c=a.call(b.src,b.J,c);if(!c)return c};return b}function P(a,b,c,d,f){if(p(b)){for(var g=0;g<b.length;g++)P(a,b[g],c,d,f);return null}c=Nc(c);return zc(a)?a.wb(b,c,d,f):Oc(a,b,c,!0,d,f)}function Rc(a,b,c,d,f){if(p(b))for(var g=0;g<b.length;g++)Rc(a,b[g],c,d,f);else if(c=Nc(c),zc(a))a.ma(b,c,d,f);else if(d=!!d,a=Sc(a,b,d))for(g=0;g<a.length;g++)if(a[g].J==c&&a[g].capture==d&&a[g].Z==f){Tc(a[g]);break}}
function Tc(a){if(fa(a)||!a||a.Q)return!1;var b=a.src;if(zc(b))return Uc(b.B,a);var c=a.type,d=a.dc,f=a.capture;b.removeEventListener?b.removeEventListener(c,d,f):b.detachEvent&&b.detachEvent(c in Lc?Lc[c]:Lc[c]="on"+c,d);b=r(b);O[b]&&(d=O[b],Na(d,a),0==d.length&&delete O[b]);Cc(a);if(d=N[c][f][b])Na(d,a),0==d.length&&(delete N[c][f][b],N[c][f].e--),0==N[c][f].e&&(delete N[c][f],N[c].e--),0==N[c].e&&delete N[c];delete Kc[a.key];return!0}
function Vc(a){var b=0;if(null!=a)if(a&&zc(a))a.B&&a.B.ya(void 0);else{if(a=r(a),O[a]){a=O[a];for(var c=a.length-1;0<=c;c--)Tc(a[c]),b++}}else za(Kc,function(a){Tc(a);b++})}function Sc(a,b,c){var d=N;return b in d&&(d=d[b],c in d&&(d=d[c],a=r(a),d[a]))?d[a]:null}function Wc(a,b,c){var d=1;b=r(b);if(a[b])for(a=Pa(a[b]),b=0;b<a.length;b++){var f=a[b];f&&!f.Q&&(d&=!1!==Xc(f,c))}return Boolean(d)}function Xc(a,b){var c=a.J,d=a.Z||a.src;a.fa&&Tc(a);return c.call(d,b)}
function Qc(a,b){if(a.Q)return!0;var c=a.type,d=N;if(!(c in d))return!0;var d=d[c],f,g;if(!Dc){f=b||ba("window.event");var c=!0 in d,h=!1 in d;if(c){if(0>f.keyCode||void 0!=f.returnValue)return!0;a:{var k=!1;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(s){k=!0}if(k||void 0==f.returnValue)f.returnValue=!0}}k=new Ic;Jc(k,f,this);f=!0;try{if(c){for(var n=[],v=k.currentTarget;v;v=v.parentNode)n.push(v);g=d[!0];for(var u=n.length-1;!k.ea&&0<=u;u--)k.currentTarget=n[u],f&=Wc(g,n[u],k);if(h)for(g=d[!1],
u=0;!k.ea&&u<n.length;u++)k.currentTarget=n[u],f&=Wc(g,n[u],k)}else f=Xc(a,k)}finally{n&&(n.length=0)}return f}d=new Ic(b,this);return f=Xc(a,d)}var Yc="__closure_events_fn_"+(1E9*Math.random()>>>0);function Nc(a){return ga(a)?a:a[Yc]||(a[Yc]=function(b){return a.handleEvent(b)})};var Q={};var R;
R={uc:["BC","AD"],tc:["Before Christ","Anno Domini"],yc:"JFMAMJJASOND".split(""),Ec:"JFMAMJJASOND".split(""),xc:"January February March April May June July August September October November December".split(" "),Dc:"January February March April May June July August September October November December".split(" "),Ac:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Gc:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Jc:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ic:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
Cc:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Hc:"Sun Mon Tue Wed Thu Fri Sat".split(" "),Ad:"SMTWTFS".split(""),Fc:"SMTWTFS".split(""),Bc:["Q1","Q2","Q3","Q4"],zc:["1st quarter","2nd quarter","3rd quarter","4th quarter"],rc:["AM","PM"],Gb:["EEEE, MMMM d, y","MMMM d, y","MMM d, y","M/d/yy"],Hb:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],sc:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],vc:6,Bd:[5,6],wc:5};function Zc(a,b,c){fa(a)?(this.b=new Date(a,b||0,c||1),$c(this,c||1)):ha(a)?(this.b=new Date(a.getFullYear(),a.getMonth(),a.getDate()),$c(this,a.getDate())):(this.b=new Date(w()),this.b.setHours(0),this.b.setMinutes(0),this.b.setSeconds(0),this.b.setMilliseconds(0))}e=Zc.prototype;e.Ha=R.vc;e.Ia=R.wc;e.r=function(){var a=new Zc(this.b);a.Ha=this.Ha;a.Ia=this.Ia;return a};e.getFullYear=function(){return this.b.getFullYear()};e.getYear=function(){return this.getFullYear()};e.getMonth=function(){return this.b.getMonth()};
e.getDate=function(){return this.b.getDate()};e.getTime=function(){return this.b.getTime()};e.getDay=function(){return this.b.getDay()};e.getUTCFullYear=function(){return this.b.getUTCFullYear()};e.getUTCMonth=function(){return this.b.getUTCMonth()};e.getUTCDate=function(){return this.b.getUTCDate()};e.getUTCHours=function(){return this.b.getUTCHours()};e.getUTCMinutes=function(){return this.b.getUTCMinutes()};e.getTimezoneOffset=function(){return this.b.getTimezoneOffset()};
function ad(a){a=a.getTimezoneOffset();if(0==a)a="Z";else{var b=Math.abs(a)/60,c=Math.floor(b),b=60*(b-c);a=(0<a?"-":"+")+y(c,2)+":"+y(b,2)}return a}e.set=function(a){this.b=new Date(a.getFullYear(),a.getMonth(),a.getDate())};e.setFullYear=function(a){this.b.setFullYear(a)};e.setMonth=function(a){this.b.setMonth(a)};e.setDate=function(a){this.b.setDate(a)};
e.add=function(a){if(a.zd||a.kd){var b=this.getMonth()+a.kd+12*a.zd,c=this.getYear()+Math.floor(b/12),b=b%12;0>b&&(b+=12);var d;a:{switch(b){case 1:d=0!=c%4||0==c%100&&0!=c%400?28:29;break a;case 5:case 8:case 10:case 3:d=30;break a}d=31}d=Math.min(d,this.getDate());this.setDate(1);this.setFullYear(c);this.setMonth(b);this.setDate(d)}a.Uc&&(a=new Date((new Date(this.getYear(),this.getMonth(),this.getDate(),12)).getTime()+864E5*a.Uc),this.setDate(1),this.setFullYear(a.getFullYear()),this.setMonth(a.getMonth()),
this.setDate(a.getDate()),$c(this,a.getDate()))};e.$a=function(a,b){return[this.getFullYear(),y(this.getMonth()+1,2),y(this.getDate(),2)].join(a?"-":"")+(b?ad(this):"")};e.toString=function(){return this.$a()};function $c(a,b){a.getDate()!=b&&a.b.setUTCHours(a.b.getUTCHours()+(a.getDate()<b?1:-1))}e.valueOf=function(){return this.b.valueOf()};function bd(a,b,c,d,f,g,h){this.b=fa(a)?new Date(a,b||0,c||1,d||0,f||0,g||0,h||0):new Date(a?a.getTime():w())}x(bd,Zc);e=bd.prototype;e.getHours=function(){return this.b.getHours()};
e.getMinutes=function(){return this.b.getMinutes()};e.getSeconds=function(){return this.b.getSeconds()};e.getMilliseconds=function(){return this.b.getMilliseconds()};e.getUTCHours=function(){return this.b.getUTCHours()};e.getUTCMinutes=function(){return this.b.getUTCMinutes()};e.setHours=function(a){this.b.setHours(a)};e.setMinutes=function(a){this.b.setMinutes(a)};e.setSeconds=function(a){this.b.setSeconds(a)};e.setMilliseconds=function(a){this.b.setMilliseconds(a)};e.setUTCHours=function(a){this.b.setUTCHours(a)};
e.add=function(a){Zc.prototype.add.call(this,a);a.cd&&this.setHours(this.b.getHours()+a.cd);a.jd&&this.setMinutes(this.b.getMinutes()+a.jd);a.qd&&this.setSeconds(this.b.getSeconds()+a.qd)};e.$a=function(a,b){var c=Zc.prototype.$a.call(this,a);return a?c+" "+y(this.getHours(),2)+":"+y(this.getMinutes(),2)+":"+y(this.getSeconds(),2)+(b?ad(this):""):c+"T"+y(this.getHours(),2)+y(this.getMinutes(),2)+y(this.getSeconds(),2)+(b?ad(this):"")};e.toString=function(){return this.$a()};
e.r=function(){var a=new bd(this.b);a.Ha=this.Ha;a.Ia=this.Ia;return a};function cd(a){this.src=a;this.p={}}cd.prototype.add=function(a,b,c,d,f){var g=this.p[a];g||(g=this.p[a]=[]);var h=dd(g,b,d,f);-1<h?(a=g[h],c||(a.fa=!1)):(a=new Bc(b,null,this.src,a,!!d,f),a.fa=c,g.push(a));return a};cd.prototype.remove=function(a,b,c,d){if(!(a in this.p))return!1;var f=this.p[a];b=dd(f,b,c,d);return-1<b?(Cc(f[b]),z.splice.call(f,b,1),0==f.length&&delete this.p[a],!0):!1};
function Uc(a,b){var c=b.type;if(!(c in a.p))return!1;var d=Na(a.p[c],b);d&&(Cc(b),0==a.p[c].length&&delete a.p[c]);return d}cd.prototype.ya=function(a){var b=0,c;for(c in this.p)if(!a||c==a){for(var d=this.p[c],f=0;f<d.length;f++)++b,d[f].Q=!0;delete this.p[c]}return b};cd.prototype.rb=function(a,b,c,d){a=this.p[a];var f=-1;a&&(f=dd(a,b,c,d));return-1<f?a[f]:null};function dd(a,b,c,d){for(var f=0;f<a.length;++f){var g=a[f];if(!g.Q&&g.J==b&&g.capture==!!c&&g.Z==d)return f}return-1};function S(){L.call(this);this.B=new cd(this);this.Lc=this}x(S,L);S.prototype[yc]=!0;e=S.prototype;e.Cb=null;e.addEventListener=function(a,b,c,d){Mc(this,a,b,c,d)};e.removeEventListener=function(a,b,c,d){Rc(this,a,b,c,d)};
e.dispatchEvent=function(a){var b,c=this.Cb;if(c)for(b=[];c;c=c.Cb)b.push(c);var c=this.Lc,d=a.type||a;if(q(a))a=new M(a,c);else if(a instanceof M)a.target=a.target||c;else{var f=a;a=new M(d,c);Fa(a,f)}var f=!0,g;if(b)for(var h=b.length-1;!a.ea&&0<=h;h--)g=a.currentTarget=b[h],f=ed(g,d,!0,a)&&f;a.ea||(g=a.currentTarget=c,f=ed(g,d,!0,a)&&f,a.ea||(f=ed(g,d,!1,a)&&f));if(b)for(h=0;!a.ea&&h<b.length;h++)g=a.currentTarget=b[h],f=ed(g,d,!1,a)&&f;return f};
e.f=function(){S.i.f.call(this);this.B&&this.B.ya(void 0);this.Cb=null};e.Ra=function(a,b,c,d){return this.B.add(a,b,!1,c,d)};e.wb=function(a,b,c,d){return this.B.add(a,b,!0,c,d)};e.ma=function(a,b,c,d){return this.B.remove(a,b,c,d)};function ed(a,b,c,d){b=a.B.p[b];if(!b)return!0;b=Pa(b);for(var f=!0,g=0;g<b.length;++g){var h=b[g];if(h&&!h.Q&&h.capture==c){var k=h.J,s=h.Z||h.src;h.fa&&Uc(a.B,h);f=!1!==k.call(s,d)&&f}}return f&&!1!=d.fc}e.rb=function(a,b,c,d){return this.B.rb(a,b,c,d)};function fd(a,b,c){if(ga(a))c&&(a=t(a,c));else if(a&&"function"==typeof a.handleEvent)a=t(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:l.setTimeout(a,b||0)};function gd(a,b,c){L.call(this);this.xb=a;this.ed=b||0;this.I=c;this.Oc=t(this.Wc,this)}x(gd,L);e=gd.prototype;e.sa=0;e.f=function(){gd.i.f.call(this);this.stop();delete this.xb;delete this.I};e.start=function(a){this.stop();this.sa=fd(this.Oc,m(a)?a:this.ed)};e.stop=function(){this.Pa()&&l.clearTimeout(this.sa);this.sa=0};e.Pa=function(){return 0!=this.sa};e.Wc=function(){this.sa=0;this.xb&&this.xb.call(this.I)};function T(a){S.call(this);a=a||{};this.id=a.id||null;this.qc=a.type||"unknown";this.duration=a.duration||10;this.a=ub("div")}x(T,S);e=T.prototype;e.c=I("concerto.frontend.Content");function hd(a){a.c.info("Content "+a.qc+" "+a.id+" is starting to load.");a.lc=new bd;a.oc=new gd(a.Yc,1E3*a.duration,a);P(a,id,a.sd,!1,a);a.dispatchEvent(jd);a.ba()}e.jb=function(a,b){b=b||this.a;F(b,a)};e.ba=function(){kd(this)};
function kd(a){a.Qb=new bd;a.c.info("Content "+a.id+" is done loading. Took: "+(a.Qb.getMilliseconds()-a.lc.getMilliseconds())+"ms.");a.dispatchEvent(ld)}e.sd=function(){this.oc.start()};e.Yc=function(){this.dispatchEvent(md)};e.m=function(){Vc(this);this.oc.m();this.Qb=this.lc=this.a=null};var jd="a",ld="b",id="d",md="g";function nd(a,b,c){S.call(this);this.field=a;this.l=b||null;this.v=c||null}x(nd,S);e=nd.prototype;e.go=function(){null!=this.l?this.Bb():null!=this.v&&this.Oa()};e.Bb=function(){this.l.dispatchEvent("e");this.Ab()};e.Ab=function(){var a=this.l.s;a&&a.parentNode&&a.parentNode.removeChild(a);this.l.dispatchEvent("f");null!=this.v&&this.Oa()};e.Oa=function(){this.v.dispatchEvent("c");this.field.P(this.v.s);this.tb()};e.tb=function(){this.v.dispatchEvent(id)};function od(a,b,c){b=new ob(b,c);c=100;var d=a.cloneNode(!0);d.style.display="none";document.body.appendChild(d);for(F(d,"fontSize",c+"px");1<c&&!pb(Eb(d),b);)F(d,"fontSize",--c+"px");document.body.removeChild(d);delete d;F(a,"fontSize",c+"px");return a};function pd(a){T.call(this,a);this.G=a.field.size.height;this.H=a.field.size.width;this.dd=a.render_details.data}x(pd,T);Q.HtmlText=pd;pd.prototype.ba=function(){this.a.innerHTML=this.dd;this.a=od(this.a,this.H,this.G);kd(this)};function qd(a){L.call(this);this.I=a;this.h={}}x(qd,L);var rd=[];e=qd.prototype;e.Ra=function(a,b,c,d,f){p(b)||(rd[0]=b,b=rd);for(var g=0;g<b.length;g++){var h=Mc(a,b[g],c||this,d||!1,f||this.I||this);if(!h)break;this.h[h.key]=h}return this};e.wb=function(a,b,c,d,f){if(p(b))for(var g=0;g<b.length;g++)this.wb(a,b[g],c,d,f);else a=P(a,b,c||this,d,f||this.I||this),this.h[a.key]=a;return this};
e.ma=function(a,b,c,d,f){if(p(b))for(var g=0;g<b.length;g++)this.ma(a,b[g],c,d,f);else{a:if(f=f||this.I||this,d=!!d,c=Nc(c||this),zc(a))a=a.rb(b,c,d,f);else{if(a=Sc(a,b,d))for(b=0;b<a.length;b++)if(!a[b].Q&&a[b].J==c&&a[b].capture==d&&a[b].Z==f){a=a[b];break a}a=null}a&&(Tc(a),delete this.h[a.key])}return this};e.ya=function(){za(this.h,Tc);this.h={}};e.f=function(){qd.i.f.call(this);this.ya()};e.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function sd(a){S.call(this);this.ua={};this.ta={};this.I=new qd(this);this.W=a}x(sd,S);var td=[A?"readystatechange":"load","abort","error"];sd.prototype.start=function(){var a=this.ua;Ha(Ca(a),function(b){var c=a[b];if(c&&(delete a[b],!this.ha)){var d;d=this.W?(this.W?new Bb(Ab(this.W)):Ra||(Ra=new Bb)).Tc("img"):new Image;this.I.Ra(d,td,this.bc);this.ta[b]=d;d.id=b;d.src=c}},this)};
sd.prototype.bc=function(a){var b=a.currentTarget;if(b){if("readystatechange"==a.type)if("complete"==b.readyState)a.type="load";else return;"undefined"==typeof b.naturalWidth&&("load"==a.type?(b.naturalWidth=b.width,b.naturalHeight=b.height):(b.naturalWidth=0,b.naturalHeight=0));this.dispatchEvent({type:a.type,target:b});!this.ha&&(a=b.id,delete this.ua[a],b=this.ta[a])&&(delete this.ta[a],this.I.ma(b,td,this.bc),Da(this.ta)&&Da(this.ua)&&this.dispatchEvent("complete"))}};
sd.prototype.f=function(){delete this.ua;delete this.ta;var a=this.I;a&&"function"==typeof a.m&&a.m();sd.i.f.call(this)};function U(a){T.call(this,a);this.wa=new sd;P(this.wa,"load",this.gd,!1,this);this.G=a.field.size.height;this.H=a.field.size.width;this.$=null;a=new lc(a.render_details.path);var b=this.G;J(a);a.D.set("height",b);b=this.H;J(a);a.D.set("width",b);a=a.toString();(a=q(a)?a:a.src)&&(this.wa.ua.graphic=a)}x(U,T);Q.Graphic=U;U.prototype.ba=function(){this.wa.start()};
U.prototype.gd=function(a){this.c.info("Content "+this.qc+" "+this.id+" is in .loaderFinish_");this.$=a.target;this.a.appendChild(this.$);F(this.$,"margin",(this.G-this.$.height)/2+"px "+(this.H-this.$.width)/2+"px");H(this.a,"100%","100%");kd(this)};
U.prototype.jb=function(a){U.i.jb.call(this,a,void 0!=this.a.firstElementChild?this.a.firstElementChild:zb(this.a.firstChild));F(this.a,"position","absolute");var b=void 0!=this.a.firstElementChild?this.a.firstElementChild:zb(this.a.firstChild);a=this.$.width;var c=this.$.height,d;d="CSS1Compat"==(Ab(b)?new Bb(Ab(Ab(b))):Ra||(Ra=new Bb)).Ga.compatMode;if(!A||d&&D("8")){var f=b.style;B?f.MozBoxSizing="border-box":C?f.WebkitBoxSizing="border-box":f.boxSizing="border-box";f.width=Math.max(a,0)+"px";
f.height=Math.max(c,0)+"px"}else if(f=b.style,d){if(A){d=Hb(b,"paddingLeft");var g=Hb(b,"paddingRight"),h=Hb(b,"paddingTop"),k=Hb(b,"paddingBottom");d=new E(h,g,k,d)}else d=G(b,"paddingLeft"),g=G(b,"paddingRight"),h=G(b,"paddingTop"),k=G(b,"paddingBottom"),d=new E(parseFloat(h),parseFloat(g),parseFloat(k),parseFloat(d));A?(g=Jb(b,"borderLeft"),h=Jb(b,"borderRight"),k=Jb(b,"borderTop"),b=Jb(b,"borderBottom"),b=new E(k,h,b,g)):(g=G(b,"borderLeftWidth"),h=G(b,"borderRightWidth"),k=G(b,"borderTopWidth"),
b=G(b,"borderBottomWidth"),b=new E(parseFloat(k),parseFloat(h),parseFloat(b),parseFloat(g)));f.pixelWidth=a-b.left-d.left-d.right-b.right;f.pixelHeight=c-b.top-d.top-d.bottom-b.bottom}else f.pixelWidth=a,f.pixelHeight=c};U.prototype.m=function(){U.i.m.call(this);this.wa.m();this.wa=null};function ud(a){T.call(this,a);this.G=a.field.size.height;this.H=a.field.size.width;this.o=null;this.xd=a.render_details.path;this.duration+=1}x(ud,T);Q.RemoteVideo=ud;ud.prototype.ba=function(){this.o=document.createElement("iframe");this.o.src=this.xd;this.o.Zc=0;H(this.o,"100%","100%");H(this.a,"100%","100%");F(this.o,"border",0);this.a.appendChild(this.o);kd(this)};function vd(a){T.call(this,a);this.text=a.render_details.data;this.G=a.field.size.height;this.H=a.field.size.width}x(vd,T);Q.Ticker=vd;
vd.prototype.ba=function(){yb(this.a);var a;var b="<div>"+this.text+"</div>",c=document;a=c.createElement("div");A?(a.innerHTML="<br>"+b,a.removeChild(a.firstChild)):a.innerHTML=b;if(1==a.childNodes.length)a=a.removeChild(a.firstChild);else{for(b=c.createDocumentFragment();a.firstChild;)b.appendChild(a.firstChild);a=b}this.a.appendChild(a);this.a=od(this.a,this.H,this.G);kd(this)};function wd(a){T.call(this,a);this.G=a.field.size.height;this.H=a.field.size.width;this.o=null;this.url=a.render_details.path;this.duration+=1}x(wd,T);Q.Iframe=wd;wd.prototype.ba=function(){this.o=document.createElement("iframe");this.o.src=this.url;this.o.Zc=0;this.o.scrolling="no";H(this.o,"100%","100%");H(this.a,"100%","100%");F(this.o,"border",0);this.a.appendChild(this.o);kd(this)};function xd(){}function yd(a){if("number"==typeof a){var b=new xd;b.Ya=a;var c;c=a;if(0==c)c="Etc/GMT";else{var d=["Etc/GMT",0>c?"-":"+"];c=Math.abs(c);d.push(Math.floor(c/60)%100);c%=60;0!=c&&d.push(":",y(c,2));c=d.join("")}b.mc=c;0==a?a="UTC":(c=["UTC",0>a?"+":"-"],a=Math.abs(a),c.push(Math.floor(a/60)%100),a%=60,0!=a&&c.push(":",a),a=c.join(""));b.Fb=[a,a];b.ab=[];return b}b=new xd;b.mc=a.id;b.Ya=-a.std_offset;b.Fb=a.names;b.ab=a.transitions;return b}
function zd(a,b){for(var c=Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes())/36E5,d=0;d<a.ab.length&&c>=a.ab[d];)d+=2;return 0==d?0:a.ab[d-1]};function Ad(a){this.Ta=[];"number"==typeof a?Bd(this,a):Cd(this,a)}var Dd=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvzZ]+/];function Cd(a,b){for(;b;)for(var c=0;c<Dd.length;++c){var d=b.match(Dd[c]);if(d){d=d[0];b=b.substring(d.length);0==c&&("''"==d?d="'":(d=d.substring(1,d.length-1),d=d.replace(/\'\'/,"'")));a.Ta.push({text:d,type:c});break}}}
function Ed(a,b,c){var d=c?6E4*(b.getTimezoneOffset()-(c.Ya-zd(c,b))):0,f=d?new Date(b.getTime()+d):b,g=f;c&&f.getTimezoneOffset()!=b.getTimezoneOffset()&&(g=new Date(b.getTime()+(d+(0<d?-864E5:864E5))));for(var d=[],h=0;h<a.Ta.length;++h){var k=a.Ta[h].text;1==a.Ta[h].type?d.push(Fd(k,b,f,g,c)):d.push(k)}return d.join("")}
function Bd(a,b){var c;if(4>b)c=R.Gb[b];else if(8>b)c=R.Hb[b-4];else if(12>b)c=R.sc[b-8],c=c.replace("{1}",R.Gb[b-8]),c=c.replace("{0}",R.Hb[b-8]);else{Bd(a,10);return}Cd(a,c)}function V(a){if(void 0===R.Kc)return a;for(var b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);b.push(48<=d&&57>=d?String.fromCharCode(R.Kc+d-48):a.charAt(c))}return b.join("")}
function Fd(a,b,c,d,f){var g=a.length;switch(a.charAt(0)){case "G":return b=0<c.getFullYear()?1:0,4<=g?R.tc[b]:R.uc[b];case "y":return b=c.getFullYear(),0>b&&(b=-b),V(2==g?y(b%100,2):String(b));case "M":a:switch(b=c.getMonth(),g){case 5:g=R.yc[b];break a;case 4:g=R.xc[b];break a;case 3:g=R.Ac[b];break a;default:g=V(y(b+1,g))}return g;case "k":return V(y(d.getHours()||24,g));case "S":return V((d.getTime()%1E3/1E3).toFixed(Math.min(3,g)).substr(2)+(3<g?y(0,g-3):""));case "E":return b=c.getDay(),4<=
g?R.Jc[b]:R.Cc[b];case "a":return g=d.getHours(),R.rc[12<=g&&24>g?1:0];case "h":return V(y(d.getHours()%12||12,g));case "K":return V(y(d.getHours()%12,g));case "H":return V(y(d.getHours(),g));case "c":a:switch(b=c.getDay(),g){case 5:g=R.Fc[b];break a;case 4:g=R.Ic[b];break a;case 3:g=R.Hc[b];break a;default:g=V(y(b,1))}return g;case "L":a:switch(b=c.getMonth(),g){case 5:g=R.Ec[b];break a;case 4:g=R.Dc[b];break a;case 3:g=R.Gc[b];break a;default:g=V(y(b+1,g))}return g;case "Q":return b=Math.floor(c.getMonth()/
3),4>g?R.Bc[b]:R.zc[b];case "d":return V(y(c.getDate(),g));case "m":return V(y(d.getMinutes(),g));case "s":return V(y(d.getSeconds(),g));case "v":return g=f||yd(b.getTimezoneOffset()),g.mc;case "z":return a=f||yd(b.getTimezoneOffset()),4>g?a.Fb[0<zd(a,b)?2:0]:a.Fb[0<zd(a,b)?3:1];case "Z":return a=f||yd(b.getTimezoneOffset()),4>g?(g=-(a.Ya-zd(a,b)),b=[0>g?"-":"+"],g=Math.abs(g),b.push(y(Math.floor(g/60)%100,2),y(g%60,2)),g=b.join("")):(g=a.Ya-zd(a,b),b=["GMT"],b.push(0>=g?"+":"-"),g=Math.abs(g),b.push(y(Math.floor(g/
60)%100,2),":",y(g%60,2)),g=V(b.join(""))),g;default:return""}};function Gd(a){T.call(this,a);this.G=a.field.size.height;this.H=a.field.size.width;this.Eb=a.timezone;this.qb=a.field.config?a.field.config.format:null}x(Gd,T);Q.ClientTime=Gd;
Gd.prototype.ba=function(){var a=new bd,b=new Ad(2),c=new Ad(7),b=Ed(b,a,this.Eb)+" "+Ed(c,a,this.Eb);null!=this.qb&&""!=this.qb.trim()&&(b=Ed(new Ad(this.qb),a,this.Eb));a=this.a;if("textContent"in a)a.textContent=b;else if(a.firstChild&&3==a.firstChild.nodeType){for(;a.lastChild!=a.firstChild;)a.removeChild(a.lastChild);a.firstChild.data=b}else yb(a),a.appendChild(Ab(a).createTextNode(String(b)));this.a=od(this.a,this.H,this.G);kd(this)};function Hd(){this.T=[]}e=Hd.prototype;e.C=0;e.X=0;e.ia=function(a){this.T[this.X++]=a};e.Y=function(){if(this.C!=this.X){var a=this.T[this.C];delete this.T[this.C];this.C++;return a}};e.Ua=function(){return this.C==this.X?void 0:this.T[this.C]};e.j=function(){return this.X-this.C};e.u=function(){return 0==this.X-this.C};e.clear=function(){this.X=this.C=this.T.length=0};e.remove=function(a){a=Ga(this.T,a);if(0>a)return!1;a==this.C?this.Y():(z.splice.call(this.T,a,1),this.X--);return!0};
e.n=function(){return this.T.slice(this.C,this.X)};function Id(a,b,c,d,f,g){S.call(this);if(null!=g)for(var h in g)g.hasOwnProperty(h)&&this.c.info("Field "+b+" has configuration "+h+": "+g[h]);this.position=a;this.id=b;this.name=c;this.Sc=d;this.l=null;this.V=new Hd;this.Mc=!0;this.ud=f;this.Mb=g;this.Qc=this.position.Ba.screen.Nb;null==this.a&&(a=ub("div",{id:"field_"+this.id,"class":"field"}),H(a,"100%","100%"),this.position.P(a),this.a=a);Jd(this)}x(Id,S);Id.prototype.c=I("concerto.frontend.Field");Id.prototype.P=function(a){this.a.appendChild(a)};
function Kd(a){a.c.info("Field "+a.id+" is looking for new content.");if("Time"==a.name){var b={duration:15,id:0,name:"System Time",type:"ClientTime",render_details:{data:null},field:{size:Eb(a.position.a),config:a.Mb}},b=new Q.ClientTime(b);a.V.ia(b);P(b,ld,a.kc,!1,a);P(b,md,a.Kb,!1,a);hd(a.V.Ua())}else b=a.position.Ba.screen.La(),a.Qc.send("field"+a.id,a.Sc+"?"+b.toString(),"GET","",null,1,t(function(a){a=a.target;if(!Ld(a))return this.c.log(bc,"Field "+this.id+" was unable to fetch content. "+
(q(a.U)?a.U:String(a.U)),void 0),setTimeout(t(function(){Jd(this,!0)},this),10);a=Md(a);if(!a.length)return this.c.info("Field "+this.id+" received empty content."),setTimeout(t(function(){Jd(this,!0)},this),10);Ha(a,t(function(a){a.field={size:Eb(this.position.a),config:this.Mb};if(a.type in Q){var b=new Q[a.type](a);this.V.ia(b);this.c.info("Field "+this.id+" queued "+a.type+" content "+a.id);P(b,ld,this.kc,!1,this);P(b,md,this.Kb,!1,this)}else this.c.log(bc,"Field "+this.id+" Unable to find "+
a.type+" renderer for content "+a.id,void 0)},this));!this.V.u()&&hd(this.V.Ua())},a))}Id.prototype.kc=function(){this.c.info("Field "+this.id+" is showing new content.");var a=this.V.Y();a.jb(Nd(this.position));a.c.info("Content "+a.id+" is being rendered.");a.s=a.a;(new this.ud(this,this.l,a)).go();Vc(this.Wa);this.Wa&&this.Wa.m();this.Wa=null;this.Wa=this.l;this.l=a};
function Jd(a,b){b=b||!1;a.c.info("Field "+a.id+" would like a new piece of content (error state: "+b+" ).");a.V.u()?(a.c.info("Field "+a.id+" needs to look for more content [queue is empty]."),b?(a.c.info("In error state, sleeping for "+Od+" seconds."),setTimeout(t(function(){Kd(this)},a),1E3*Od)):Kd(a)):(a.c.info("Field "+a.id+" is getting content from its queue."),hd(a.V.Ua()))}
Id.prototype.Kb=function(){this.Mc?(this.c.info("Field "+this.id+" is auto-advancing."),Jd(this)):this.c.info("Field "+this.id+" is not advancing.")};var Od=10+50*Math.random();var Pd={},Qd=null;function Rd(a){a=r(a);delete Pd[a];Da(Pd)&&Qd&&Qd.stop()}function Sd(){Qd||(Qd=new gd(function(){Td()},20));var a=Qd;a.Pa()||a.start()}function Td(){var a=w();za(Pd,function(b){Ud(b,a)});Da(Pd)||Sd()};function Vd(){S.call(this);this.K=Wd;this.Pb=this.startTime=null}x(Vd,S);var Wd=0;Vd.prototype.ca=function(){this.L("begin")};Vd.prototype.ka=function(){this.L("end")};Vd.prototype.L=function(a){this.dispatchEvent(a)};function Xd(a,b,c,d){Vd.call(this);if(!p(a)||!p(b))throw Error("Start and end parameters must be arrays");if(a.length!=b.length)throw Error("Start and end points must be the same length");this.Aa=a;this.Xc=b;this.duration=c;this.Jb=d;this.coords=[];this.wd=!1}x(Xd,Vd);e=Xd.prototype;e.A=0;
e.play=function(a){if(a||this.K==Wd)this.A=0,this.coords=this.Aa;else if(1==this.K)return!1;Rd(this);this.startTime=a=w();-1==this.K&&(this.startTime-=this.duration*this.A);this.Pb=this.startTime+this.duration;this.A||this.ca();this.L("play");-1==this.K&&this.L("resume");this.K=1;var b=r(this);b in Pd||(Pd[b]=this);Sd();Ud(this,a);return!0};e.stop=function(a){Rd(this);this.K=Wd;a&&(this.A=1);Yd(this,this.A);this.L("stop");this.ka()};e.f=function(){this.K==Wd||this.stop(!1);this.L("destroy");Xd.i.f.call(this)};
function Ud(a,b){a.A=(b-a.startTime)/(a.Pb-a.startTime);1<=a.A&&(a.A=1);Yd(a,a.A);1==a.A?(a.K=Wd,Rd(a),a.L("finish"),a.ka()):1==a.K&&a.zb()}function Yd(a,b){ga(a.Jb)&&(b=a.Jb(b));a.coords=Array(a.Aa.length);for(var c=0;c<a.Aa.length;c++)a.coords[c]=(a.Xc[c]-a.Aa[c])*b+a.Aa[c]}e.zb=function(){this.L("animate")};e.L=function(a){this.dispatchEvent(new Zd(a,this))};
function Zd(a,b){M.call(this,a);this.coords=b.coords;this.x=b.coords[0];this.y=b.coords[1];this.z=b.coords[2];this.duration=b.duration;this.A=b.A;this.state=b.K}x(Zd,M);function W(a,b,c,d,f){Xd.call(this,b,c,d,f);this.element=a}x(W,Xd);W.prototype.Ca=ca;W.prototype.zb=function(){this.Ca();W.i.zb.call(this)};W.prototype.ka=function(){this.Ca();W.i.ka.call(this)};W.prototype.ca=function(){this.Ca();W.i.ca.call(this)};function $d(a,b,c,d,f){if(2!=b.length||2!=c.length)throw Error("Start and end points must be 2D");W.apply(this,arguments)}x($d,W);
$d.prototype.Ca=function(){var a;if(a=this.wd)m(this.gc)||(this.gc="rtl"==(G(this.element,"direction")||(this.element.currentStyle?this.element.currentStyle.direction:null)||this.element.style&&this.element.style.direction)),a=this.gc;this.element.style[a?"right":"left"]=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};
function ae(a,b,c,d,f){fa(b)&&(b=[b]);fa(c)&&(c=[c]);W.call(this,a,b,c,d,f);if(1!=b.length||1!=c.length)throw Error("Start and end points must be 1D");}x(ae,W);ae.prototype.Ca=function(){var a=this.coords[0],b=this.element.style;"opacity"in b?b.opacity=a:"MozOpacity"in b?b.MozOpacity=a:"filter"in b&&(b.filter=""===a?"":"alpha(opacity="+100*a+")")};ae.prototype.show=function(){this.element.style.display=""};function be(a,b,c){ae.call(this,a,1,0,b,c)}x(be,ae);
be.prototype.ca=function(){this.show();be.i.ca.call(this)};be.prototype.ka=function(){this.element.style.display="none";be.i.ka.call(this)};function ce(a,b,c){ae.call(this,a,0,1,b,c)}x(ce,ae);ce.prototype.ca=function(){this.show();ce.i.ca.call(this)};function de(a,b,c){this.duration=500;nd.call(this,a,b,c)}x(de,nd);de.prototype.Bb=function(){this.l.dispatchEvent("e");var a=new be(this.l.s,this.duration);Mc(a,"end",this.Ab,!1,this);a.play()};de.prototype.Oa=function(){this.v.dispatchEvent("c");this.v.s.style.display="none";this.field.P(this.v.s);var a=new ce(this.v.s,this.duration);Mc(a,"end",this.tb,!1,this);a.play()};function ee(a){return a*a*a}function fe(a){return 1-Math.pow(1-a,3)};function ge(a,b,c){this.duration=500;nd.call(this,a,b,c)}x(ge,nd);ge.prototype.c=I("concerto.frontend.Transition.Slide");ge.prototype.Bb=function(){this.l.dispatchEvent("e");var a=new $d(this.l.s,[this.l.s.offsetLeft,this.l.s.offsetTop],[0-this.field.position.a.clientWidth,this.l.s.offsetTop],this.duration,ee);Mc(a,"end",this.Ab,!1,this);a.play()};
ge.prototype.Oa=function(){this.c.info("Field "+this.field.id+" is sliding in.");this.v.dispatchEvent("c");this.field.P(this.v.s);var a=new $d(this.v.s,[this.field.position.a.clientWidth,0],[0,0],this.duration,fe);Mc(a,"end",this.tb,!1,this);a.play()};function he(a,b){this.id=null;this.Ba=a;this.a=b||this.mb()}e=he.prototype;e.c=I("concerto.frontend.Position");e.mb=function(){var a=ub("div",{id:"position_"+this.id,"class":"position"});F(a,"position","absolute");this.Ba.P(a);return a};
e.load=function(a){this.id=a.id;this.Nc=parseFloat(a.bottom);this.Zb=parseFloat(a.left);this.pd=parseFloat(a.right);this.pc=parseFloat(a.top);this.td=a.style;var b=this.a,c=100*this.Zb+"%",d=100*this.pc+"%",f=B&&(Xa||db)&&D("1.9");b.style.left=Db(c,f);b.style.top=Db(d,f);H(this.a,100*(this.pd-this.Zb)+"%",100*(this.Nc-this.pc)+"%");b=de;c=null;if(null!=a.field.config&&(c=a.field.config,null!=c.transition))switch(c.transition.toLowerCase()){case "slide":b=ge;break;case "replace":b=nd;break;default:b=
de}this.field=new Id(this,a.field.id,a.field.name,a.field_contents_path,b,c);this.ic()};e.P=function(a){this.a.appendChild(a)};e.ic=function(){sb(this.a,{id:"position_"+this.id,"class":"position"});F(this.a,ie)};function Nd(a){a=Kb(a.td);a=Aa(a,function(a,b){return!(0<=Ga(je,b.toLowerCase()))});var b={};Fa(b,ke);Fa(b,a);return b}var je="overflow width height top left bottom right".split(" "),ie={overflow:"hidden"},ke={position:"absolute"};function le(a,b){this.screen=a;this.path=this.id=null;this.od=[];this.a=b||this.mb()}le.prototype.c=I("concerto.frontend.Template");le.prototype.mb=function(){var a=ub("div",{id:"template","class":"template"});H(a,"100%","100%");this.screen.P(a);return a};le.prototype.load=function(a){this.id=a.id;this.da=a.path;sb(this.a,{id:"template_"+this.id});me(this);null!=a.positions&&Ha(a.positions,t(function(a){var c=new he(this);c.load(a);a=this.od;0<=Ga(a,c)||a.push(c)},this))};
function me(a){var b=Eb(a.a);if(null!=a.da){var c=new lc(a.da),d=b.height;J(c);c.D.set("height",d);b=b.width;J(c);c.D.set("width",b);F(a.a,"background-image","url("+c.toString()+")")}F(a.a,"background-size","100% 100%");F(a.a,"background-repeat","no-repeat")}le.prototype.P=function(a){this.a.appendChild(a)};function ne(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function oe(){}oe.prototype.Fa=null;var pe;function qe(){}x(qe,oe);function re(a){return(a=se(a))?new ActiveXObject(a):new XMLHttpRequest}function te(a){var b={};se(a)&&(b[0]=!0,b[1]=!0);return b}
function se(a){if(!a.Wb&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Wb=d}catch(f){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Wb}pe=new qe;function X(a,b){a&&a.log(ec,b,void 0)};function ue(a){S.call(this);this.headers=new Ob;this.oa=a||null;this.S=!1;this.hb=this.d=null;this.Yb=this.Qa="";this.ja=0;this.U="";this.aa=this.ub=this.Na=this.pb=!1;this.R=0;this.Za=null;this.za=ve;this.bb=this.yd=!1}x(ue,S);var ve="",we=ue.prototype,ye=I("goog.net.XhrIo");we.c=ye;var ze=/^https?$/i,Ae=["POST","PUT"];e=ue.prototype;e.jc=function(a){this.R=Math.max(0,a)};
e.send=function(a,b,c,d){if(this.d)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Qa+"; newUri="+a);b=b?b.toUpperCase():"GET";this.Qa=a;this.U="";this.ja=0;this.Yb=b;this.pb=!1;this.S=!0;this.d=this.oa?re(this.oa):re(pe);this.hb=this.oa?this.oa.Fa||(this.oa.Fa=te(this.oa)):pe.Fa||(pe.Fa=te(pe));this.d.onreadystatechange=t(this.cc,this);try{X(this.c,Y(this,"Opening Xhr")),this.ub=!0,this.d.open(b,a,!0),this.ub=!1}catch(f){X(this.c,Y(this,"Error opening Xhr: "+f.message));
Be(this,f);return}a=c||"";var g=this.headers.r();d&&Nb(d,function(a,b){g.set(b,a)});d=Ka(g.N());c=l.FormData&&a instanceof l.FormData;!(0<=Ga(Ae,b))||d||c||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");Nb(g,function(a,b){this.d.setRequestHeader(b,a)},this);this.za&&(this.d.responseType=this.za);"withCredentials"in this.d&&(this.d.withCredentials=this.yd);try{Ce(this),0<this.R&&(this.bb=A&&D(9)&&fa(this.d.timeout)&&m(this.d.ontimeout),X(this.c,Y(this,"Will abort after "+this.R+
"ms if incomplete, xhr2 "+this.bb)),this.bb?(this.d.timeout=this.R,this.d.ontimeout=t(this.nc,this)):this.Za=fd(this.nc,this.R,this)),X(this.c,Y(this,"Sending request")),this.Na=!0,this.d.send(a),this.Na=!1}catch(h){X(this.c,Y(this,"Send error: "+h.message)),Be(this,h)}};function La(a){return"content-type"==a.toLowerCase()}e.nc=function(){"undefined"!=typeof aa&&this.d&&(this.U="Timed out after "+this.R+"ms, aborting",this.ja=8,X(this.c,Y(this,this.U)),this.dispatchEvent("timeout"),this.abort(8))};
function Be(a,b){a.S=!1;a.d&&(a.aa=!0,a.d.abort(),a.aa=!1);a.U=b;a.ja=5;De(a);Ee(a)}function De(a){a.pb||(a.pb=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}e.abort=function(a){this.d&&this.S&&(X(this.c,Y(this,"Aborting")),this.S=!1,this.aa=!0,this.d.abort(),this.aa=!1,this.ja=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ee(this))};e.f=function(){this.d&&(this.S&&(this.S=!1,this.aa=!0,this.d.abort(),this.aa=!1),Ee(this,!0));ue.i.f.call(this)};
e.cc=function(){this.ha||(this.ub||this.Na||this.aa?Fe(this):this.nd())};e.nd=function(){Fe(this)};
function Fe(a){if(a.S&&"undefined"!=typeof aa)if(a.hb[1]&&4==Ge(a)&&2==He(a))X(a.c,Y(a,"Local request error detected and ignored"));else if(a.Na&&4==Ge(a))fd(a.cc,0,a);else if(a.dispatchEvent("readystatechange"),4==Ge(a)){X(a.c,Y(a,"Request complete"));a.S=!1;try{if(Ld(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.ja=6;var b;try{b=2<Ge(a)?a.d.statusText:""}catch(c){X(a.c,"Can not get status: "+c.message),b=""}a.U=b+" ["+He(a)+"]";De(a)}}finally{Ee(a)}}}
function Ee(a,b){if(a.d){Ce(a);var c=a.d,d=a.hb[0]?ca:null;a.d=null;a.hb=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(f){(c=a.c)&&c.log(ac,"Problem encountered resetting onreadystatechange: "+f.message,void 0)}}}function Ce(a){a.d&&a.bb&&(a.d.ontimeout=null);fa(a.Za)&&(l.clearTimeout(a.Za),a.Za=null)}e.Pa=function(){return!!this.d};
function Ld(a){var b=He(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=jc(String(a.Qa))[1]||null,!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1)),b=!ze.test(a?a.toLowerCase():"");c=b}return c}function Ge(a){return a.d?a.d.readyState:0}function He(a){try{return 2<Ge(a)?a.d.status:-1}catch(b){return(a=a.c)&&a.log(bc,"Can not get status: "+b.message,void 0),-1}}
function Md(a){if(a.d)return ne(a.d.responseText)}function Y(a,b){return b+" ["+a.Yb+" "+a.Qa+" "+He(a)+"]"};function Ie(a,b){L.call(this);this.$b=a||0;this.Sa=b||10;if(this.$b>this.Sa)throw Error(Je);this.M=new Hd;this.O=new Rb;this.ob=0;this.vb=null;this.Da()}x(Ie,L);var Je="[goog.structs.Pool] Min can not be greater than max";e=Ie.prototype;e.Ka=function(){var a=w();if(!(null!=this.vb&&a-this.vb<this.ob)){for(var b;0<this.M.j()&&(b=this.M.Y(),!this.yb(b));)this.Da();!b&&this.j()<this.Sa&&(b=this.nb());b&&(this.vb=a,this.O.add(b));return b}};
e.pa=function(a){this.O.remove(a);this.yb(a)&&this.j()<this.Sa?this.M.ia(a):Ke(a)};e.Da=function(){for(var a=this.M;this.j()<this.$b;)a.ia(this.nb());for(;this.j()>this.Sa&&0<this.M.j();)Ke(a.Y())};e.nb=function(){return{}};function Ke(a){if("function"==typeof a.m)a.m();else for(var b in a)a[b]=null}e.yb=function(a){return"function"==typeof a.Pc?a.Pc():!0};e.j=function(){return this.M.j()+this.O.j()};e.u=function(){return this.M.u()&&this.O.u()};
e.f=function(){Ie.i.f.call(this);if(0<this.O.j())throw Error("[goog.structs.Pool] Objects not released");delete this.O;for(var a=this.M;!a.u();)Ke(a.Y());delete this.M};function Le(a,b){this.Xb=a;this.eb=b}Le.prototype.getKey=function(){return this.Xb};Le.prototype.r=function(){return new Le(this.Xb,this.eb)};function Me(a){this.w=[];if(a)a:{var b,c;if(a instanceof Me){if(b=a.N(),c=a.n(),0>=a.j()){a=this.w;for(var d=0;d<b.length;d++)a.push(new Le(b[d],c[d]));break a}}else b=Ca(a),c=Ba(a);for(d=0;d<b.length;d++)Ne(this,b[d],c[d])}}function Ne(a,b,c){var d=a.w;d.push(new Le(b,c));b=d.length-1;a=a.w;for(c=a[b];0<b;)if(d=b-1>>1,a[d].getKey()>c.getKey())a[b]=a[d],b=d;else break;a[b]=c}e=Me.prototype;
e.remove=function(){var a=this.w,b=a.length,c=a[0];if(!(0>=b)){if(1==b)Ma(a);else{a[0]=a.pop();for(var a=0,b=this.w,d=b.length,f=b[a];a<d>>1;){var g=2*a+1,h=2*a+2,g=h<d&&b[h].getKey()<b[g].getKey()?h:g;if(b[g].getKey()>f.getKey())break;b[a]=b[g];a=g}b[a]=f}return c.eb}};e.Ua=function(){var a=this.w;return 0==a.length?void 0:a[0].eb};e.n=function(){for(var a=this.w,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].eb);return b};
e.N=function(){for(var a=this.w,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};e.ga=function(a){return Ja(this.w,function(b){return b.getKey()==a})};e.r=function(){return new Me(this)};e.j=function(){return this.w.length};e.u=function(){return 0==this.w.length};e.clear=function(){Ma(this.w)};function Oe(){Me.call(this)}x(Oe,Me);Oe.prototype.ia=function(a,b){Ne(this,a,b)};Oe.prototype.Y=function(){return this.remove()};function Z(a,b){this.Xa=new Oe;Ie.call(this,a,b)}x(Z,Ie);e=Z.prototype;e.Ka=function(a,b){if(!a){var c=Z.i.Ka.call(this);c&&this.ob&&(this.Vc=l.setTimeout(t(this.Ma,this),this.ob));return c}this.Xa.ia(m(b)?b:100,a);this.Ma()};e.Ma=function(){for(var a=this.Xa;0<a.j();){var b=this.Ka();if(b)a.Y().apply(this,[b]);else break}};e.pa=function(a){Z.i.pa.call(this,a);this.Ma()};e.Da=function(){Z.i.Da.call(this);this.Ma()};e.f=function(){Z.i.f.call(this);l.clearTimeout(this.Vc);this.Xa.clear();this.Xa=null};function Pe(a,b,c){Z.call(this,b,c);this.sb=a}x(Pe,Z);Pe.prototype.nb=function(){var a=new ue,b=this.sb;b&&Nb(b,function(b,d){a.headers.set(d,b)});return a};Pe.prototype.yb=function(a){return!a.ha&&!a.Pa()};function Qe(a,b,c,d,f){S.call(this);this.xa=m(a)?a:1;this.R=m(f)?Math.max(0,f):0;this.na=new Pe(b,c,d);this.F=new Ob;this.ra=new qd(this)}x(Qe,S);var Re="ready complete success error abort timeout".split(" ");e=Qe.prototype;e.jc=function(a){this.R=Math.max(0,a)};e.send=function(a,b,c,d,f,g,h,k,s){if(this.F.get(a))throw Error("[goog.net.XhrManager] ID in use");b=new Se(b,t(this.bd,this,a),c,d,f,h,m(k)?k:this.xa,s);this.F.set(a,b);a=t(this.ad,this,a);this.na.Ka(a,g);return b};
e.abort=function(a,b){var c=this.F.get(a);if(c){var d=c.gb;c.Ib=!0;b&&(d&&(this.ra.ma(d,Re,c.fb),P(d,"ready",function(){var a=this.na;a.O.remove(d)&&a.pa(d)},!1,this)),this.F.remove(a));d&&d.abort()}};e.ad=function(a,b){var c=this.F.get(a);c&&!c.gb?(this.ra.Ra(b,Re,c.fb),b.jc(this.R),b.za=c.za,c.gb=b,this.dispatchEvent(new Te("ready",this,a,b)),Ue(this,a,b),c.Ib&&b.abort()):(c=this.na,c.O.remove(b)&&c.pa(b))};
e.bd=function(a,b){var c=b.target;switch(b.type){case "ready":Ue(this,a,c);break;case "complete":a:{var d=this.F.get(a);if(7==c.ja||Ld(c)||d.Ea>d.xa)if(this.dispatchEvent(new Te("complete",this,a,c)),d&&(d.Lb=!0,d.lb)){c=d.lb.call(c,b);break a}c=null}return c;case "success":this.dispatchEvent(new Te("success",this,a,c));break;case "timeout":case "error":d=this.F.get(a);d.Ea>d.xa&&this.dispatchEvent(new Te("error",this,a,c));break;case "abort":this.dispatchEvent(new Te("abort",this,a,c))}return null};
function Ue(a,b,c){var d=a.F.get(b);!d||d.Lb||d.Ea>d.xa?(d&&(a.ra.ma(c,Re,d.fb),a.F.remove(b)),a=a.na,a.O.remove(c)&&a.pa(c)):(d.Ea++,c.send(d.vd,d.hd,d.Rc,d.sb))}e.f=function(){Qe.i.f.call(this);this.na.m();this.na=null;this.ra.m();this.ra=null;var a=this.F;Nb(a,function(a){a.m()});a.clear();this.F=null};function Te(a,b,c,d){M.call(this,a,b);this.id=c;this.gb=d}x(Te,M);
function Se(a,b,c,d,f,g,h,k){L.call(this);this.vd=a;this.hd=c||"GET";this.Rc=d;this.sb=f||null;this.xa=m(h)?h:1;this.Ea=0;this.Ib=this.Lb=!1;this.fb=b;this.lb=g;this.za=k||ve;this.gb=null}x(Se,L);Se.prototype.f=function(){Se.i.f.call(this);delete this.fb;delete this.lb};function Ve(a,b,c){this.Nb=new Qe(2,null,0,2);this.id=a;this.options=c;this.rd=this.options.setupPath;this.name="New Screen";this.Ob=b||document.body;We(this)}var Xe=["concerto","frontend","Screen"],$=l;Xe[0]in $||!$.execScript||$.execScript("var "+Xe[0]);for(var Ye;Xe.length&&(Ye=Xe.shift());)Xe.length||void 0===Ve?$=$[Ye]?$[Ye]:$[Ye]={}:$[Ye]=Ve;Ve.prototype.c=I("concerto.frontend.Screen");
function We(a){var b=ub("div",{id:"screen_"+a.id,"class":"screen"});H(b,"100%","100%");F(b,"position","relative");yb(a.Ob);a.Ob.appendChild(b);a.a=b;b=a.La();b=a.rd+"?"+b.toString();a.c.info("Requesting screen config from "+b);a.Nb.send("setup",b,"GET","",null,1,t(function(a){a=Md(a.target);this.name=a.name;null!=a.template&&(this.Ba=new le(this),this.Ba.load(a.template))},a))}Ve.prototype.P=function(a){this.a.appendChild(a)};
Ve.prototype.La=function(){var a=new pc;this.options.isPreview&&a.add("preview","true");return a};
